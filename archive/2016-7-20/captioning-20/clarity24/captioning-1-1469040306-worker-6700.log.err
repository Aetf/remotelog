SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm/lib/log4j-slf4j-impl-2.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm/data/supervisor/stormdist/captioning-1-1469040306/stormjar.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]
2016-07-20 14:45:25,553 ERROR Logger contains an invalid element or attribute "appender"
2016-07-20 14:45:28,593 ERROR Logger contains an invalid element or attribute "appender"
Java HotSpot(TM) 64-Bit Server VM warning: You have loaded library /tmp/cvld8426797668757289064/libopencv_java310.xine1.so which might have disabled stack guard. The VM will try to fix the stack guard now.
It's highly recommended that you fix the library with 'execstack -c <libfile>', or link it with '-z noexecstack'.
WARNING: Logging before InitGoogleLogging() is written to STDERR
I0720 14:45:34.680151 32600 net.cpp:49] Initializing net from parameters: 
name: "CaffeNet"
state {
  phase: TEST
}
layer {
  name: "data"
  type: "Input"
  top: "data"
  input_param {
    shape {
      dim: 10
      dim: 3
      dim: 227
      dim: 227
    }
  }
}
layer {
  name: "conv1"
  type: "Convolution"
  bottom: "data"
  top: "conv1"
  convolution_param {
    num_output: 96
    kernel_size: 11
    stride: 4
  }
}
layer {
  name: "relu1"
  type: "ReLU"
  bottom: "conv1"
  top: "conv1"
}
layer {
  name: "pool1"
  type: "Pooling"
  bottom: "conv1"
  top: "pool1"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm1"
  type: "LRN"
  bottom: "pool1"
  top: "norm1"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv2"
  type: "Convolution"
  bottom: "norm1"
  top: "conv2"
  convolution_param {
    num_output: 256
    pad: 2
    kernel_size: 5
    group: 2
  }
}
layer {
  name: "relu2"
  type: "ReLU"
  bottom: "conv2"
  top: "conv2"
}
layer {
  name: "pool2"
  type: "Pooling"
  bottom: "conv2"
  top: "pool2"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm2"
  type: "LRN"
  bottom: "pool2"
  top: "norm2"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv3"
  type: "Convolution"
  bottom: "norm2"
  top: "conv3"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
  }
}
layer {
  name: "relu3"
  type: "ReLU"
  bottom: "conv3"
  top: "conv3"
}
layer {
  name: "conv4"
  type: "Convolution"
  bottom: "conv3"
  top: "conv4"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu4"
  type: "ReLU"
  bottom: "conv4"
  top: "conv4"
}
layer {
  name: "conv5"
  type: "Convolution"
  bottom: "conv4"
  top: "conv5"
  convolution_param {
    num_output: 256
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu5"
  type: "ReLU"
  bottom: "conv5"
  top: "conv5"
}
layer {
  name: "pool5"
  type: "Pooling"
  bottom: "conv5"
  top: "pool5"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "fc6"
  type: "InnerProduct"
  bottom: "pool5"
  top: "fc6"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu6"
  type: "ReLU"
  bottom: "fc6"
  top: "fc6"
}
layer {
  name: "drop6"
  type: "Dropout"
  bottom: "fc6"
  top: "fc6"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc7"
  type: "InnerProduct"
  bottom: "fc6"
  top: "fc7"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu7"
  type: "ReLU"
  bottom: "fc7"
  top: "fc7"
}
layer {
  name: "drop7"
  type: "Dropout"
  bottom: "fc7"
  top: "fc7"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc8"
  type: "InnerProduct"
  bottom: "fc7"
  top: "fc8"
  inner_product_param {
    num_output: 1000
  }
}
layer {
  name: "prob"
  type: "Softmax"
  bottom: "fc8"
  top: "prob"
}
I0720 14:45:34.680425 32600 layer_factory.hpp:77] Creating layer data
I0720 14:45:34.680452 32600 net.cpp:91] Creating Layer data
I0720 14:45:34.680462 32600 net.cpp:399] data -> data
I0720 14:45:35.127161 32584 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /tmp/cvld8426797668757289064/s2vt.words_to_preds.prototxt
I0720 14:45:35.127213 32584 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
W0720 14:45:35.127220 32584 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
I0720 14:45:35.127488 32584 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0720 14:45:35.127614 32584 layer_factory.hpp:77] Creating layer input
I0720 14:45:35.127630 32584 net.cpp:91] Creating Layer input
I0720 14:45:35.127640 32584 net.cpp:399] input -> frames_fc7
I0720 14:45:35.127655 32584 net.cpp:399] input -> cont_sentence
I0720 14:45:35.127670 32584 net.cpp:399] input -> input_sentence
I0720 14:45:35.127679 32584 net.cpp:399] input -> stage_indicator
I0720 14:45:35.251580 32600 net.cpp:141] Setting up data
I0720 14:45:35.251658 32600 net.cpp:148] Top shape: 10 3 227 227 (1545870)
I0720 14:45:35.251665 32600 net.cpp:156] Memory required for data: 6183480
I0720 14:45:35.251684 32600 layer_factory.hpp:77] Creating layer conv1
I0720 14:45:35.251713 32600 net.cpp:91] Creating Layer conv1
I0720 14:45:35.251720 32600 net.cpp:425] conv1 <- data
I0720 14:45:35.251732 32600 net.cpp:399] conv1 -> conv1
I0720 14:45:35.251994 32584 net.cpp:141] Setting up input
I0720 14:45:35.252013 32584 net.cpp:148] Top shape: 1 4096 (4096)
I0720 14:45:35.252020 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.252025 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.252030 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.252035 32584 net.cpp:156] Memory required for data: 16396
I0720 14:45:35.252044 32584 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0720 14:45:35.252071 32584 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0720 14:45:35.252081 32584 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0720 14:45:35.252102 32584 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0720 14:45:35.252115 32584 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0720 14:45:35.254238 32584 net.cpp:141] Setting up cont_sentence_input_1_split
I0720 14:45:35.254259 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.254266 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.254271 32584 net.cpp:156] Memory required for data: 16404
I0720 14:45:35.254276 32584 layer_factory.hpp:77] Creating layer embed_encoder
I0720 14:45:35.254380 32584 net.cpp:91] Creating Layer embed_encoder
I0720 14:45:35.254387 32584 net.cpp:425] embed_encoder <- frames_fc7
I0720 14:45:35.254396 32584 net.cpp:399] embed_encoder -> embedded_in_frames
I0720 14:45:35.293764 32584 net.cpp:141] Setting up embed_encoder
I0720 14:45:35.293812 32584 net.cpp:148] Top shape: 1 500 (500)
I0720 14:45:35.293817 32584 net.cpp:156] Memory required for data: 18404
I0720 14:45:35.293844 32584 layer_factory.hpp:77] Creating layer reshape_frames
I0720 14:45:35.293871 32584 net.cpp:91] Creating Layer reshape_frames
I0720 14:45:35.293879 32584 net.cpp:425] reshape_frames <- embedded_in_frames
I0720 14:45:35.293889 32584 net.cpp:399] reshape_frames -> embedded_input_frames
I0720 14:45:35.295166 32584 net.cpp:141] Setting up reshape_frames
I0720 14:45:35.295186 32584 net.cpp:148] Top shape: 1 1 500 (500)
I0720 14:45:35.295191 32584 net.cpp:156] Memory required for data: 20404
I0720 14:45:35.295197 32584 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0720 14:45:35.295310 32584 net.cpp:91] Creating Layer reshape_stage_indicator
I0720 14:45:35.295320 32584 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0720 14:45:35.295330 32584 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0720 14:45:35.299764 32584 net.cpp:141] Setting up reshape_stage_indicator
I0720 14:45:35.299788 32584 net.cpp:148] Top shape: 1 1 1 (1)
I0720 14:45:35.299793 32584 net.cpp:156] Memory required for data: 20408
I0720 14:45:35.299799 32584 layer_factory.hpp:77] Creating layer embedding
I0720 14:45:35.299816 32584 net.cpp:91] Creating Layer embedding
I0720 14:45:35.299821 32584 net.cpp:425] embedding <- input_sentence
I0720 14:45:35.299830 32584 net.cpp:399] embedding -> embedded_input_sentence
I0720 14:45:35.558944 32584 net.cpp:141] Setting up embedding
I0720 14:45:35.558989 32584 net.cpp:148] Top shape: 1 1 500 (500)
I0720 14:45:35.558993 32584 net.cpp:156] Memory required for data: 22408
I0720 14:45:35.559010 32584 layer_factory.hpp:77] Creating layer lstm1
I0720 14:45:35.559029 32584 net.cpp:91] Creating Layer lstm1
I0720 14:45:35.559036 32584 net.cpp:425] lstm1 <- embedded_input_frames
I0720 14:45:35.559044 32584 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0720 14:45:35.559053 32584 net.cpp:399] lstm1 -> lstm1
I0720 14:45:35.559087 32584 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0720 14:45:35.559423 32584 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0720 14:45:35.559514 32584 layer_factory.hpp:77] Creating layer lstm1_
I0720 14:45:35.559525 32584 net.cpp:91] Creating Layer lstm1_
I0720 14:45:35.559532 32584 net.cpp:399] lstm1_ -> x
I0720 14:45:35.559543 32584 net.cpp:399] lstm1_ -> cont
I0720 14:45:35.583782 32584 net.cpp:141] Setting up lstm1_
I0720 14:45:35.583803 32584 net.cpp:148] Top shape: 1 1 500 (500)
I0720 14:45:35.583811 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.583814 32584 net.cpp:156] Memory required for data: 2004
I0720 14:45:35.583820 32584 layer_factory.hpp:77] Creating layer lstm1_
I0720 14:45:35.583837 32584 net.cpp:91] Creating Layer lstm1_
I0720 14:45:35.583845 32584 net.cpp:399] lstm1_ -> c_0
I0720 14:45:35.583858 32584 net.cpp:399] lstm1_ -> h_0
I0720 14:45:35.588016 32584 net.cpp:141] Setting up lstm1_
I0720 14:45:35.588035 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.588042 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.588047 32584 net.cpp:156] Memory required for data: 10004
I0720 14:45:35.588050 32584 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0720 14:45:35.588060 32584 net.cpp:91] Creating Layer lstm1_cont_slice
I0720 14:45:35.588065 32584 net.cpp:425] lstm1_cont_slice <- cont
I0720 14:45:35.588075 32584 net.cpp:399] lstm1_cont_slice -> cont_1
I0720 14:45:35.592653 32584 net.cpp:141] Setting up lstm1_cont_slice
I0720 14:45:35.592672 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.592677 32584 net.cpp:156] Memory required for data: 10008
I0720 14:45:35.592682 32584 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0720 14:45:35.592691 32584 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0720 14:45:35.592696 32584 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0720 14:45:35.592703 32584 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0720 14:45:35.592712 32584 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0720 14:45:35.603854 32584 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0720 14:45:35.603883 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.603894 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.603901 32584 net.cpp:156] Memory required for data: 10016
I0720 14:45:35.603910 32584 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0720 14:45:35.603935 32584 net.cpp:91] Creating Layer lstm1_x_transform
I0720 14:45:35.603968 32584 net.cpp:425] lstm1_x_transform <- x
I0720 14:45:35.603984 32584 net.cpp:399] lstm1_x_transform -> W_xc_x
I0720 14:45:35.644522 32584 net.cpp:141] Setting up lstm1_x_transform
I0720 14:45:35.644568 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.644577 32584 net.cpp:156] Memory required for data: 26016
I0720 14:45:35.644604 32584 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0720 14:45:35.644625 32584 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0720 14:45:35.644636 32584 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0720 14:45:35.644652 32584 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0720 14:45:35.646473 32584 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0720 14:45:35.646499 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.646509 32584 net.cpp:156] Memory required for data: 42016
I0720 14:45:35.646518 32584 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0720 14:45:35.646534 32584 net.cpp:91] Creating Layer lstm1_h_conted_0
I0720 14:45:35.646544 32584 net.cpp:425] lstm1_h_conted_0 <- h_0
I0720 14:45:35.646554 32584 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0720 14:45:35.646569 32584 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0720 14:45:35.656632 32584 net.cpp:141] Setting up lstm1_h_conted_0
I0720 14:45:35.656674 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.656682 32584 net.cpp:156] Memory required for data: 46016
I0720 14:45:35.656693 32584 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0720 14:45:35.656723 32584 net.cpp:91] Creating Layer lstm1_transform_1
I0720 14:45:35.656733 32584 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0720 14:45:35.656750 32584 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0720 14:45:35.710286 32584 net.cpp:141] Setting up lstm1_transform_1
I0720 14:45:35.710333 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.710342 32584 net.cpp:156] Memory required for data: 62016
I0720 14:45:35.710367 32584 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0720 14:45:35.710392 32584 net.cpp:91] Creating Layer lstm1_gate_input_1
I0720 14:45:35.710402 32584 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0720 14:45:35.710415 32584 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0720 14:45:35.710429 32584 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0720 14:45:35.712488 32584 net.cpp:141] Setting up lstm1_gate_input_1
I0720 14:45:35.712513 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.712522 32584 net.cpp:156] Memory required for data: 78016
I0720 14:45:35.712532 32584 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0720 14:45:35.712558 32584 net.cpp:91] Creating Layer lstm1_unit_1
I0720 14:45:35.712568 32584 net.cpp:425] lstm1_unit_1 <- c_0
I0720 14:45:35.712579 32584 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0720 14:45:35.712589 32584 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0720 14:45:35.712602 32584 net.cpp:399] lstm1_unit_1 -> c_1
I0720 14:45:35.712620 32584 net.cpp:399] lstm1_unit_1 -> h_1
I0720 14:45:35.714866 32584 net.cpp:141] Setting up lstm1_unit_1
I0720 14:45:35.714889 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.714900 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.714908 32584 net.cpp:156] Memory required for data: 86016
I0720 14:45:35.714917 32584 layer_factory.hpp:77] Creating layer lstm1_
I0720 14:45:35.714932 32584 net.cpp:91] Creating Layer lstm1_
I0720 14:45:35.714941 32584 net.cpp:425] lstm1_ <- c_1
I0720 14:45:35.714954 32584 net.cpp:399] lstm1_ -> c_T
I0720 14:45:35.715605 32584 net.cpp:141] Setting up lstm1_
I0720 14:45:35.715625 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.715634 32584 net.cpp:156] Memory required for data: 90016
I0720 14:45:35.715643 32584 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0720 14:45:35.715664 32584 net.cpp:91] Creating Layer lstm1_h_concat
I0720 14:45:35.715675 32584 net.cpp:425] lstm1_h_concat <- h_1
I0720 14:45:35.715689 32584 net.cpp:399] lstm1_h_concat -> h
I0720 14:45:35.717799 32584 net.cpp:141] Setting up lstm1_h_concat
I0720 14:45:35.717821 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.717830 32584 net.cpp:156] Memory required for data: 94016
I0720 14:45:35.717839 32584 layer_factory.hpp:77] Creating layer h_pseudoloss
I0720 14:45:35.717859 32584 net.cpp:91] Creating Layer h_pseudoloss
I0720 14:45:35.717869 32584 net.cpp:425] h_pseudoloss <- h
I0720 14:45:35.717882 32584 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0720 14:45:35.727424 32584 net.cpp:141] Setting up h_pseudoloss
I0720 14:45:35.727453 32584 net.cpp:148] Top shape: (1)
I0720 14:45:35.727463 32584 net.cpp:151]     with loss weight 1
I0720 14:45:35.727504 32584 net.cpp:156] Memory required for data: 94020
I0720 14:45:35.727514 32584 net.cpp:217] h_pseudoloss needs backward computation.
I0720 14:45:35.727522 32584 net.cpp:217] lstm1_h_concat needs backward computation.
I0720 14:45:35.727530 32584 net.cpp:219] lstm1_ does not need backward computation.
I0720 14:45:35.727538 32584 net.cpp:217] lstm1_unit_1 needs backward computation.
I0720 14:45:35.727550 32584 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0720 14:45:35.727558 32584 net.cpp:217] lstm1_transform_1 needs backward computation.
I0720 14:45:35.727568 32584 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0720 14:45:35.727579 32584 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0720 14:45:35.727588 32584 net.cpp:217] lstm1_x_transform needs backward computation.
I0720 14:45:35.727596 32584 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0720 14:45:35.727605 32584 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0720 14:45:35.727613 32584 net.cpp:219] lstm1_ does not need backward computation.
I0720 14:45:35.727620 32584 net.cpp:219] lstm1_ does not need backward computation.
I0720 14:45:35.727627 32584 net.cpp:261] This network produces output c_T
I0720 14:45:35.727634 32584 net.cpp:261] This network produces output h_pseudoloss
I0720 14:45:35.727665 32584 net.cpp:274] Network initialization done.
I0720 14:45:35.727747 32584 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0720 14:45:35.727761 32584 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0720 14:45:35.727768 32584 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0720 14:45:35.728183 32600 net.cpp:141] Setting up conv1
I0720 14:45:35.728204 32600 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0720 14:45:35.728210 32600 net.cpp:156] Memory required for data: 17799480
I0720 14:45:35.728227 32600 layer_factory.hpp:77] Creating layer relu1
I0720 14:45:35.728240 32600 net.cpp:91] Creating Layer relu1
I0720 14:45:35.728246 32600 net.cpp:425] relu1 <- conv1
I0720 14:45:35.728253 32600 net.cpp:386] relu1 -> conv1 (in-place)
I0720 14:45:35.738518 32584 net.cpp:141] Setting up lstm1
I0720 14:45:35.738546 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.738553 32584 net.cpp:156] Memory required for data: 26408
I0720 14:45:35.738569 32584 layer_factory.hpp:77] Creating layer concat
I0720 14:45:35.738565 32600 net.cpp:141] Setting up relu1
I0720 14:45:35.738581 32584 net.cpp:91] Creating Layer concat
I0720 14:45:35.738585 32600 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0720 14:45:35.738587 32584 net.cpp:425] concat <- lstm1
I0720 14:45:35.738592 32600 net.cpp:156] Memory required for data: 29415480
I0720 14:45:35.738595 32584 net.cpp:425] concat <- embedded_input_sentence
I0720 14:45:35.738598 32600 layer_factory.hpp:77] Creating layer pool1
I0720 14:45:35.738601 32584 net.cpp:425] concat <- reshaped_stage_indicator
I0720 14:45:35.738608 32584 net.cpp:399] concat -> lstm1_video_sequence
I0720 14:45:35.738611 32600 net.cpp:91] Creating Layer pool1
I0720 14:45:35.738618 32600 net.cpp:425] pool1 <- conv1
I0720 14:45:35.738628 32600 net.cpp:399] pool1 -> pool1
I0720 14:45:35.738658 32584 net.cpp:141] Setting up concat
I0720 14:45:35.738668 32584 net.cpp:148] Top shape: 1 1 1501 (1501)
I0720 14:45:35.738673 32584 net.cpp:156] Memory required for data: 32412
I0720 14:45:35.738683 32584 layer_factory.hpp:77] Creating layer lstm2
I0720 14:45:35.738708 32584 net.cpp:91] Creating Layer lstm2
I0720 14:45:35.738713 32584 net.cpp:425] lstm2 <- lstm1_video_sequence
I0720 14:45:35.738719 32584 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0720 14:45:35.738726 32584 net.cpp:399] lstm2 -> lstm2
I0720 14:45:35.738745 32584 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0720 14:45:35.738775 32600 net.cpp:141] Setting up pool1
I0720 14:45:35.738790 32600 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0720 14:45:35.738795 32600 net.cpp:156] Memory required for data: 32214840
I0720 14:45:35.738800 32600 layer_factory.hpp:77] Creating layer norm1
I0720 14:45:35.738816 32600 net.cpp:91] Creating Layer norm1
I0720 14:45:35.738821 32600 net.cpp:425] norm1 <- pool1
I0720 14:45:35.738829 32600 net.cpp:399] norm1 -> norm1
I0720 14:45:35.738999 32584 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0720 14:45:35.739087 32584 layer_factory.hpp:77] Creating layer lstm2_
I0720 14:45:35.739099 32584 net.cpp:91] Creating Layer lstm2_
I0720 14:45:35.739105 32584 net.cpp:399] lstm2_ -> x
I0720 14:45:35.739115 32584 net.cpp:399] lstm2_ -> cont
I0720 14:45:35.741266 32584 net.cpp:141] Setting up lstm2_
I0720 14:45:35.741284 32584 net.cpp:148] Top shape: 1 1 1501 (1501)
I0720 14:45:35.741291 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.741295 32584 net.cpp:156] Memory required for data: 6008
I0720 14:45:35.741300 32584 layer_factory.hpp:77] Creating layer lstm2_
I0720 14:45:35.741317 32584 net.cpp:91] Creating Layer lstm2_
I0720 14:45:35.741324 32584 net.cpp:399] lstm2_ -> c_0
I0720 14:45:35.741339 32584 net.cpp:399] lstm2_ -> h_0
I0720 14:45:35.744056 32600 net.cpp:141] Setting up norm1
I0720 14:45:35.744076 32600 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0720 14:45:35.744081 32600 net.cpp:156] Memory required for data: 35014200
I0720 14:45:35.744087 32600 layer_factory.hpp:77] Creating layer conv2
I0720 14:45:35.744102 32600 net.cpp:91] Creating Layer conv2
I0720 14:45:35.744108 32600 net.cpp:425] conv2 <- norm1
I0720 14:45:35.744117 32600 net.cpp:399] conv2 -> conv2
I0720 14:45:35.746471 32584 net.cpp:141] Setting up lstm2_
I0720 14:45:35.746489 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.746495 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.746500 32584 net.cpp:156] Memory required for data: 14008
I0720 14:45:35.746505 32584 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0720 14:45:35.746516 32584 net.cpp:91] Creating Layer lstm2_cont_slice
I0720 14:45:35.746521 32584 net.cpp:425] lstm2_cont_slice <- cont
I0720 14:45:35.746529 32584 net.cpp:399] lstm2_cont_slice -> cont_1
I0720 14:45:35.748437 32584 net.cpp:141] Setting up lstm2_cont_slice
I0720 14:45:35.748456 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.748461 32584 net.cpp:156] Memory required for data: 14012
I0720 14:45:35.748466 32584 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0720 14:45:35.748474 32584 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0720 14:45:35.748478 32584 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0720 14:45:35.748486 32584 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0720 14:45:35.748495 32584 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0720 14:45:35.749877 32584 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0720 14:45:35.749894 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.749902 32584 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:35.749905 32584 net.cpp:156] Memory required for data: 14020
I0720 14:45:35.749910 32584 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0720 14:45:35.749929 32584 net.cpp:91] Creating Layer lstm2_x_transform
I0720 14:45:35.749934 32584 net.cpp:425] lstm2_x_transform <- x
I0720 14:45:35.749958 32584 net.cpp:399] lstm2_x_transform -> W_xc_x
I0720 14:45:35.783574 32600 net.cpp:141] Setting up conv2
I0720 14:45:35.783617 32600 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0720 14:45:35.783622 32600 net.cpp:156] Memory required for data: 42479160
I0720 14:45:35.783650 32600 layer_factory.hpp:77] Creating layer relu2
I0720 14:45:35.783665 32600 net.cpp:91] Creating Layer relu2
I0720 14:45:35.783673 32600 net.cpp:425] relu2 <- conv2
I0720 14:45:35.783682 32600 net.cpp:386] relu2 -> conv2 (in-place)
I0720 14:45:35.784595 32600 net.cpp:141] Setting up relu2
I0720 14:45:35.784610 32600 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0720 14:45:35.784615 32600 net.cpp:156] Memory required for data: 49944120
I0720 14:45:35.784620 32600 layer_factory.hpp:77] Creating layer pool2
I0720 14:45:35.784631 32600 net.cpp:91] Creating Layer pool2
I0720 14:45:35.784636 32600 net.cpp:425] pool2 <- conv2
I0720 14:45:35.784643 32600 net.cpp:399] pool2 -> pool2
I0720 14:45:35.784732 32600 net.cpp:141] Setting up pool2
I0720 14:45:35.784742 32600 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0720 14:45:35.784746 32600 net.cpp:156] Memory required for data: 51674680
I0720 14:45:35.784750 32600 layer_factory.hpp:77] Creating layer norm2
I0720 14:45:35.784765 32600 net.cpp:91] Creating Layer norm2
I0720 14:45:35.784770 32600 net.cpp:425] norm2 <- pool2
I0720 14:45:35.784776 32600 net.cpp:399] norm2 -> norm2
I0720 14:45:35.793125 32600 net.cpp:141] Setting up norm2
I0720 14:45:35.793162 32600 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0720 14:45:35.793169 32600 net.cpp:156] Memory required for data: 53405240
I0720 14:45:35.793176 32600 layer_factory.hpp:77] Creating layer conv3
I0720 14:45:35.793198 32600 net.cpp:91] Creating Layer conv3
I0720 14:45:35.793205 32600 net.cpp:425] conv3 <- norm2
I0720 14:45:35.793216 32600 net.cpp:399] conv3 -> conv3
I0720 14:45:35.797026 32588 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /tmp/cvld8426797668757289064/s2vt.words_to_preds.prototxt
I0720 14:45:35.797056 32588 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
W0720 14:45:35.797061 32588 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
I0720 14:45:35.797283 32588 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0720 14:45:35.797374 32588 layer_factory.hpp:77] Creating layer input
I0720 14:45:35.797387 32588 net.cpp:91] Creating Layer input
I0720 14:45:35.797395 32588 net.cpp:399] input -> frames_fc7
I0720 14:45:35.797410 32588 net.cpp:399] input -> cont_sentence
I0720 14:45:35.797420 32588 net.cpp:399] input -> input_sentence
I0720 14:45:35.797430 32588 net.cpp:399] input -> stage_indicator
I0720 14:45:35.815599 32584 net.cpp:141] Setting up lstm2_x_transform
I0720 14:45:35.815644 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.815654 32584 net.cpp:156] Memory required for data: 30020
I0720 14:45:35.815683 32584 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0720 14:45:35.815704 32584 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0720 14:45:35.815714 32584 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0720 14:45:35.815728 32584 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0720 14:45:35.815820 32584 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0720 14:45:35.815839 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.815846 32584 net.cpp:156] Memory required for data: 46020
I0720 14:45:35.815856 32584 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0720 14:45:35.815872 32584 net.cpp:91] Creating Layer lstm2_h_conted_0
I0720 14:45:35.815882 32584 net.cpp:425] lstm2_h_conted_0 <- h_0
I0720 14:45:35.815892 32584 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0720 14:45:35.815912 32584 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0720 14:45:35.817381 32584 net.cpp:141] Setting up lstm2_h_conted_0
I0720 14:45:35.817401 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.817410 32584 net.cpp:156] Memory required for data: 50020
I0720 14:45:35.817420 32584 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0720 14:45:35.817442 32584 net.cpp:91] Creating Layer lstm2_transform_1
I0720 14:45:35.817456 32584 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0720 14:45:35.817481 32584 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0720 14:45:35.835813 32600 net.cpp:141] Setting up conv3
I0720 14:45:35.835857 32600 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0720 14:45:35.835863 32600 net.cpp:156] Memory required for data: 56001080
I0720 14:45:35.835886 32600 layer_factory.hpp:77] Creating layer relu3
I0720 14:45:35.835902 32600 net.cpp:91] Creating Layer relu3
I0720 14:45:35.835909 32600 net.cpp:425] relu3 <- conv3
I0720 14:45:35.835918 32600 net.cpp:386] relu3 -> conv3 (in-place)
I0720 14:45:35.837082 32600 net.cpp:141] Setting up relu3
I0720 14:45:35.837100 32600 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0720 14:45:35.837105 32600 net.cpp:156] Memory required for data: 58596920
I0720 14:45:35.837110 32600 layer_factory.hpp:77] Creating layer conv4
I0720 14:45:35.837127 32600 net.cpp:91] Creating Layer conv4
I0720 14:45:35.837132 32600 net.cpp:425] conv4 <- conv3
I0720 14:45:35.837146 32600 net.cpp:399] conv4 -> conv4
I0720 14:45:35.854426 32600 net.cpp:141] Setting up conv4
I0720 14:45:35.854470 32600 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0720 14:45:35.854475 32600 net.cpp:156] Memory required for data: 61192760
I0720 14:45:35.854490 32600 layer_factory.hpp:77] Creating layer relu4
I0720 14:45:35.854504 32600 net.cpp:91] Creating Layer relu4
I0720 14:45:35.854511 32600 net.cpp:425] relu4 <- conv4
I0720 14:45:35.854522 32600 net.cpp:386] relu4 -> conv4 (in-place)
I0720 14:45:35.855253 32600 net.cpp:141] Setting up relu4
I0720 14:45:35.855268 32600 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0720 14:45:35.855273 32600 net.cpp:156] Memory required for data: 63788600
I0720 14:45:35.855278 32600 layer_factory.hpp:77] Creating layer conv5
I0720 14:45:35.855294 32600 net.cpp:91] Creating Layer conv5
I0720 14:45:35.855299 32600 net.cpp:425] conv5 <- conv4
I0720 14:45:35.855306 32600 net.cpp:399] conv5 -> conv5
I0720 14:45:35.862714 32584 net.cpp:141] Setting up lstm2_transform_1
I0720 14:45:35.862741 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.862751 32584 net.cpp:156] Memory required for data: 66020
I0720 14:45:35.862776 32584 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0720 14:45:35.862797 32584 net.cpp:91] Creating Layer lstm2_gate_input_1
I0720 14:45:35.862808 32584 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0720 14:45:35.862819 32584 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0720 14:45:35.862834 32584 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0720 14:45:35.862939 32584 net.cpp:141] Setting up lstm2_gate_input_1
I0720 14:45:35.862957 32584 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:35.862967 32584 net.cpp:156] Memory required for data: 82020
I0720 14:45:35.862975 32584 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0720 14:45:35.862992 32584 net.cpp:91] Creating Layer lstm2_unit_1
I0720 14:45:35.863001 32584 net.cpp:425] lstm2_unit_1 <- c_0
I0720 14:45:35.863013 32584 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0720 14:45:35.863024 32584 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0720 14:45:35.863037 32584 net.cpp:399] lstm2_unit_1 -> c_1
I0720 14:45:35.863054 32584 net.cpp:399] lstm2_unit_1 -> h_1
I0720 14:45:35.871852 32584 net.cpp:141] Setting up lstm2_unit_1
I0720 14:45:35.871879 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.871891 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.871897 32584 net.cpp:156] Memory required for data: 90020
I0720 14:45:35.871906 32584 layer_factory.hpp:77] Creating layer lstm2_
I0720 14:45:35.871927 32584 net.cpp:91] Creating Layer lstm2_
I0720 14:45:35.871937 32584 net.cpp:425] lstm2_ <- c_1
I0720 14:45:35.871951 32584 net.cpp:399] lstm2_ -> c_T
I0720 14:45:35.872038 32584 net.cpp:141] Setting up lstm2_
I0720 14:45:35.872056 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.872064 32584 net.cpp:156] Memory required for data: 94020
I0720 14:45:35.872072 32584 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0720 14:45:35.872088 32584 net.cpp:91] Creating Layer lstm2_h_concat
I0720 14:45:35.872099 32584 net.cpp:425] lstm2_h_concat <- h_1
I0720 14:45:35.872117 32584 net.cpp:399] lstm2_h_concat -> h
I0720 14:45:35.872232 32584 net.cpp:141] Setting up lstm2_h_concat
I0720 14:45:35.872249 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.872258 32584 net.cpp:156] Memory required for data: 98020
I0720 14:45:35.872267 32584 layer_factory.hpp:77] Creating layer h_pseudoloss
I0720 14:45:35.872287 32584 net.cpp:91] Creating Layer h_pseudoloss
I0720 14:45:35.872298 32584 net.cpp:425] h_pseudoloss <- h
I0720 14:45:35.872313 32584 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0720 14:45:35.886564 32584 net.cpp:141] Setting up h_pseudoloss
I0720 14:45:35.886597 32584 net.cpp:148] Top shape: (1)
I0720 14:45:35.886606 32584 net.cpp:151]     with loss weight 1
I0720 14:45:35.886627 32584 net.cpp:156] Memory required for data: 98024
I0720 14:45:35.886639 32584 net.cpp:217] h_pseudoloss needs backward computation.
I0720 14:45:35.886649 32584 net.cpp:217] lstm2_h_concat needs backward computation.
I0720 14:45:35.886658 32584 net.cpp:219] lstm2_ does not need backward computation.
I0720 14:45:35.886667 32584 net.cpp:217] lstm2_unit_1 needs backward computation.
I0720 14:45:35.886679 32584 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0720 14:45:35.886700 32584 net.cpp:217] lstm2_transform_1 needs backward computation.
I0720 14:45:35.886711 32584 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0720 14:45:35.886720 32584 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0720 14:45:35.886729 32584 net.cpp:217] lstm2_x_transform needs backward computation.
I0720 14:45:35.886737 32584 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0720 14:45:35.886746 32584 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0720 14:45:35.886756 32584 net.cpp:219] lstm2_ does not need backward computation.
I0720 14:45:35.886762 32584 net.cpp:219] lstm2_ does not need backward computation.
I0720 14:45:35.886770 32584 net.cpp:261] This network produces output c_T
I0720 14:45:35.886778 32584 net.cpp:261] This network produces output h_pseudoloss
I0720 14:45:35.886807 32584 net.cpp:274] Network initialization done.
I0720 14:45:35.886881 32584 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0720 14:45:35.886895 32584 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0720 14:45:35.886904 32584 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0720 14:45:35.887998 32584 net.cpp:141] Setting up lstm2
I0720 14:45:35.888020 32584 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:35.888030 32584 net.cpp:156] Memory required for data: 36412
I0720 14:45:35.888058 32584 layer_factory.hpp:77] Creating layer predict
I0720 14:45:35.888082 32584 net.cpp:91] Creating Layer predict
I0720 14:45:35.888095 32584 net.cpp:425] predict <- lstm2
I0720 14:45:35.888113 32584 net.cpp:399] predict -> predict
I0720 14:45:35.984500 32600 net.cpp:141] Setting up conv5
I0720 14:45:35.984550 32600 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0720 14:45:35.984556 32600 net.cpp:156] Memory required for data: 65519160
I0720 14:45:35.984578 32600 layer_factory.hpp:77] Creating layer relu5
I0720 14:45:35.984596 32600 net.cpp:91] Creating Layer relu5
I0720 14:45:35.984603 32600 net.cpp:425] relu5 <- conv5
I0720 14:45:35.984612 32600 net.cpp:386] relu5 -> conv5 (in-place)
I0720 14:45:35.986166 32600 net.cpp:141] Setting up relu5
I0720 14:45:35.986192 32600 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0720 14:45:35.986201 32600 net.cpp:156] Memory required for data: 67249720
I0720 14:45:35.986207 32600 layer_factory.hpp:77] Creating layer pool5
I0720 14:45:35.986220 32600 net.cpp:91] Creating Layer pool5
I0720 14:45:35.986227 32600 net.cpp:425] pool5 <- conv5
I0720 14:45:35.986234 32600 net.cpp:399] pool5 -> pool5
I0720 14:45:35.991660 32600 net.cpp:141] Setting up pool5
I0720 14:45:35.991711 32600 net.cpp:148] Top shape: 10 256 6 6 (92160)
I0720 14:45:35.991717 32600 net.cpp:156] Memory required for data: 67618360
I0720 14:45:35.991726 32600 layer_factory.hpp:77] Creating layer fc6
I0720 14:45:35.991750 32600 net.cpp:91] Creating Layer fc6
I0720 14:45:35.991756 32600 net.cpp:425] fc6 <- pool5
I0720 14:45:35.991766 32600 net.cpp:399] fc6 -> fc6
I0720 14:45:36.105716 32600 net.cpp:141] Setting up fc6
I0720 14:45:36.105762 32600 net.cpp:148] Top shape: 10 4096 (40960)
I0720 14:45:36.105767 32600 net.cpp:156] Memory required for data: 67782200
I0720 14:45:36.105782 32600 layer_factory.hpp:77] Creating layer relu6
I0720 14:45:36.105798 32600 net.cpp:91] Creating Layer relu6
I0720 14:45:36.105803 32600 net.cpp:425] relu6 <- fc6
I0720 14:45:36.105815 32600 net.cpp:386] relu6 -> fc6 (in-place)
I0720 14:45:36.106132 32600 net.cpp:141] Setting up relu6
I0720 14:45:36.106147 32600 net.cpp:148] Top shape: 10 4096 (40960)
I0720 14:45:36.106151 32600 net.cpp:156] Memory required for data: 67946040
I0720 14:45:36.106156 32600 layer_factory.hpp:77] Creating layer drop6
I0720 14:45:36.106166 32600 net.cpp:91] Creating Layer drop6
I0720 14:45:36.106171 32600 net.cpp:425] drop6 <- fc6
I0720 14:45:36.106178 32600 net.cpp:386] drop6 -> fc6 (in-place)
I0720 14:45:36.106246 32600 net.cpp:141] Setting up drop6
I0720 14:45:36.106256 32600 net.cpp:148] Top shape: 10 4096 (40960)
I0720 14:45:36.106261 32600 net.cpp:156] Memory required for data: 68109880
I0720 14:45:36.106266 32600 layer_factory.hpp:77] Creating layer fc7
I0720 14:45:36.106276 32600 net.cpp:91] Creating Layer fc7
I0720 14:45:36.106281 32600 net.cpp:425] fc7 <- fc6
I0720 14:45:36.106287 32600 net.cpp:399] fc7 -> fc7
I0720 14:45:36.183246 32600 net.cpp:141] Setting up fc7
I0720 14:45:36.183290 32600 net.cpp:148] Top shape: 10 4096 (40960)
I0720 14:45:36.183296 32600 net.cpp:156] Memory required for data: 68273720
I0720 14:45:36.183313 32600 layer_factory.hpp:77] Creating layer relu7
I0720 14:45:36.183328 32600 net.cpp:91] Creating Layer relu7
I0720 14:45:36.183334 32600 net.cpp:425] relu7 <- fc7
I0720 14:45:36.183344 32600 net.cpp:386] relu7 -> fc7 (in-place)
I0720 14:45:36.184337 32600 net.cpp:141] Setting up relu7
I0720 14:45:36.184350 32600 net.cpp:148] Top shape: 10 4096 (40960)
I0720 14:45:36.184355 32600 net.cpp:156] Memory required for data: 68437560
I0720 14:45:36.184361 32600 layer_factory.hpp:77] Creating layer drop7
I0720 14:45:36.184375 32600 net.cpp:91] Creating Layer drop7
I0720 14:45:36.184379 32600 net.cpp:425] drop7 <- fc7
I0720 14:45:36.184386 32600 net.cpp:386] drop7 -> fc7 (in-place)
I0720 14:45:36.184562 32600 net.cpp:141] Setting up drop7
I0720 14:45:36.184576 32600 net.cpp:148] Top shape: 10 4096 (40960)
I0720 14:45:36.184579 32600 net.cpp:156] Memory required for data: 68601400
I0720 14:45:36.184584 32600 layer_factory.hpp:77] Creating layer fc8
I0720 14:45:36.184595 32600 net.cpp:91] Creating Layer fc8
I0720 14:45:36.184599 32600 net.cpp:425] fc8 <- fc7
I0720 14:45:36.184607 32600 net.cpp:399] fc8 -> fc8
I0720 14:45:36.231209 32600 net.cpp:141] Setting up fc8
I0720 14:45:36.231254 32600 net.cpp:148] Top shape: 10 1000 (10000)
I0720 14:45:36.231261 32600 net.cpp:156] Memory required for data: 68641400
I0720 14:45:36.231276 32600 layer_factory.hpp:77] Creating layer prob
I0720 14:45:36.231289 32600 net.cpp:91] Creating Layer prob
I0720 14:45:36.231297 32600 net.cpp:425] prob <- fc8
I0720 14:45:36.231307 32600 net.cpp:399] prob -> prob
I0720 14:45:36.232213 32600 net.cpp:141] Setting up prob
I0720 14:45:36.232224 32600 net.cpp:148] Top shape: 10 1000 (10000)
I0720 14:45:36.232229 32600 net.cpp:156] Memory required for data: 68681400
I0720 14:45:36.232234 32600 net.cpp:219] prob does not need backward computation.
I0720 14:45:36.232239 32600 net.cpp:219] fc8 does not need backward computation.
I0720 14:45:36.232244 32600 net.cpp:219] drop7 does not need backward computation.
I0720 14:45:36.232249 32600 net.cpp:219] relu7 does not need backward computation.
I0720 14:45:36.232252 32600 net.cpp:219] fc7 does not need backward computation.
I0720 14:45:36.232257 32600 net.cpp:219] drop6 does not need backward computation.
I0720 14:45:36.232261 32600 net.cpp:219] relu6 does not need backward computation.
I0720 14:45:36.232265 32600 net.cpp:219] fc6 does not need backward computation.
I0720 14:45:36.232270 32600 net.cpp:219] pool5 does not need backward computation.
I0720 14:45:36.232275 32600 net.cpp:219] relu5 does not need backward computation.
I0720 14:45:36.232278 32600 net.cpp:219] conv5 does not need backward computation.
I0720 14:45:36.232283 32600 net.cpp:219] relu4 does not need backward computation.
I0720 14:45:36.232287 32600 net.cpp:219] conv4 does not need backward computation.
I0720 14:45:36.232292 32600 net.cpp:219] relu3 does not need backward computation.
I0720 14:45:36.232296 32600 net.cpp:219] conv3 does not need backward computation.
I0720 14:45:36.232300 32600 net.cpp:219] norm2 does not need backward computation.
I0720 14:45:36.232306 32600 net.cpp:219] pool2 does not need backward computation.
I0720 14:45:36.232309 32600 net.cpp:219] relu2 does not need backward computation.
I0720 14:45:36.232313 32600 net.cpp:219] conv2 does not need backward computation.
I0720 14:45:36.232317 32600 net.cpp:219] norm1 does not need backward computation.
I0720 14:45:36.232322 32600 net.cpp:219] pool1 does not need backward computation.
I0720 14:45:36.232327 32600 net.cpp:219] relu1 does not need backward computation.
I0720 14:45:36.232331 32600 net.cpp:219] conv1 does not need backward computation.
I0720 14:45:36.232336 32600 net.cpp:219] data does not need backward computation.
I0720 14:45:36.232339 32600 net.cpp:261] This network produces output prob
I0720 14:45:36.232357 32600 net.cpp:274] Network initialization done.
I0720 14:45:36.332123 32584 net.cpp:141] Setting up predict
I0720 14:45:36.332167 32584 net.cpp:148] Top shape: 1 1 46168 (46168)
I0720 14:45:36.332175 32584 net.cpp:156] Memory required for data: 221084
I0720 14:45:36.332195 32584 layer_factory.hpp:77] Creating layer probs
I0720 14:45:36.332217 32584 net.cpp:91] Creating Layer probs
I0720 14:45:36.332228 32584 net.cpp:425] probs <- predict
I0720 14:45:36.332247 32584 net.cpp:399] probs -> probs
I0720 14:45:36.341964 32584 net.cpp:141] Setting up probs
I0720 14:45:36.342015 32584 net.cpp:148] Top shape: 1 1 46168 (46168)
I0720 14:45:36.342025 32584 net.cpp:156] Memory required for data: 405756
I0720 14:45:36.342037 32584 net.cpp:219] probs does not need backward computation.
I0720 14:45:36.342048 32584 net.cpp:219] predict does not need backward computation.
I0720 14:45:36.342056 32584 net.cpp:219] lstm2 does not need backward computation.
I0720 14:45:36.342066 32584 net.cpp:219] concat does not need backward computation.
I0720 14:45:36.342075 32584 net.cpp:219] lstm1 does not need backward computation.
I0720 14:45:36.342087 32584 net.cpp:219] embedding does not need backward computation.
I0720 14:45:36.342094 32584 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0720 14:45:36.342104 32584 net.cpp:219] reshape_frames does not need backward computation.
I0720 14:45:36.342113 32584 net.cpp:219] embed_encoder does not need backward computation.
I0720 14:45:36.342121 32584 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0720 14:45:36.342129 32584 net.cpp:219] input does not need backward computation.
I0720 14:45:36.342135 32584 net.cpp:261] This network produces output probs
I0720 14:45:36.342161 32584 net.cpp:274] Network initialization done.
I0720 14:45:36.460726 32600 upgrade_proto.cpp:43] Attempting to upgrade input file specified using deprecated transformation parameters: /tmp/cvld8426797668757289064/bvlc_reference_caffenet.caffemodel
I0720 14:45:36.460760 32600 upgrade_proto.cpp:46] Successfully upgraded file specified using deprecated data transformation parameters.
W0720 14:45:36.460764 32600 upgrade_proto.cpp:48] Note that future Caffe releases will only support transform_param messages for transformation fields.
I0720 14:45:36.460768 32600 upgrade_proto.cpp:52] Attempting to upgrade input file specified using deprecated V1LayerParameter: /tmp/cvld8426797668757289064/bvlc_reference_caffenet.caffemodel
I0720 14:45:36.698899 32584 net.cpp:752] Ignoring source layer data
I0720 14:45:36.698933 32584 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0720 14:45:36.698940 32584 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0720 14:45:36.769140 32588 net.cpp:141] Setting up input
I0720 14:45:36.769197 32588 net.cpp:148] Top shape: 1 4096 (4096)
I0720 14:45:36.769206 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:36.769212 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:36.769217 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:36.769222 32588 net.cpp:156] Memory required for data: 16396
I0720 14:45:36.769232 32588 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0720 14:45:36.769250 32588 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0720 14:45:36.769256 32588 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0720 14:45:36.769268 32588 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0720 14:45:36.769281 32588 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0720 14:45:36.769345 32588 net.cpp:141] Setting up cont_sentence_input_1_split
I0720 14:45:36.769356 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:36.769361 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:36.769366 32588 net.cpp:156] Memory required for data: 16404
I0720 14:45:36.769371 32588 layer_factory.hpp:77] Creating layer embed_encoder
I0720 14:45:36.769387 32588 net.cpp:91] Creating Layer embed_encoder
I0720 14:45:36.769392 32588 net.cpp:425] embed_encoder <- frames_fc7
I0720 14:45:36.769400 32588 net.cpp:399] embed_encoder -> embedded_in_frames
I0720 14:45:36.781147 32584 net.cpp:752] Ignoring source layer cross_entropy_loss
I0720 14:45:36.813225 32588 net.cpp:141] Setting up embed_encoder
I0720 14:45:36.813272 32588 net.cpp:148] Top shape: 1 500 (500)
I0720 14:45:36.813282 32588 net.cpp:156] Memory required for data: 18404
I0720 14:45:36.813314 32588 layer_factory.hpp:77] Creating layer reshape_frames
I0720 14:45:36.813340 32588 net.cpp:91] Creating Layer reshape_frames
I0720 14:45:36.813350 32588 net.cpp:425] reshape_frames <- embedded_in_frames
I0720 14:45:36.813365 32588 net.cpp:399] reshape_frames -> embedded_input_frames
I0720 14:45:36.813442 32588 net.cpp:141] Setting up reshape_frames
I0720 14:45:36.813457 32588 net.cpp:148] Top shape: 1 1 500 (500)
I0720 14:45:36.813465 32588 net.cpp:156] Memory required for data: 20404
I0720 14:45:36.813472 32588 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0720 14:45:36.813489 32588 net.cpp:91] Creating Layer reshape_stage_indicator
I0720 14:45:36.813498 32588 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0720 14:45:36.813509 32588 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0720 14:45:36.813596 32588 net.cpp:141] Setting up reshape_stage_indicator
I0720 14:45:36.813614 32588 net.cpp:148] Top shape: 1 1 1 (1)
I0720 14:45:36.813622 32588 net.cpp:156] Memory required for data: 20408
I0720 14:45:36.813630 32588 layer_factory.hpp:77] Creating layer embedding
I0720 14:45:36.813647 32588 net.cpp:91] Creating Layer embedding
I0720 14:45:36.813657 32588 net.cpp:425] embedding <- input_sentence
I0720 14:45:36.813674 32588 net.cpp:399] embedding -> embedded_input_sentence
I0720 14:45:36.866359 32600 upgrade_proto.cpp:60] Successfully upgraded file specified using deprecated V1LayerParameter
I0720 14:45:36.919329 32600 net.cpp:752] Ignoring source layer loss
I0720 14:45:37.048357 32588 net.cpp:141] Setting up embedding
I0720 14:45:37.048403 32588 net.cpp:148] Top shape: 1 1 500 (500)
I0720 14:45:37.048410 32588 net.cpp:156] Memory required for data: 22408
I0720 14:45:37.048429 32588 layer_factory.hpp:77] Creating layer lstm1
I0720 14:45:37.048454 32588 net.cpp:91] Creating Layer lstm1
I0720 14:45:37.048470 32588 net.cpp:425] lstm1 <- embedded_input_frames
I0720 14:45:37.048486 32588 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0720 14:45:37.048527 32588 net.cpp:399] lstm1 -> lstm1
I0720 14:45:37.048563 32588 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0720 14:45:37.048929 32588 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0720 14:45:37.049022 32588 layer_factory.hpp:77] Creating layer lstm1_
I0720 14:45:37.049036 32588 net.cpp:91] Creating Layer lstm1_
I0720 14:45:37.049041 32588 net.cpp:399] lstm1_ -> x
I0720 14:45:37.049054 32588 net.cpp:399] lstm1_ -> cont
I0720 14:45:37.049201 32588 net.cpp:141] Setting up lstm1_
I0720 14:45:37.049216 32588 net.cpp:148] Top shape: 1 1 500 (500)
I0720 14:45:37.049222 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.049226 32588 net.cpp:156] Memory required for data: 2004
I0720 14:45:37.049232 32588 layer_factory.hpp:77] Creating layer lstm1_
I0720 14:45:37.049240 32588 net.cpp:91] Creating Layer lstm1_
I0720 14:45:37.049247 32588 net.cpp:399] lstm1_ -> c_0
I0720 14:45:37.049257 32588 net.cpp:399] lstm1_ -> h_0
I0720 14:45:37.049335 32588 net.cpp:141] Setting up lstm1_
I0720 14:45:37.049347 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.049353 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.049357 32588 net.cpp:156] Memory required for data: 10004
I0720 14:45:37.049361 32588 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0720 14:45:37.049370 32588 net.cpp:91] Creating Layer lstm1_cont_slice
I0720 14:45:37.049374 32588 net.cpp:425] lstm1_cont_slice <- cont
I0720 14:45:37.049381 32588 net.cpp:399] lstm1_cont_slice -> cont_1
I0720 14:45:37.049428 32588 net.cpp:141] Setting up lstm1_cont_slice
I0720 14:45:37.049437 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.049446 32588 net.cpp:156] Memory required for data: 10008
I0720 14:45:37.049450 32588 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0720 14:45:37.049458 32588 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0720 14:45:37.049463 32588 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0720 14:45:37.049468 32588 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0720 14:45:37.049479 32588 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0720 14:45:37.049547 32588 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0720 14:45:37.049558 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.049563 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.049567 32588 net.cpp:156] Memory required for data: 10016
I0720 14:45:37.049571 32588 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0720 14:45:37.049582 32588 net.cpp:91] Creating Layer lstm1_x_transform
I0720 14:45:37.049585 32588 net.cpp:425] lstm1_x_transform <- x
I0720 14:45:37.049597 32588 net.cpp:399] lstm1_x_transform -> W_xc_x
I0720 14:45:37.086086 32588 net.cpp:141] Setting up lstm1_x_transform
I0720 14:45:37.086129 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.086135 32588 net.cpp:156] Memory required for data: 26016
I0720 14:45:37.086156 32588 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0720 14:45:37.086170 32588 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0720 14:45:37.086176 32588 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0720 14:45:37.086189 32588 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0720 14:45:37.086244 32588 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0720 14:45:37.086254 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.086259 32588 net.cpp:156] Memory required for data: 42016
I0720 14:45:37.086263 32588 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0720 14:45:37.086277 32588 net.cpp:91] Creating Layer lstm1_h_conted_0
I0720 14:45:37.086282 32588 net.cpp:425] lstm1_h_conted_0 <- h_0
I0720 14:45:37.086288 32588 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0720 14:45:37.086295 32588 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0720 14:45:37.086436 32588 net.cpp:141] Setting up lstm1_h_conted_0
I0720 14:45:37.086447 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.086450 32588 net.cpp:156] Memory required for data: 46016
I0720 14:45:37.086455 32588 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0720 14:45:37.086469 32588 net.cpp:91] Creating Layer lstm1_transform_1
I0720 14:45:37.086474 32588 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0720 14:45:37.086483 32588 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0720 14:45:37.136003 32588 net.cpp:141] Setting up lstm1_transform_1
I0720 14:45:37.136065 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.136078 32588 net.cpp:156] Memory required for data: 62016
I0720 14:45:37.136108 32588 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0720 14:45:37.136138 32588 net.cpp:91] Creating Layer lstm1_gate_input_1
I0720 14:45:37.136147 32588 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0720 14:45:37.136157 32588 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0720 14:45:37.136179 32588 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0720 14:45:37.136312 32588 net.cpp:141] Setting up lstm1_gate_input_1
I0720 14:45:37.136322 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.136327 32588 net.cpp:156] Memory required for data: 78016
I0720 14:45:37.136332 32588 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0720 14:45:37.136345 32588 net.cpp:91] Creating Layer lstm1_unit_1
I0720 14:45:37.136350 32588 net.cpp:425] lstm1_unit_1 <- c_0
I0720 14:45:37.136356 32588 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0720 14:45:37.136361 32588 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0720 14:45:37.136368 32588 net.cpp:399] lstm1_unit_1 -> c_1
I0720 14:45:37.136378 32588 net.cpp:399] lstm1_unit_1 -> h_1
I0720 14:45:37.136471 32588 net.cpp:141] Setting up lstm1_unit_1
I0720 14:45:37.136482 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.136487 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.136490 32588 net.cpp:156] Memory required for data: 86016
I0720 14:45:37.136495 32588 layer_factory.hpp:77] Creating layer lstm1_
I0720 14:45:37.136502 32588 net.cpp:91] Creating Layer lstm1_
I0720 14:45:37.136507 32588 net.cpp:425] lstm1_ <- c_1
I0720 14:45:37.136518 32588 net.cpp:399] lstm1_ -> c_T
I0720 14:45:37.136559 32588 net.cpp:141] Setting up lstm1_
I0720 14:45:37.136567 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.136571 32588 net.cpp:156] Memory required for data: 90016
I0720 14:45:37.136576 32588 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0720 14:45:37.136584 32588 net.cpp:91] Creating Layer lstm1_h_concat
I0720 14:45:37.136590 32588 net.cpp:425] lstm1_h_concat <- h_1
I0720 14:45:37.136600 32588 net.cpp:399] lstm1_h_concat -> h
I0720 14:45:37.136646 32588 net.cpp:141] Setting up lstm1_h_concat
I0720 14:45:37.136654 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.136658 32588 net.cpp:156] Memory required for data: 94016
I0720 14:45:37.136663 32588 layer_factory.hpp:77] Creating layer h_pseudoloss
I0720 14:45:37.136675 32588 net.cpp:91] Creating Layer h_pseudoloss
I0720 14:45:37.136680 32588 net.cpp:425] h_pseudoloss <- h
I0720 14:45:37.136687 32588 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0720 14:45:37.136828 32588 net.cpp:141] Setting up h_pseudoloss
I0720 14:45:37.136839 32588 net.cpp:148] Top shape: (1)
I0720 14:45:37.136843 32588 net.cpp:151]     with loss weight 1
I0720 14:45:37.136862 32588 net.cpp:156] Memory required for data: 94020
I0720 14:45:37.136867 32588 net.cpp:217] h_pseudoloss needs backward computation.
I0720 14:45:37.136870 32588 net.cpp:217] lstm1_h_concat needs backward computation.
I0720 14:45:37.136874 32588 net.cpp:219] lstm1_ does not need backward computation.
I0720 14:45:37.136879 32588 net.cpp:217] lstm1_unit_1 needs backward computation.
I0720 14:45:37.136884 32588 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0720 14:45:37.136889 32588 net.cpp:217] lstm1_transform_1 needs backward computation.
I0720 14:45:37.136893 32588 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0720 14:45:37.136899 32588 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0720 14:45:37.136904 32588 net.cpp:217] lstm1_x_transform needs backward computation.
I0720 14:45:37.136907 32588 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0720 14:45:37.136912 32588 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0720 14:45:37.136917 32588 net.cpp:219] lstm1_ does not need backward computation.
I0720 14:45:37.136921 32588 net.cpp:219] lstm1_ does not need backward computation.
I0720 14:45:37.136924 32588 net.cpp:261] This network produces output c_T
I0720 14:45:37.136929 32588 net.cpp:261] This network produces output h_pseudoloss
I0720 14:45:37.136946 32588 net.cpp:274] Network initialization done.
I0720 14:45:37.136991 32588 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0720 14:45:37.136997 32588 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0720 14:45:37.137001 32588 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0720 14:45:37.137141 32588 net.cpp:141] Setting up lstm1
I0720 14:45:37.137152 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.137156 32588 net.cpp:156] Memory required for data: 26408
I0720 14:45:37.137169 32588 layer_factory.hpp:77] Creating layer concat
I0720 14:45:37.137181 32588 net.cpp:91] Creating Layer concat
I0720 14:45:37.137187 32588 net.cpp:425] concat <- lstm1
I0720 14:45:37.137193 32588 net.cpp:425] concat <- embedded_input_sentence
I0720 14:45:37.137198 32588 net.cpp:425] concat <- reshaped_stage_indicator
I0720 14:45:37.137204 32588 net.cpp:399] concat -> lstm1_video_sequence
I0720 14:45:37.137249 32588 net.cpp:141] Setting up concat
I0720 14:45:37.137259 32588 net.cpp:148] Top shape: 1 1 1501 (1501)
I0720 14:45:37.137262 32588 net.cpp:156] Memory required for data: 32412
I0720 14:45:37.137269 32588 layer_factory.hpp:77] Creating layer lstm2
I0720 14:45:37.137280 32588 net.cpp:91] Creating Layer lstm2
I0720 14:45:37.137285 32588 net.cpp:425] lstm2 <- lstm1_video_sequence
I0720 14:45:37.137291 32588 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0720 14:45:37.137298 32588 net.cpp:399] lstm2 -> lstm2
I0720 14:45:37.137307 32588 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0720 14:45:37.137558 32588 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0720 14:45:37.137645 32588 layer_factory.hpp:77] Creating layer lstm2_
I0720 14:45:37.137655 32588 net.cpp:91] Creating Layer lstm2_
I0720 14:45:37.137661 32588 net.cpp:399] lstm2_ -> x
I0720 14:45:37.137672 32588 net.cpp:399] lstm2_ -> cont
I0720 14:45:37.137750 32588 net.cpp:141] Setting up lstm2_
I0720 14:45:37.137760 32588 net.cpp:148] Top shape: 1 1 1501 (1501)
I0720 14:45:37.137766 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.137771 32588 net.cpp:156] Memory required for data: 6008
I0720 14:45:37.137776 32588 layer_factory.hpp:77] Creating layer lstm2_
I0720 14:45:37.137785 32588 net.cpp:91] Creating Layer lstm2_
I0720 14:45:37.137790 32588 net.cpp:399] lstm2_ -> c_0
I0720 14:45:37.137800 32588 net.cpp:399] lstm2_ -> h_0
I0720 14:45:37.137879 32588 net.cpp:141] Setting up lstm2_
I0720 14:45:37.137889 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.137894 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.137898 32588 net.cpp:156] Memory required for data: 14008
I0720 14:45:37.137902 32588 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0720 14:45:37.137918 32588 net.cpp:91] Creating Layer lstm2_cont_slice
I0720 14:45:37.137924 32588 net.cpp:425] lstm2_cont_slice <- cont
I0720 14:45:37.137930 32588 net.cpp:399] lstm2_cont_slice -> cont_1
I0720 14:45:37.138197 32588 net.cpp:141] Setting up lstm2_cont_slice
I0720 14:45:37.138209 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.138213 32588 net.cpp:156] Memory required for data: 14012
I0720 14:45:37.138218 32588 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0720 14:45:37.138224 32588 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0720 14:45:37.138229 32588 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0720 14:45:37.138236 32588 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0720 14:45:37.138243 32588 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0720 14:45:37.138311 32588 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0720 14:45:37.138322 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.138329 32588 net.cpp:148] Top shape: 1 1 (1)
I0720 14:45:37.138332 32588 net.cpp:156] Memory required for data: 14020
I0720 14:45:37.138336 32588 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0720 14:45:37.138347 32588 net.cpp:91] Creating Layer lstm2_x_transform
I0720 14:45:37.138351 32588 net.cpp:425] lstm2_x_transform <- x
I0720 14:45:37.138362 32588 net.cpp:399] lstm2_x_transform -> W_xc_x
I0720 14:45:37.210311 32588 net.cpp:141] Setting up lstm2_x_transform
I0720 14:45:37.210352 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.210358 32588 net.cpp:156] Memory required for data: 30020
I0720 14:45:37.210377 32588 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0720 14:45:37.210396 32588 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0720 14:45:37.210402 32588 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0720 14:45:37.210412 32588 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0720 14:45:37.210469 32588 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0720 14:45:37.210479 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.210484 32588 net.cpp:156] Memory required for data: 46020
I0720 14:45:37.210489 32588 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0720 14:45:37.210499 32588 net.cpp:91] Creating Layer lstm2_h_conted_0
I0720 14:45:37.210502 32588 net.cpp:425] lstm2_h_conted_0 <- h_0
I0720 14:45:37.210508 32588 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0720 14:45:37.210515 32588 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0720 14:45:37.210656 32588 net.cpp:141] Setting up lstm2_h_conted_0
I0720 14:45:37.210666 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.210670 32588 net.cpp:156] Memory required for data: 50020
I0720 14:45:37.210675 32588 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0720 14:45:37.210692 32588 net.cpp:91] Creating Layer lstm2_transform_1
I0720 14:45:37.210698 32588 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0720 14:45:37.210710 32588 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0720 14:45:37.263243 32588 net.cpp:141] Setting up lstm2_transform_1
I0720 14:45:37.263285 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.263291 32588 net.cpp:156] Memory required for data: 66020
I0720 14:45:37.263309 32588 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0720 14:45:37.263334 32588 net.cpp:91] Creating Layer lstm2_gate_input_1
I0720 14:45:37.263341 32588 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0720 14:45:37.263350 32588 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0720 14:45:37.263357 32588 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0720 14:45:37.263423 32588 net.cpp:141] Setting up lstm2_gate_input_1
I0720 14:45:37.263433 32588 net.cpp:148] Top shape: 1 1 4000 (4000)
I0720 14:45:37.263437 32588 net.cpp:156] Memory required for data: 82020
I0720 14:45:37.263442 32588 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0720 14:45:37.263450 32588 net.cpp:91] Creating Layer lstm2_unit_1
I0720 14:45:37.263458 32588 net.cpp:425] lstm2_unit_1 <- c_0
I0720 14:45:37.263463 32588 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0720 14:45:37.263468 32588 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0720 14:45:37.263474 32588 net.cpp:399] lstm2_unit_1 -> c_1
I0720 14:45:37.263484 32588 net.cpp:399] lstm2_unit_1 -> h_1
I0720 14:45:37.263576 32588 net.cpp:141] Setting up lstm2_unit_1
I0720 14:45:37.263584 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.263591 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.263594 32588 net.cpp:156] Memory required for data: 90020
I0720 14:45:37.263598 32588 layer_factory.hpp:77] Creating layer lstm2_
I0720 14:45:37.263609 32588 net.cpp:91] Creating Layer lstm2_
I0720 14:45:37.263614 32588 net.cpp:425] lstm2_ <- c_1
I0720 14:45:37.263622 32588 net.cpp:399] lstm2_ -> c_T
I0720 14:45:37.263661 32588 net.cpp:141] Setting up lstm2_
I0720 14:45:37.263670 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.263674 32588 net.cpp:156] Memory required for data: 94020
I0720 14:45:37.263679 32588 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0720 14:45:37.263691 32588 net.cpp:91] Creating Layer lstm2_h_concat
I0720 14:45:37.263696 32588 net.cpp:425] lstm2_h_concat <- h_1
I0720 14:45:37.263705 32588 net.cpp:399] lstm2_h_concat -> h
I0720 14:45:37.263752 32588 net.cpp:141] Setting up lstm2_h_concat
I0720 14:45:37.263761 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.263764 32588 net.cpp:156] Memory required for data: 98020
I0720 14:45:37.263769 32588 layer_factory.hpp:77] Creating layer h_pseudoloss
I0720 14:45:37.263777 32588 net.cpp:91] Creating Layer h_pseudoloss
I0720 14:45:37.263782 32588 net.cpp:425] h_pseudoloss <- h
I0720 14:45:37.263788 32588 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0720 14:45:37.263909 32588 net.cpp:141] Setting up h_pseudoloss
I0720 14:45:37.263919 32588 net.cpp:148] Top shape: (1)
I0720 14:45:37.263923 32588 net.cpp:151]     with loss weight 1
I0720 14:45:37.263939 32588 net.cpp:156] Memory required for data: 98024
I0720 14:45:37.263944 32588 net.cpp:217] h_pseudoloss needs backward computation.
I0720 14:45:37.263949 32588 net.cpp:217] lstm2_h_concat needs backward computation.
I0720 14:45:37.263953 32588 net.cpp:219] lstm2_ does not need backward computation.
I0720 14:45:37.263957 32588 net.cpp:217] lstm2_unit_1 needs backward computation.
I0720 14:45:37.263962 32588 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0720 14:45:37.263967 32588 net.cpp:217] lstm2_transform_1 needs backward computation.
I0720 14:45:37.263972 32588 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0720 14:45:37.263978 32588 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0720 14:45:37.263983 32588 net.cpp:217] lstm2_x_transform needs backward computation.
I0720 14:45:37.263990 32588 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0720 14:45:37.263995 32588 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0720 14:45:37.264000 32588 net.cpp:219] lstm2_ does not need backward computation.
I0720 14:45:37.264005 32588 net.cpp:219] lstm2_ does not need backward computation.
I0720 14:45:37.264008 32588 net.cpp:261] This network produces output c_T
I0720 14:45:37.264014 32588 net.cpp:261] This network produces output h_pseudoloss
I0720 14:45:37.264029 32588 net.cpp:274] Network initialization done.
I0720 14:45:37.264075 32588 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0720 14:45:37.264080 32588 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0720 14:45:37.264083 32588 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0720 14:45:37.264214 32588 net.cpp:141] Setting up lstm2
I0720 14:45:37.264225 32588 net.cpp:148] Top shape: 1 1 1000 (1000)
I0720 14:45:37.264230 32588 net.cpp:156] Memory required for data: 36412
I0720 14:45:37.264243 32588 layer_factory.hpp:77] Creating layer predict
I0720 14:45:37.264256 32588 net.cpp:91] Creating Layer predict
I0720 14:45:37.264261 32588 net.cpp:425] predict <- lstm2
I0720 14:45:37.264268 32588 net.cpp:399] predict -> predict
I0720 14:45:37.716536 32588 net.cpp:141] Setting up predict
I0720 14:45:37.716576 32588 net.cpp:148] Top shape: 1 1 46168 (46168)
I0720 14:45:37.716583 32588 net.cpp:156] Memory required for data: 221084
I0720 14:45:37.716598 32588 layer_factory.hpp:77] Creating layer probs
I0720 14:45:37.716619 32588 net.cpp:91] Creating Layer probs
I0720 14:45:37.716626 32588 net.cpp:425] probs <- predict
I0720 14:45:37.716635 32588 net.cpp:399] probs -> probs
I0720 14:45:37.953397 32588 net.cpp:141] Setting up probs
I0720 14:45:37.953435 32588 net.cpp:148] Top shape: 1 1 46168 (46168)
I0720 14:45:37.953441 32588 net.cpp:156] Memory required for data: 405756
I0720 14:45:37.953449 32588 net.cpp:219] probs does not need backward computation.
I0720 14:45:37.953456 32588 net.cpp:219] predict does not need backward computation.
I0720 14:45:37.953461 32588 net.cpp:219] lstm2 does not need backward computation.
I0720 14:45:37.953467 32588 net.cpp:219] concat does not need backward computation.
I0720 14:45:37.953472 32588 net.cpp:219] lstm1 does not need backward computation.
I0720 14:45:37.953479 32588 net.cpp:219] embedding does not need backward computation.
I0720 14:45:37.953483 32588 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0720 14:45:37.953488 32588 net.cpp:219] reshape_frames does not need backward computation.
I0720 14:45:37.953492 32588 net.cpp:219] embed_encoder does not need backward computation.
I0720 14:45:37.953497 32588 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0720 14:45:37.953503 32588 net.cpp:219] input does not need backward computation.
I0720 14:45:37.953507 32588 net.cpp:261] This network produces output probs
I0720 14:45:37.953524 32588 net.cpp:274] Network initialization done.
I0720 14:45:38.276201 32588 net.cpp:752] Ignoring source layer data
I0720 14:45:38.276234 32588 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0720 14:45:38.276239 32588 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0720 14:45:38.346545 32588 net.cpp:752] Ignoring source layer cross_entropy_loss
