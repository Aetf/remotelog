SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm102/lib/log4j-slf4j-impl-2.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/peifeng/work/run/storm102/data/supervisor/stormdist/captioning-1-1473814643/stormjar.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]
Java HotSpot(TM) 64-Bit Server VM warning: You have loaded library /home/peifeng/work/run/storm102/data/workers/2847425c-45bf-4b10-89d4-e43d37ebdaf4/tmp/cvld4868851032268392937/libopencv_java310.xine1.so which might have disabled stack guard. The VM will try to fix the stack guard now.
It's highly recommended that you fix the library with 'execstack -c <libfile>', or link it with '-z noexecstack'.
WARNING: Logging before InitGoogleLogging() is written to STDERR
I0913 20:58:03.946339  9754 net.cpp:49] Initializing net from parameters: 
name: "CaffeNet"
state {
  phase: TEST
}
layer {
  name: "data"
  type: "Input"
  top: "data"
  input_param {
    shape {
      dim: 10
      dim: 3
      dim: 227
      dim: 227
    }
  }
}
layer {
  name: "conv1"
  type: "Convolution"
  bottom: "data"
  top: "conv1"
  convolution_param {
    num_output: 96
    kernel_size: 11
    stride: 4
  }
}
layer {
  name: "relu1"
  type: "ReLU"
  bottom: "conv1"
  top: "conv1"
}
layer {
  name: "pool1"
  type: "Pooling"
  bottom: "conv1"
  top: "pool1"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm1"
  type: "LRN"
  bottom: "pool1"
  top: "norm1"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv2"
  type: "Convolution"
  bottom: "norm1"
  top: "conv2"
  convolution_param {
    num_output: 256
    pad: 2
    kernel_size: 5
    group: 2
  }
}
layer {
  name: "relu2"
  type: "ReLU"
  bottom: "conv2"
  top: "conv2"
}
layer {
  name: "pool2"
  type: "Pooling"
  bottom: "conv2"
  top: "pool2"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm2"
  type: "LRN"
  bottom: "pool2"
  top: "norm2"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv3"
  type: "Convolution"
  bottom: "norm2"
  top: "conv3"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
  }
}
layer {
  name: "relu3"
  type: "ReLU"
  bottom: "conv3"
  top: "conv3"
}
layer {
  name: "conv4"
  type: "Convolution"
  bottom: "conv3"
  top: "conv4"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu4"
  type: "ReLU"
  bottom: "conv4"
  top: "conv4"
}
layer {
  name: "conv5"
  type: "Convolution"
  bottom: "conv4"
  top: "conv5"
  convolution_param {
    num_output: 256
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu5"
  type: "ReLU"
  bottom: "conv5"
  top: "conv5"
}
layer {
  name: "pool5"
  type: "Pooling"
  bottom: "conv5"
  top: "pool5"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "fc6"
  type: "InnerProduct"
  bottom: "pool5"
  top: "fc6"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu6"
  type: "ReLU"
  bottom: "fc6"
  top: "fc6"
}
layer {
  name: "drop6"
  type: "Dropout"
  bottom: "fc6"
  top: "fc6"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc7"
  type: "InnerProduct"
  bottom: "fc6"
  top: "fc7"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu7"
  type: "ReLU"
  bottom: "fc7"
  top: "fc7"
}
layer {
  name: "drop7"
  type: "Dropout"
  bottom: "fc7"
  top: "fc7"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc8"
  type: "InnerProduct"
  bottom: "fc7"
  top: "fc8"
  inner_product_param {
    num_output: 1000
  }
}
layer {
  name: "prob"
  type: "Softmax"
  bottom: "fc8"
  top: "prob"
}
I0913 20:58:03.946524  9754 layer_factory.hpp:77] Creating layer data
I0913 20:58:03.946547  9754 net.cpp:91] Creating Layer data
I0913 20:58:03.946557  9754 net.cpp:399] data -> data
I0913 20:58:04.480693  9754 net.cpp:141] Setting up data
I0913 20:58:04.480797  9754 net.cpp:148] Top shape: 10 3 227 227 (1545870)
I0913 20:58:04.480803  9754 net.cpp:156] Memory required for data: 6183480
I0913 20:58:04.480823  9754 layer_factory.hpp:77] Creating layer conv1
I0913 20:58:04.480856  9754 net.cpp:91] Creating Layer conv1
I0913 20:58:04.480866  9754 net.cpp:425] conv1 <- data
I0913 20:58:04.480880  9754 net.cpp:399] conv1 -> conv1
I0913 20:58:04.664597  9754 net.cpp:141] Setting up conv1
I0913 20:58:04.664654  9754 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0913 20:58:04.664661  9754 net.cpp:156] Memory required for data: 17799480
I0913 20:58:04.664705  9754 layer_factory.hpp:77] Creating layer relu1
I0913 20:58:04.664736  9754 net.cpp:91] Creating Layer relu1
I0913 20:58:04.664744  9754 net.cpp:425] relu1 <- conv1
I0913 20:58:04.664753  9754 net.cpp:386] relu1 -> conv1 (in-place)
I0913 20:58:04.665169  9754 net.cpp:141] Setting up relu1
I0913 20:58:04.665189  9754 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0913 20:58:04.665194  9754 net.cpp:156] Memory required for data: 29415480
I0913 20:58:04.665199  9754 layer_factory.hpp:77] Creating layer pool1
I0913 20:58:04.665211  9754 net.cpp:91] Creating Layer pool1
I0913 20:58:04.665216  9754 net.cpp:425] pool1 <- conv1
I0913 20:58:04.665225  9754 net.cpp:399] pool1 -> pool1
I0913 20:58:04.665299  9754 net.cpp:141] Setting up pool1
I0913 20:58:04.665309  9754 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0913 20:58:04.665314  9754 net.cpp:156] Memory required for data: 32214840
I0913 20:58:04.665319  9754 layer_factory.hpp:77] Creating layer norm1
I0913 20:58:04.665336  9754 net.cpp:91] Creating Layer norm1
I0913 20:58:04.665341  9754 net.cpp:425] norm1 <- pool1
I0913 20:58:04.665349  9754 net.cpp:399] norm1 -> norm1
I0913 20:58:04.665612  9754 net.cpp:141] Setting up norm1
I0913 20:58:04.665624  9754 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0913 20:58:04.665628  9754 net.cpp:156] Memory required for data: 35014200
I0913 20:58:04.665633  9754 layer_factory.hpp:77] Creating layer conv2
I0913 20:58:04.665649  9754 net.cpp:91] Creating Layer conv2
I0913 20:58:04.665654  9754 net.cpp:425] conv2 <- norm1
I0913 20:58:04.665662  9754 net.cpp:399] conv2 -> conv2
I0913 20:58:04.671011  9754 net.cpp:141] Setting up conv2
I0913 20:58:04.671049  9754 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0913 20:58:04.671061  9754 net.cpp:156] Memory required for data: 42479160
I0913 20:58:04.671106  9754 layer_factory.hpp:77] Creating layer relu2
I0913 20:58:04.671139  9754 net.cpp:91] Creating Layer relu2
I0913 20:58:04.671151  9754 net.cpp:425] relu2 <- conv2
I0913 20:58:04.671164  9754 net.cpp:386] relu2 -> conv2 (in-place)
I0913 20:58:04.671813  9754 net.cpp:141] Setting up relu2
I0913 20:58:04.671833  9754 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0913 20:58:04.671843  9754 net.cpp:156] Memory required for data: 49944120
I0913 20:58:04.671851  9754 layer_factory.hpp:77] Creating layer pool2
I0913 20:58:04.671865  9754 net.cpp:91] Creating Layer pool2
I0913 20:58:04.671876  9754 net.cpp:425] pool2 <- conv2
I0913 20:58:04.671890  9754 net.cpp:399] pool2 -> pool2
I0913 20:58:04.671969  9754 net.cpp:141] Setting up pool2
I0913 20:58:04.671985  9754 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0913 20:58:04.671993  9754 net.cpp:156] Memory required for data: 51674680
I0913 20:58:04.672003  9754 layer_factory.hpp:77] Creating layer norm2
I0913 20:58:04.672019  9754 net.cpp:91] Creating Layer norm2
I0913 20:58:04.672029  9754 net.cpp:425] norm2 <- pool2
I0913 20:58:04.672039  9754 net.cpp:399] norm2 -> norm2
I0913 20:58:04.672457  9754 net.cpp:141] Setting up norm2
I0913 20:58:04.672478  9754 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0913 20:58:04.672487  9754 net.cpp:156] Memory required for data: 53405240
I0913 20:58:04.672497  9754 layer_factory.hpp:77] Creating layer conv3
I0913 20:58:04.672513  9754 net.cpp:91] Creating Layer conv3
I0913 20:58:04.672523  9754 net.cpp:425] conv3 <- norm2
I0913 20:58:04.672540  9754 net.cpp:399] conv3 -> conv3
I0913 20:58:04.676834  9754 net.cpp:141] Setting up conv3
I0913 20:58:04.676868  9754 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0913 20:58:04.676874  9754 net.cpp:156] Memory required for data: 56001080
I0913 20:58:04.676890  9754 layer_factory.hpp:77] Creating layer relu3
I0913 20:58:04.676918  9754 net.cpp:91] Creating Layer relu3
I0913 20:58:04.676923  9754 net.cpp:425] relu3 <- conv3
I0913 20:58:04.676930  9754 net.cpp:386] relu3 -> conv3 (in-place)
I0913 20:58:04.677155  9754 net.cpp:141] Setting up relu3
I0913 20:58:04.677166  9754 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0913 20:58:04.677170  9754 net.cpp:156] Memory required for data: 58596920
I0913 20:58:04.677175  9754 layer_factory.hpp:77] Creating layer conv4
I0913 20:58:04.677192  9754 net.cpp:91] Creating Layer conv4
I0913 20:58:04.677198  9754 net.cpp:425] conv4 <- conv3
I0913 20:58:04.677207  9754 net.cpp:399] conv4 -> conv4
I0913 20:58:04.681247  9754 net.cpp:141] Setting up conv4
I0913 20:58:04.681270  9754 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0913 20:58:04.681275  9754 net.cpp:156] Memory required for data: 61192760
I0913 20:58:04.681285  9754 layer_factory.hpp:77] Creating layer relu4
I0913 20:58:04.681299  9754 net.cpp:91] Creating Layer relu4
I0913 20:58:04.681305  9754 net.cpp:425] relu4 <- conv4
I0913 20:58:04.681311  9754 net.cpp:386] relu4 -> conv4 (in-place)
I0913 20:58:04.681702  9754 net.cpp:141] Setting up relu4
I0913 20:58:04.681715  9754 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0913 20:58:04.681720  9754 net.cpp:156] Memory required for data: 63788600
I0913 20:58:04.681725  9754 layer_factory.hpp:77] Creating layer conv5
I0913 20:58:04.681740  9754 net.cpp:91] Creating Layer conv5
I0913 20:58:04.681746  9754 net.cpp:425] conv5 <- conv4
I0913 20:58:04.681752  9754 net.cpp:399] conv5 -> conv5
I0913 20:58:04.685394  9754 net.cpp:141] Setting up conv5
I0913 20:58:04.685413  9754 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0913 20:58:04.685418  9754 net.cpp:156] Memory required for data: 65519160
I0913 20:58:04.685431  9754 layer_factory.hpp:77] Creating layer relu5
I0913 20:58:04.685458  9754 net.cpp:91] Creating Layer relu5
I0913 20:58:04.685466  9754 net.cpp:425] relu5 <- conv5
I0913 20:58:04.685472  9754 net.cpp:386] relu5 -> conv5 (in-place)
I0913 20:58:04.685869  9754 net.cpp:141] Setting up relu5
I0913 20:58:04.685881  9754 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0913 20:58:04.685886  9754 net.cpp:156] Memory required for data: 67249720
I0913 20:58:04.685909  9754 layer_factory.hpp:77] Creating layer pool5
I0913 20:58:04.685925  9754 net.cpp:91] Creating Layer pool5
I0913 20:58:04.685930  9754 net.cpp:425] pool5 <- conv5
I0913 20:58:04.685937  9754 net.cpp:399] pool5 -> pool5
I0913 20:58:04.686002  9754 net.cpp:141] Setting up pool5
I0913 20:58:04.686010  9754 net.cpp:148] Top shape: 10 256 6 6 (92160)
I0913 20:58:04.686015  9754 net.cpp:156] Memory required for data: 67618360
I0913 20:58:04.686019  9754 layer_factory.hpp:77] Creating layer fc6
I0913 20:58:04.686033  9754 net.cpp:91] Creating Layer fc6
I0913 20:58:04.686038  9754 net.cpp:425] fc6 <- pool5
I0913 20:58:04.686044  9754 net.cpp:399] fc6 -> fc6
I0913 20:58:04.760922  9744 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /home/peifeng/work/run/storm102/data/workers/2847425c-45bf-4b10-89d4-e43d37ebdaf4/tmp/cvld4868851032268392937/s2vt.words_to_preds.prototxt
I0913 20:58:04.760972  9744 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
W0913 20:58:04.760982  9744 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
I0913 20:58:04.761230  9744 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0913 20:58:04.761322  9744 layer_factory.hpp:77] Creating layer input
I0913 20:58:04.761335  9744 net.cpp:91] Creating Layer input
I0913 20:58:04.761343  9744 net.cpp:399] input -> frames_fc7
I0913 20:58:04.761360  9744 net.cpp:399] input -> cont_sentence
I0913 20:58:04.761370  9744 net.cpp:399] input -> input_sentence
I0913 20:58:04.761379  9744 net.cpp:399] input -> stage_indicator
I0913 20:58:04.761497  9744 net.cpp:141] Setting up input
I0913 20:58:04.761508  9744 net.cpp:148] Top shape: 1 4096 (4096)
I0913 20:58:04.761514  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.761519  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.761525  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.761529  9744 net.cpp:156] Memory required for data: 16396
I0913 20:58:04.761534  9744 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0913 20:58:04.761543  9744 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0913 20:58:04.761548  9744 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0913 20:58:04.761564  9744 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0913 20:58:04.761574  9744 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0913 20:58:04.761620  9744 net.cpp:141] Setting up cont_sentence_input_1_split
I0913 20:58:04.761631  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.761636  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.761641  9744 net.cpp:156] Memory required for data: 16404
I0913 20:58:04.761646  9744 layer_factory.hpp:77] Creating layer embed_encoder
I0913 20:58:04.761656  9744 net.cpp:91] Creating Layer embed_encoder
I0913 20:58:04.761662  9744 net.cpp:425] embed_encoder <- frames_fc7
I0913 20:58:04.761670  9744 net.cpp:399] embed_encoder -> embedded_in_frames
I0913 20:58:04.781726  9744 net.cpp:141] Setting up embed_encoder
I0913 20:58:04.781760  9744 net.cpp:148] Top shape: 1 500 (500)
I0913 20:58:04.781765  9744 net.cpp:156] Memory required for data: 18404
I0913 20:58:04.781781  9744 layer_factory.hpp:77] Creating layer reshape_frames
I0913 20:58:04.781803  9744 net.cpp:91] Creating Layer reshape_frames
I0913 20:58:04.781810  9744 net.cpp:425] reshape_frames <- embedded_in_frames
I0913 20:58:04.781819  9744 net.cpp:399] reshape_frames -> embedded_input_frames
I0913 20:58:04.781868  9744 net.cpp:141] Setting up reshape_frames
I0913 20:58:04.781877  9744 net.cpp:148] Top shape: 1 1 500 (500)
I0913 20:58:04.781882  9744 net.cpp:156] Memory required for data: 20404
I0913 20:58:04.781886  9744 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0913 20:58:04.781898  9744 net.cpp:91] Creating Layer reshape_stage_indicator
I0913 20:58:04.781903  9744 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0913 20:58:04.781909  9744 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0913 20:58:04.781947  9744 net.cpp:141] Setting up reshape_stage_indicator
I0913 20:58:04.781955  9744 net.cpp:148] Top shape: 1 1 1 (1)
I0913 20:58:04.781960  9744 net.cpp:156] Memory required for data: 20408
I0913 20:58:04.781965  9744 layer_factory.hpp:77] Creating layer embedding
I0913 20:58:04.781976  9744 net.cpp:91] Creating Layer embedding
I0913 20:58:04.781981  9744 net.cpp:425] embedding <- input_sentence
I0913 20:58:04.781988  9744 net.cpp:399] embedding -> embedded_input_sentence
I0913 20:58:04.823256  9754 net.cpp:141] Setting up fc6
I0913 20:58:04.823362  9754 net.cpp:148] Top shape: 10 4096 (40960)
I0913 20:58:04.823376  9754 net.cpp:156] Memory required for data: 67782200
I0913 20:58:04.823413  9754 layer_factory.hpp:77] Creating layer relu6
I0913 20:58:04.823449  9754 net.cpp:91] Creating Layer relu6
I0913 20:58:04.823463  9754 net.cpp:425] relu6 <- fc6
I0913 20:58:04.823487  9754 net.cpp:386] relu6 -> fc6 (in-place)
I0913 20:58:04.824496  9754 net.cpp:141] Setting up relu6
I0913 20:58:04.824512  9754 net.cpp:148] Top shape: 10 4096 (40960)
I0913 20:58:04.824519  9754 net.cpp:156] Memory required for data: 67946040
I0913 20:58:04.824527  9754 layer_factory.hpp:77] Creating layer drop6
I0913 20:58:04.824630  9754 net.cpp:91] Creating Layer drop6
I0913 20:58:04.824638  9754 net.cpp:425] drop6 <- fc6
I0913 20:58:04.824648  9754 net.cpp:386] drop6 -> fc6 (in-place)
I0913 20:58:04.824736  9754 net.cpp:141] Setting up drop6
I0913 20:58:04.824748  9754 net.cpp:148] Top shape: 10 4096 (40960)
I0913 20:58:04.824755  9754 net.cpp:156] Memory required for data: 68109880
I0913 20:58:04.824762  9754 layer_factory.hpp:77] Creating layer fc7
I0913 20:58:04.824790  9754 net.cpp:91] Creating Layer fc7
I0913 20:58:04.824797  9754 net.cpp:425] fc7 <- fc6
I0913 20:58:04.824812  9754 net.cpp:399] fc7 -> fc7
I0913 20:58:04.872534  9754 net.cpp:141] Setting up fc7
I0913 20:58:04.872586  9754 net.cpp:148] Top shape: 10 4096 (40960)
I0913 20:58:04.872591  9754 net.cpp:156] Memory required for data: 68273720
I0913 20:58:04.872609  9754 layer_factory.hpp:77] Creating layer relu7
I0913 20:58:04.872634  9754 net.cpp:91] Creating Layer relu7
I0913 20:58:04.872643  9754 net.cpp:425] relu7 <- fc7
I0913 20:58:04.872653  9754 net.cpp:386] relu7 -> fc7 (in-place)
I0913 20:58:04.873402  9754 net.cpp:141] Setting up relu7
I0913 20:58:04.873415  9754 net.cpp:148] Top shape: 10 4096 (40960)
I0913 20:58:04.873420  9754 net.cpp:156] Memory required for data: 68437560
I0913 20:58:04.873425  9754 layer_factory.hpp:77] Creating layer drop7
I0913 20:58:04.873440  9754 net.cpp:91] Creating Layer drop7
I0913 20:58:04.873445  9754 net.cpp:425] drop7 <- fc7
I0913 20:58:04.873452  9754 net.cpp:386] drop7 -> fc7 (in-place)
I0913 20:58:04.873492  9754 net.cpp:141] Setting up drop7
I0913 20:58:04.873500  9754 net.cpp:148] Top shape: 10 4096 (40960)
I0913 20:58:04.873504  9754 net.cpp:156] Memory required for data: 68601400
I0913 20:58:04.873509  9754 layer_factory.hpp:77] Creating layer fc8
I0913 20:58:04.873520  9754 net.cpp:91] Creating Layer fc8
I0913 20:58:04.873525  9754 net.cpp:425] fc8 <- fc7
I0913 20:58:04.873534  9754 net.cpp:399] fc8 -> fc8
I0913 20:58:04.885505  9754 net.cpp:141] Setting up fc8
I0913 20:58:04.885553  9754 net.cpp:148] Top shape: 10 1000 (10000)
I0913 20:58:04.885560  9754 net.cpp:156] Memory required for data: 68641400
I0913 20:58:04.885573  9754 layer_factory.hpp:77] Creating layer prob
I0913 20:58:04.885594  9754 net.cpp:91] Creating Layer prob
I0913 20:58:04.885601  9754 net.cpp:425] prob <- fc8
I0913 20:58:04.885617  9754 net.cpp:399] prob -> prob
I0913 20:58:04.886049  9754 net.cpp:141] Setting up prob
I0913 20:58:04.886061  9754 net.cpp:148] Top shape: 10 1000 (10000)
I0913 20:58:04.886065  9754 net.cpp:156] Memory required for data: 68681400
I0913 20:58:04.886070  9754 net.cpp:219] prob does not need backward computation.
I0913 20:58:04.886075  9754 net.cpp:219] fc8 does not need backward computation.
I0913 20:58:04.886080  9754 net.cpp:219] drop7 does not need backward computation.
I0913 20:58:04.886085  9754 net.cpp:219] relu7 does not need backward computation.
I0913 20:58:04.886088  9754 net.cpp:219] fc7 does not need backward computation.
I0913 20:58:04.886092  9754 net.cpp:219] drop6 does not need backward computation.
I0913 20:58:04.886096  9754 net.cpp:219] relu6 does not need backward computation.
I0913 20:58:04.886101  9754 net.cpp:219] fc6 does not need backward computation.
I0913 20:58:04.886106  9754 net.cpp:219] pool5 does not need backward computation.
I0913 20:58:04.886109  9754 net.cpp:219] relu5 does not need backward computation.
I0913 20:58:04.886113  9754 net.cpp:219] conv5 does not need backward computation.
I0913 20:58:04.886117  9754 net.cpp:219] relu4 does not need backward computation.
I0913 20:58:04.886121  9754 net.cpp:219] conv4 does not need backward computation.
I0913 20:58:04.886126  9754 net.cpp:219] relu3 does not need backward computation.
I0913 20:58:04.886131  9754 net.cpp:219] conv3 does not need backward computation.
I0913 20:58:04.886134  9754 net.cpp:219] norm2 does not need backward computation.
I0913 20:58:04.886139  9754 net.cpp:219] pool2 does not need backward computation.
I0913 20:58:04.886143  9754 net.cpp:219] relu2 does not need backward computation.
I0913 20:58:04.886147  9754 net.cpp:219] conv2 does not need backward computation.
I0913 20:58:04.886152  9754 net.cpp:219] norm1 does not need backward computation.
I0913 20:58:04.886157  9754 net.cpp:219] pool1 does not need backward computation.
I0913 20:58:04.886160  9754 net.cpp:219] relu1 does not need backward computation.
I0913 20:58:04.886164  9754 net.cpp:219] conv1 does not need backward computation.
I0913 20:58:04.886169  9754 net.cpp:219] data does not need backward computation.
I0913 20:58:04.886173  9754 net.cpp:261] This network produces output prob
I0913 20:58:04.886196  9754 net.cpp:274] Network initialization done.
I0913 20:58:04.994771  9744 net.cpp:141] Setting up embedding
I0913 20:58:04.994817  9744 net.cpp:148] Top shape: 1 1 500 (500)
I0913 20:58:04.994822  9744 net.cpp:156] Memory required for data: 22408
I0913 20:58:04.994837  9744 layer_factory.hpp:77] Creating layer lstm1
I0913 20:58:04.994858  9744 net.cpp:91] Creating Layer lstm1
I0913 20:58:04.994864  9744 net.cpp:425] lstm1 <- embedded_input_frames
I0913 20:58:04.994873  9744 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0913 20:58:04.994882  9744 net.cpp:399] lstm1 -> lstm1
I0913 20:58:04.994907  9744 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0913 20:58:04.995234  9744 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0913 20:58:04.995321  9744 layer_factory.hpp:77] Creating layer lstm1_
I0913 20:58:04.995332  9744 net.cpp:91] Creating Layer lstm1_
I0913 20:58:04.995338  9744 net.cpp:399] lstm1_ -> x
I0913 20:58:04.995349  9744 net.cpp:399] lstm1_ -> cont
I0913 20:58:04.995415  9744 net.cpp:141] Setting up lstm1_
I0913 20:58:04.995425  9744 net.cpp:148] Top shape: 1 1 500 (500)
I0913 20:58:04.995431  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.995436  9744 net.cpp:156] Memory required for data: 2004
I0913 20:58:04.995441  9744 layer_factory.hpp:77] Creating layer lstm1_
I0913 20:58:04.995450  9744 net.cpp:91] Creating Layer lstm1_
I0913 20:58:04.995457  9744 net.cpp:399] lstm1_ -> c_0
I0913 20:58:04.995466  9744 net.cpp:399] lstm1_ -> h_0
I0913 20:58:04.995514  9744 net.cpp:141] Setting up lstm1_
I0913 20:58:04.995525  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:04.995532  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:04.995535  9744 net.cpp:156] Memory required for data: 10004
I0913 20:58:04.995540  9744 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0913 20:58:04.995548  9744 net.cpp:91] Creating Layer lstm1_cont_slice
I0913 20:58:04.995553  9744 net.cpp:425] lstm1_cont_slice <- cont
I0913 20:58:04.995559  9744 net.cpp:399] lstm1_cont_slice -> cont_1
I0913 20:58:04.995599  9744 net.cpp:141] Setting up lstm1_cont_slice
I0913 20:58:04.995607  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.995612  9744 net.cpp:156] Memory required for data: 10008
I0913 20:58:04.995616  9744 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0913 20:58:04.995625  9744 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0913 20:58:04.995630  9744 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0913 20:58:04.995636  9744 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0913 20:58:04.995645  9744 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0913 20:58:04.995692  9744 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0913 20:58:04.995699  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.995705  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:04.995709  9744 net.cpp:156] Memory required for data: 10016
I0913 20:58:04.995713  9744 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0913 20:58:04.995723  9744 net.cpp:91] Creating Layer lstm1_x_transform
I0913 20:58:04.995728  9744 net.cpp:425] lstm1_x_transform <- x
I0913 20:58:04.995736  9744 net.cpp:399] lstm1_x_transform -> W_xc_x
I0913 20:58:05.015014  9744 net.cpp:141] Setting up lstm1_x_transform
I0913 20:58:05.015072  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.015079  9744 net.cpp:156] Memory required for data: 26016
I0913 20:58:05.015095  9744 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0913 20:58:05.015110  9744 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0913 20:58:05.015116  9744 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0913 20:58:05.015125  9744 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0913 20:58:05.015168  9744 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0913 20:58:05.015177  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.015182  9744 net.cpp:156] Memory required for data: 42016
I0913 20:58:05.015187  9744 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0913 20:58:05.015195  9744 net.cpp:91] Creating Layer lstm1_h_conted_0
I0913 20:58:05.015200  9744 net.cpp:425] lstm1_h_conted_0 <- h_0
I0913 20:58:05.015207  9744 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0913 20:58:05.015213  9744 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0913 20:58:05.015316  9744 net.cpp:141] Setting up lstm1_h_conted_0
I0913 20:58:05.015326  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.015329  9744 net.cpp:156] Memory required for data: 46016
I0913 20:58:05.015334  9744 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0913 20:58:05.015346  9744 net.cpp:91] Creating Layer lstm1_transform_1
I0913 20:58:05.015350  9744 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0913 20:58:05.015357  9744 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0913 20:58:05.053309  9744 net.cpp:141] Setting up lstm1_transform_1
I0913 20:58:05.053364  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.053371  9744 net.cpp:156] Memory required for data: 62016
I0913 20:58:05.053387  9744 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0913 20:58:05.053405  9744 net.cpp:91] Creating Layer lstm1_gate_input_1
I0913 20:58:05.053411  9744 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0913 20:58:05.053418  9744 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0913 20:58:05.053428  9744 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0913 20:58:05.053477  9744 net.cpp:141] Setting up lstm1_gate_input_1
I0913 20:58:05.053488  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.053493  9744 net.cpp:156] Memory required for data: 78016
I0913 20:58:05.053498  9744 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0913 20:58:05.053506  9744 net.cpp:91] Creating Layer lstm1_unit_1
I0913 20:58:05.053511  9744 net.cpp:425] lstm1_unit_1 <- c_0
I0913 20:58:05.053516  9744 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0913 20:58:05.053521  9744 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0913 20:58:05.053529  9744 net.cpp:399] lstm1_unit_1 -> c_1
I0913 20:58:05.053536  9744 net.cpp:399] lstm1_unit_1 -> h_1
I0913 20:58:05.053596  9744 net.cpp:141] Setting up lstm1_unit_1
I0913 20:58:05.053606  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.053611  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.053614  9744 net.cpp:156] Memory required for data: 86016
I0913 20:58:05.053619  9744 layer_factory.hpp:77] Creating layer lstm1_
I0913 20:58:05.053627  9744 net.cpp:91] Creating Layer lstm1_
I0913 20:58:05.053632  9744 net.cpp:425] lstm1_ <- c_1
I0913 20:58:05.053637  9744 net.cpp:399] lstm1_ -> c_T
I0913 20:58:05.053665  9744 net.cpp:141] Setting up lstm1_
I0913 20:58:05.053673  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.053678  9744 net.cpp:156] Memory required for data: 90016
I0913 20:58:05.053681  9744 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0913 20:58:05.053701  9744 net.cpp:91] Creating Layer lstm1_h_concat
I0913 20:58:05.053706  9744 net.cpp:425] lstm1_h_concat <- h_1
I0913 20:58:05.053714  9744 net.cpp:399] lstm1_h_concat -> h
I0913 20:58:05.053746  9744 net.cpp:141] Setting up lstm1_h_concat
I0913 20:58:05.053755  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.053758  9744 net.cpp:156] Memory required for data: 94016
I0913 20:58:05.053763  9744 layer_factory.hpp:77] Creating layer h_pseudoloss
I0913 20:58:05.053771  9744 net.cpp:91] Creating Layer h_pseudoloss
I0913 20:58:05.053776  9744 net.cpp:425] h_pseudoloss <- h
I0913 20:58:05.053784  9744 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0913 20:58:05.053876  9744 net.cpp:141] Setting up h_pseudoloss
I0913 20:58:05.053885  9744 net.cpp:148] Top shape: (1)
I0913 20:58:05.053890  9744 net.cpp:151]     with loss weight 1
I0913 20:58:05.053921  9744 net.cpp:156] Memory required for data: 94020
I0913 20:58:05.053926  9744 net.cpp:217] h_pseudoloss needs backward computation.
I0913 20:58:05.053931  9744 net.cpp:217] lstm1_h_concat needs backward computation.
I0913 20:58:05.053936  9744 net.cpp:219] lstm1_ does not need backward computation.
I0913 20:58:05.053941  9744 net.cpp:217] lstm1_unit_1 needs backward computation.
I0913 20:58:05.053946  9744 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0913 20:58:05.053951  9744 net.cpp:217] lstm1_transform_1 needs backward computation.
I0913 20:58:05.053956  9744 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0913 20:58:05.053961  9744 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0913 20:58:05.053966  9744 net.cpp:217] lstm1_x_transform needs backward computation.
I0913 20:58:05.053971  9744 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0913 20:58:05.053975  9744 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0913 20:58:05.053980  9744 net.cpp:219] lstm1_ does not need backward computation.
I0913 20:58:05.053984  9744 net.cpp:219] lstm1_ does not need backward computation.
I0913 20:58:05.053987  9744 net.cpp:261] This network produces output c_T
I0913 20:58:05.053992  9744 net.cpp:261] This network produces output h_pseudoloss
I0913 20:58:05.054008  9744 net.cpp:274] Network initialization done.
I0913 20:58:05.054059  9744 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0913 20:58:05.054064  9744 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0913 20:58:05.054069  9744 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0913 20:58:05.054168  9744 net.cpp:141] Setting up lstm1
I0913 20:58:05.054179  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.054183  9744 net.cpp:156] Memory required for data: 26408
I0913 20:58:05.054196  9744 layer_factory.hpp:77] Creating layer concat
I0913 20:58:05.054208  9744 net.cpp:91] Creating Layer concat
I0913 20:58:05.054214  9744 net.cpp:425] concat <- lstm1
I0913 20:58:05.054220  9744 net.cpp:425] concat <- embedded_input_sentence
I0913 20:58:05.054225  9744 net.cpp:425] concat <- reshaped_stage_indicator
I0913 20:58:05.054232  9744 net.cpp:399] concat -> lstm1_video_sequence
I0913 20:58:05.054265  9744 net.cpp:141] Setting up concat
I0913 20:58:05.054273  9744 net.cpp:148] Top shape: 1 1 1501 (1501)
I0913 20:58:05.054278  9744 net.cpp:156] Memory required for data: 32412
I0913 20:58:05.054283  9744 layer_factory.hpp:77] Creating layer lstm2
I0913 20:58:05.054294  9744 net.cpp:91] Creating Layer lstm2
I0913 20:58:05.054299  9744 net.cpp:425] lstm2 <- lstm1_video_sequence
I0913 20:58:05.054306  9744 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0913 20:58:05.054311  9744 net.cpp:399] lstm2 -> lstm2
I0913 20:58:05.054322  9744 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0913 20:58:05.054546  9744 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0913 20:58:05.054627  9744 layer_factory.hpp:77] Creating layer lstm2_
I0913 20:58:05.054638  9744 net.cpp:91] Creating Layer lstm2_
I0913 20:58:05.054644  9744 net.cpp:399] lstm2_ -> x
I0913 20:58:05.054654  9744 net.cpp:399] lstm2_ -> cont
I0913 20:58:05.054707  9744 net.cpp:141] Setting up lstm2_
I0913 20:58:05.054715  9744 net.cpp:148] Top shape: 1 1 1501 (1501)
I0913 20:58:05.054721  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:05.054725  9744 net.cpp:156] Memory required for data: 6008
I0913 20:58:05.054730  9744 layer_factory.hpp:77] Creating layer lstm2_
I0913 20:58:05.054738  9744 net.cpp:91] Creating Layer lstm2_
I0913 20:58:05.054744  9744 net.cpp:399] lstm2_ -> c_0
I0913 20:58:05.054755  9744 net.cpp:399] lstm2_ -> h_0
I0913 20:58:05.054797  9744 net.cpp:141] Setting up lstm2_
I0913 20:58:05.054805  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.054811  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.054816  9744 net.cpp:156] Memory required for data: 14008
I0913 20:58:05.054819  9744 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0913 20:58:05.054831  9744 net.cpp:91] Creating Layer lstm2_cont_slice
I0913 20:58:05.054836  9744 net.cpp:425] lstm2_cont_slice <- cont
I0913 20:58:05.054841  9744 net.cpp:399] lstm2_cont_slice -> cont_1
I0913 20:58:05.054872  9744 net.cpp:141] Setting up lstm2_cont_slice
I0913 20:58:05.054879  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:05.054888  9744 net.cpp:156] Memory required for data: 14012
I0913 20:58:05.054893  9744 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0913 20:58:05.054899  9744 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0913 20:58:05.054903  9744 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0913 20:58:05.054913  9744 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0913 20:58:05.054919  9744 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0913 20:58:05.054962  9744 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0913 20:58:05.054970  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:05.054975  9744 net.cpp:148] Top shape: 1 1 (1)
I0913 20:58:05.054980  9744 net.cpp:156] Memory required for data: 14020
I0913 20:58:05.054985  9744 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0913 20:58:05.054996  9744 net.cpp:91] Creating Layer lstm2_x_transform
I0913 20:58:05.055001  9744 net.cpp:425] lstm2_x_transform <- x
I0913 20:58:05.055007  9744 net.cpp:399] lstm2_x_transform -> W_xc_x
I0913 20:58:05.111701  9744 net.cpp:141] Setting up lstm2_x_transform
I0913 20:58:05.111743  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.111749  9744 net.cpp:156] Memory required for data: 30020
I0913 20:58:05.111770  9744 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0913 20:58:05.111788  9744 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0913 20:58:05.111794  9744 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0913 20:58:05.111804  9744 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0913 20:58:05.111845  9744 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0913 20:58:05.111855  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.111858  9744 net.cpp:156] Memory required for data: 46020
I0913 20:58:05.111862  9744 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0913 20:58:05.111876  9744 net.cpp:91] Creating Layer lstm2_h_conted_0
I0913 20:58:05.111881  9744 net.cpp:425] lstm2_h_conted_0 <- h_0
I0913 20:58:05.111886  9744 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0913 20:58:05.111893  9744 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0913 20:58:05.111984  9744 net.cpp:141] Setting up lstm2_h_conted_0
I0913 20:58:05.111992  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.111996  9744 net.cpp:156] Memory required for data: 50020
I0913 20:58:05.112001  9744 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0913 20:58:05.112015  9744 net.cpp:91] Creating Layer lstm2_transform_1
I0913 20:58:05.112020  9744 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0913 20:58:05.112027  9744 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0913 20:58:05.136863  9754 upgrade_proto.cpp:43] Attempting to upgrade input file specified using deprecated transformation parameters: /home/peifeng/work/run/storm102/data/workers/2847425c-45bf-4b10-89d4-e43d37ebdaf4/tmp/cvld4868851032268392937/bvlc_reference_caffenet.caffemodel
I0913 20:58:05.136914  9754 upgrade_proto.cpp:46] Successfully upgraded file specified using deprecated data transformation parameters.
W0913 20:58:05.136920  9754 upgrade_proto.cpp:48] Note that future Caffe releases will only support transform_param messages for transformation fields.
I0913 20:58:05.136925  9754 upgrade_proto.cpp:52] Attempting to upgrade input file specified using deprecated V1LayerParameter: /home/peifeng/work/run/storm102/data/workers/2847425c-45bf-4b10-89d4-e43d37ebdaf4/tmp/cvld4868851032268392937/bvlc_reference_caffenet.caffemodel
I0913 20:58:05.149736  9744 net.cpp:141] Setting up lstm2_transform_1
I0913 20:58:05.149776  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.149782  9744 net.cpp:156] Memory required for data: 66020
I0913 20:58:05.149797  9744 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0913 20:58:05.149816  9744 net.cpp:91] Creating Layer lstm2_gate_input_1
I0913 20:58:05.149823  9744 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0913 20:58:05.149830  9744 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0913 20:58:05.149838  9744 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0913 20:58:05.149884  9744 net.cpp:141] Setting up lstm2_gate_input_1
I0913 20:58:05.149893  9744 net.cpp:148] Top shape: 1 1 4000 (4000)
I0913 20:58:05.149898  9744 net.cpp:156] Memory required for data: 82020
I0913 20:58:05.149901  9744 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0913 20:58:05.149910  9744 net.cpp:91] Creating Layer lstm2_unit_1
I0913 20:58:05.149914  9744 net.cpp:425] lstm2_unit_1 <- c_0
I0913 20:58:05.149920  9744 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0913 20:58:05.149925  9744 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0913 20:58:05.149931  9744 net.cpp:399] lstm2_unit_1 -> c_1
I0913 20:58:05.149940  9744 net.cpp:399] lstm2_unit_1 -> h_1
I0913 20:58:05.149998  9744 net.cpp:141] Setting up lstm2_unit_1
I0913 20:58:05.150007  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.150012  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.150017  9744 net.cpp:156] Memory required for data: 90020
I0913 20:58:05.150022  9744 layer_factory.hpp:77] Creating layer lstm2_
I0913 20:58:05.150030  9744 net.cpp:91] Creating Layer lstm2_
I0913 20:58:05.150035  9744 net.cpp:425] lstm2_ <- c_1
I0913 20:58:05.150043  9744 net.cpp:399] lstm2_ -> c_T
I0913 20:58:05.150070  9744 net.cpp:141] Setting up lstm2_
I0913 20:58:05.150079  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.150082  9744 net.cpp:156] Memory required for data: 94020
I0913 20:58:05.150086  9744 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0913 20:58:05.150095  9744 net.cpp:91] Creating Layer lstm2_h_concat
I0913 20:58:05.150099  9744 net.cpp:425] lstm2_h_concat <- h_1
I0913 20:58:05.150108  9744 net.cpp:399] lstm2_h_concat -> h
I0913 20:58:05.150140  9744 net.cpp:141] Setting up lstm2_h_concat
I0913 20:58:05.150147  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.150152  9744 net.cpp:156] Memory required for data: 98020
I0913 20:58:05.150156  9744 layer_factory.hpp:77] Creating layer h_pseudoloss
I0913 20:58:05.150164  9744 net.cpp:91] Creating Layer h_pseudoloss
I0913 20:58:05.150169  9744 net.cpp:425] h_pseudoloss <- h
I0913 20:58:05.150176  9744 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0913 20:58:05.150261  9744 net.cpp:141] Setting up h_pseudoloss
I0913 20:58:05.150270  9744 net.cpp:148] Top shape: (1)
I0913 20:58:05.150275  9744 net.cpp:151]     with loss weight 1
I0913 20:58:05.150288  9744 net.cpp:156] Memory required for data: 98024
I0913 20:58:05.150293  9744 net.cpp:217] h_pseudoloss needs backward computation.
I0913 20:58:05.150298  9744 net.cpp:217] lstm2_h_concat needs backward computation.
I0913 20:58:05.150303  9744 net.cpp:219] lstm2_ does not need backward computation.
I0913 20:58:05.150307  9744 net.cpp:217] lstm2_unit_1 needs backward computation.
I0913 20:58:05.150312  9744 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0913 20:58:05.150317  9744 net.cpp:217] lstm2_transform_1 needs backward computation.
I0913 20:58:05.150322  9744 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0913 20:58:05.150327  9744 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0913 20:58:05.150332  9744 net.cpp:217] lstm2_x_transform needs backward computation.
I0913 20:58:05.150336  9744 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0913 20:58:05.150341  9744 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0913 20:58:05.150346  9744 net.cpp:219] lstm2_ does not need backward computation.
I0913 20:58:05.150351  9744 net.cpp:219] lstm2_ does not need backward computation.
I0913 20:58:05.150354  9744 net.cpp:261] This network produces output c_T
I0913 20:58:05.150358  9744 net.cpp:261] This network produces output h_pseudoloss
I0913 20:58:05.150374  9744 net.cpp:274] Network initialization done.
I0913 20:58:05.150418  9744 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0913 20:58:05.150424  9744 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0913 20:58:05.150429  9744 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0913 20:58:05.150523  9744 net.cpp:141] Setting up lstm2
I0913 20:58:05.150535  9744 net.cpp:148] Top shape: 1 1 1000 (1000)
I0913 20:58:05.150540  9744 net.cpp:156] Memory required for data: 36412
I0913 20:58:05.150552  9744 layer_factory.hpp:77] Creating layer predict
I0913 20:58:05.150564  9744 net.cpp:91] Creating Layer predict
I0913 20:58:05.150570  9744 net.cpp:425] predict <- lstm2
I0913 20:58:05.150578  9744 net.cpp:399] predict -> predict
I0913 20:58:05.528628  9754 upgrade_proto.cpp:60] Successfully upgraded file specified using deprecated V1LayerParameter
I0913 20:58:05.580955  9754 net.cpp:752] Ignoring source layer loss
Loading the model + trained: 10535.2ms
Using cv::Size and some other stuff: 0.273ms
I0913 20:58:05.592602  9744 net.cpp:141] Setting up predict
I0913 20:58:05.592643  9744 net.cpp:148] Top shape: 1 1 46168 (46168)
I0913 20:58:05.592648  9744 net.cpp:156] Memory required for data: 221084
I0913 20:58:05.592660  9744 layer_factory.hpp:77] Creating layer probs
I0913 20:58:05.592675  9744 net.cpp:91] Creating Layer probs
I0913 20:58:05.592682  9744 net.cpp:425] probs <- predict
I0913 20:58:05.592691  9744 net.cpp:399] probs -> probs
I0913 20:58:05.594141  9744 net.cpp:141] Setting up probs
I0913 20:58:05.594172  9744 net.cpp:148] Top shape: 1 1 46168 (46168)
I0913 20:58:05.594183  9744 net.cpp:156] Memory required for data: 405756
I0913 20:58:05.594195  9744 net.cpp:219] probs does not need backward computation.
I0913 20:58:05.594208  9744 net.cpp:219] predict does not need backward computation.
I0913 20:58:05.594220  9744 net.cpp:219] lstm2 does not need backward computation.
I0913 20:58:05.594233  9744 net.cpp:219] concat does not need backward computation.
I0913 20:58:05.594246  9744 net.cpp:219] lstm1 does not need backward computation.
I0913 20:58:05.594259  9744 net.cpp:219] embedding does not need backward computation.
I0913 20:58:05.594270  9744 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0913 20:58:05.594282  9744 net.cpp:219] reshape_frames does not need backward computation.
I0913 20:58:05.594292  9744 net.cpp:219] embed_encoder does not need backward computation.
I0913 20:58:05.594305  9744 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0913 20:58:05.594316  9744 net.cpp:219] input does not need backward computation.
I0913 20:58:05.594326  9744 net.cpp:261] This network produces output probs
I0913 20:58:05.594352  9744 net.cpp:274] Network initialization done.
Loading the mean file: 2218.47ms
I0913 20:58:05.966682  9744 net.cpp:752] Ignoring source layer data
I0913 20:58:05.966716  9744 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0913 20:58:05.966720  9744 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0913 20:58:06.037475  9744 net.cpp:752] Ignoring source layer cross_entropy_loss
TIMERTIMER 122871309
TIMERTIMER 61309575
TIMERTIMER 66838817
TIMERTIMER 47708631
TIMERTIMER 48619689
TIMERTIMER 55417766
TIMERTIMER 54024614
TIMERTIMER 47802816
TIMERTIMER 43788956
TIMERTIMER 47377798
TIMERTIMER 48181552
TIMERTIMER 43783350
TIMERTIMER 49855382
TIMERTIMER 46181204
TIMERTIMER 44199103
TIMERTIMER 47630237
TIMERTIMER 41976986
TIMERTIMER 51326172
TIMERTIMER 31163077
TIMERTIMER 31758279
TIMERTIMER 31676729
TIMERTIMER 37578567
TIMERTIMER 40558687
TIMERTIMER 38701588
TIMERTIMER 38555023
TIMERTIMER 35037570
TIMERTIMER 31922863
TIMERTIMER 31676428
TIMERTIMER 31563014
TIMERTIMER 31611385
TIMERTIMER 36009786
TIMERTIMER 32879348
TIMERTIMER 31649826
TIMERTIMER 37801526
TIMERTIMER 33247124
TIMERTIMER 40778259
TIMERTIMER 38803473
TIMERTIMER 31825088
TIMERTIMER 37426537
TIMERTIMER 32007193
TIMERTIMER 31910671
TIMERTIMER 31896380
TIMERTIMER 38026715
TIMERTIMER 32015037
TIMERTIMER 32509903
TIMERTIMER 31868497
TIMERTIMER 38156668
TIMERTIMER 31682173
TIMERTIMER 37921853
TIMERTIMER 38140077
TIMERTIMER 36663802
TIMERTIMER 32444985
TIMERTIMER 33529355
TIMERTIMER 35396142
TIMERTIMER 31738372
TIMERTIMER 32057015
TIMERTIMER 38929746
TIMERTIMER 31867087
TIMERTIMER 31928491
TIMERTIMER 38051195
TIMERTIMER 38617349
TIMERTIMER 40386718
TIMERTIMER 35408143
TIMERTIMER 33009012
TIMERTIMER 33578698
TIMERTIMER 32984113
TIMERTIMER 31800087
TIMERTIMER 38539071
TIMERTIMER 38150537
TIMERTIMER 31947278
TIMERTIMER 31969908
TIMERTIMER 35206438
TIMERTIMER 38744957
TIMERTIMER 32050039
TIMERTIMER 31655696
TIMERTIMER 37801994
TIMERTIMER 38829445
TIMERTIMER 37895218
TIMERTIMER 32102770
TIMERTIMER 38988635
TIMERTIMER 32132938
TIMERTIMER 31947517
TIMERTIMER 33378954
TIMERTIMER 34933660
TIMERTIMER 33574927
TIMERTIMER 32177106
TIMERTIMER 32215514
TIMERTIMER 32206729
TIMERTIMER 32761202
TIMERTIMER 31827260
TIMERTIMER 32374773
TIMERTIMER 32335518
TIMERTIMER 38151773
TIMERTIMER 32025992
TIMERTIMER 31840572
TIMERTIMER 33838249
TIMERTIMER 31833026
TIMERTIMER 32087337
TIMERTIMER 38604276
TIMERTIMER 39283698
TIMERTIMER 39499455
TIMERTIMER 39316661
TIMERTIMER 39130312
TIMERTIMER 31924449
TIMERTIMER 32065667
TIMERTIMER 38434230
TIMERTIMER 32108143
TIMERTIMER 38048863
#
# A fatal error has been detected by the Java Runtime Environment:
#
#  SIGSEGV (0xb) at pc=0x00007f216bdda39a, pid=9677, tid=139781627234048
#
# JRE version: Java(TM) SE Runtime Environment (8.0_77-b03) (build 1.8.0_77-b03)
# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.77-b03 mixed mode linux-amd64 compressed oops)
# Problematic frame:
# C  [libstormcv_common.so+0x3439a]  vector_Mat_to_Mat(std::vector<cv::Mat, std::allocator<cv::Mat> >&, cv::Mat&)+0xb3
#
# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try "ulimit -c unlimited" before starting Java again
#
# An error report file with more information is saved as:
# /home/peifeng/work/run/storm102/data/workers/2847425c-45bf-4b10-89d4-e43d37ebdaf4/hs_err_pid9677.log
#
# If you would like to submit a bug report, please visit:
#   http://bugreport.java.com/bugreport/crash.jsp
# The crash happened outside the Java Virtual Machine in native code.
# See problematic frame for where to report the bug.
#
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm102/lib/log4j-slf4j-impl-2.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/peifeng/work/run/storm102/data/supervisor/stormdist/captioning-1-1473814643/stormjar.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]
