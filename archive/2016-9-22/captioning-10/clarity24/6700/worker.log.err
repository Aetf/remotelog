SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm102/lib/log4j-slf4j-impl-2.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/peifeng/work/run/storm102/data/supervisor/stormdist/captioning-1-1474597193/stormjar.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]
Java HotSpot(TM) 64-Bit Server VM warning: You have loaded library /home/peifeng/work/run/storm102/data/workers/af8663ad-1fba-4f1c-82b8-5dee0a3cfebf/tmp/cvld3813592839671833736/libopencv_java310.xine1.so which might have disabled stack guard. The VM will try to fix the stack guard now.
It's highly recommended that you fix the library with 'execstack -c <libfile>', or link it with '-z noexecstack'.
WARNING: Logging before InitGoogleLogging() is written to STDERR
I0922 22:20:31.496304 24481 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /home/peifeng/work/run/storm102/data/workers/af8663ad-1fba-4f1c-82b8-5dee0a3cfebf/tmp/cvld3813592839671833736/s2vt.words_to_preds.prototxt
I0922 22:20:31.496304 24485 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /home/peifeng/work/run/storm102/data/workers/af8663ad-1fba-4f1c-82b8-5dee0a3cfebf/tmp/cvld3813592839671833736/s2vt.words_to_preds.prototxt
I0922 22:20:31.496428 24481 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
I0922 22:20:31.496429 24485 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
W0922 22:20:31.496439 24481 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
W0922 22:20:31.496440 24485 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
I0922 22:20:31.496793 24485 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0922 22:20:31.496793 24481 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0922 22:20:31.496929 24491 net.cpp:49] Initializing net from parameters: 
name: "CaffeNet"
state {
  phase: TEST
}
layer {
  name: "data"
  type: "Input"
  top: "data"
  input_param {
    shape {
      dim: 10
      dim: 3
      dim: 227
      dim: 227
    }
  }
}
layer {
  name: "conv1"
  type: "Convolution"
  bottom: "data"
  top: "conv1"
  convolution_param {
    num_output: 96
    kernel_size: 11
    stride: 4
  }
}
layer {
  name: "relu1"
  type: "ReLU"
  bottom: "conv1"
  top: "conv1"
}
layer {
  name: "pool1"
  type: "Pooling"
  bottom: "conv1"
  top: "pool1"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm1"
  type: "LRN"
  bottom: "pool1"
  top: "norm1"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv2"
  type: "Convolution"
  bottom: "norm1"
  top: "conv2"
  convolution_param {
    num_output: 256
    pad: 2
    kernel_size: 5
    group: 2
  }
}
layer {
  name: "relu2"
  type: "ReLU"
  bottom: "conv2"
  top: "conv2"
}
layer {
  name: "pool2"
  type: "Pooling"
  bottom: "conv2"
  top: "pool2"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm2"
  type: "LRN"
  bottom: "pool2"
  top: "norm2"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv3"
  type: "Convolution"
  bottom: "norm2"
  top: "conv3"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
  }
}
layer {
  name: "relu3"
  type: "ReLU"
  bottom: "conv3"
  top: "conv3"
}
layer {
  name: "conv4"
  type: "Convolution"
  bottom: "conv3"
  top: "conv4"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu4"
  type: "ReLU"
  bottom: "conv4"
  top: "conv4"
}
layer {
  name: "conv5"
  type: "Convolution"
  bottom: "conv4"
  top: "conv5"
  convolution_param {
    num_output: 256
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu5"
  type: "ReLU"
  bottom: "conv5"
  top: "conv5"
}
layer {
  name: "pool5"
  type: "Pooling"
  bottom: "conv5"
  top: "pool5"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "fc6"
  type: "InnerProduct"
  bottom: "pool5"
  top: "fc6"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu6"
  type: "ReLU"
  bottom: "fc6"
  top: "fc6"
}
layer {
  name: "drop6"
  type: "Dropout"
  bottom: "fc6"
  top: "fc6"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc7"
  type: "InnerProduct"
  bottom: "fc6"
  top: "fc7"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu7"
  type: "ReLU"
  bottom: "fc7"
  top: "fc7"
}
layer {
  name: "drop7"
  type: "Dropout"
  bottom: "fc7"
  top: "fc7"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc8"
  type: "InnerProduct"
  bottom: "fc7"
  top: "fc8"
  inner_product_param {
    num_output: 1000
  }
}
layer {
  name: "prob"
  type: "Softmax"
  bottom: "fc8"
  top: "prob"
}
I0922 22:20:31.496950 24485 layer_factory.hpp:77] Creating layer input
I0922 22:20:31.496950 24481 layer_factory.hpp:77] Creating layer input
I0922 22:20:31.496986 24485 net.cpp:91] Creating Layer input
I0922 22:20:31.496986 24481 net.cpp:91] Creating Layer input
I0922 22:20:31.497001 24485 net.cpp:399] input -> frames_fc7
I0922 22:20:31.497006 24481 net.cpp:399] input -> frames_fc7
I0922 22:20:31.497041 24481 net.cpp:399] input -> cont_sentence
I0922 22:20:31.497042 24485 net.cpp:399] input -> cont_sentence
I0922 22:20:31.497056 24481 net.cpp:399] input -> input_sentence
I0922 22:20:31.497058 24485 net.cpp:399] input -> input_sentence
I0922 22:20:31.497067 24481 net.cpp:399] input -> stage_indicator
I0922 22:20:31.497071 24485 net.cpp:399] input -> stage_indicator
I0922 22:20:31.497076 24491 layer_factory.hpp:77] Creating layer data
I0922 22:20:31.497094 24491 net.cpp:91] Creating Layer data
I0922 22:20:31.497104 24491 net.cpp:399] data -> data
I0922 22:20:32.093827 24491 net.cpp:141] Setting up data
I0922 22:20:32.093890 24491 net.cpp:148] Top shape: 10 3 227 227 (1545870)
I0922 22:20:32.093899 24491 net.cpp:156] Memory required for data: 6183480
I0922 22:20:32.093920 24491 layer_factory.hpp:77] Creating layer conv1
I0922 22:20:32.093955 24491 net.cpp:91] Creating Layer conv1
I0922 22:20:32.093964 24491 net.cpp:425] conv1 <- data
I0922 22:20:32.093979 24491 net.cpp:399] conv1 -> conv1
I0922 22:20:32.093983 24481 net.cpp:141] Setting up input
I0922 22:20:32.094002 24481 net.cpp:148] Top shape: 1 4096 (4096)
I0922 22:20:32.094009 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094015 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094022 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094025 24481 net.cpp:156] Memory required for data: 16396
I0922 22:20:32.094030 24481 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0922 22:20:32.094050 24481 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0922 22:20:32.094058 24481 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0922 22:20:32.094044 24485 net.cpp:141] Setting up input
I0922 22:20:32.094077 24481 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0922 22:20:32.094085 24485 net.cpp:148] Top shape: 1 4096 (4096)
I0922 22:20:32.094091 24481 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0922 22:20:32.094095 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094104 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094110 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094115 24485 net.cpp:156] Memory required for data: 16396
I0922 22:20:32.094125 24485 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0922 22:20:32.094142 24485 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0922 22:20:32.094149 24485 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0922 22:20:32.094161 24485 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0922 22:20:32.094175 24485 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0922 22:20:32.094228 24481 net.cpp:141] Setting up cont_sentence_input_1_split
I0922 22:20:32.094240 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094246 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094251 24481 net.cpp:156] Memory required for data: 16404
I0922 22:20:32.094256 24481 layer_factory.hpp:77] Creating layer embed_encoder
I0922 22:20:32.094279 24481 net.cpp:91] Creating Layer embed_encoder
I0922 22:20:32.094285 24481 net.cpp:425] embed_encoder <- frames_fc7
I0922 22:20:32.094285 24485 net.cpp:141] Setting up cont_sentence_input_1_split
I0922 22:20:32.094295 24481 net.cpp:399] embed_encoder -> embedded_in_frames
I0922 22:20:32.094300 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094306 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.094311 24485 net.cpp:156] Memory required for data: 16404
I0922 22:20:32.094317 24485 layer_factory.hpp:77] Creating layer embed_encoder
I0922 22:20:32.094333 24485 net.cpp:91] Creating Layer embed_encoder
I0922 22:20:32.094339 24485 net.cpp:425] embed_encoder <- frames_fc7
I0922 22:20:32.094348 24485 net.cpp:399] embed_encoder -> embedded_in_frames
I0922 22:20:32.127043 24485 net.cpp:141] Setting up embed_encoder
I0922 22:20:32.127104 24485 net.cpp:148] Top shape: 1 500 (500)
I0922 22:20:32.127115 24485 net.cpp:156] Memory required for data: 18404
I0922 22:20:32.127154 24485 layer_factory.hpp:77] Creating layer reshape_frames
I0922 22:20:32.127207 24485 net.cpp:91] Creating Layer reshape_frames
I0922 22:20:32.127223 24485 net.cpp:425] reshape_frames <- embedded_in_frames
I0922 22:20:32.127261 24485 net.cpp:399] reshape_frames -> embedded_input_frames
I0922 22:20:32.128309 24481 net.cpp:141] Setting up embed_encoder
I0922 22:20:32.128346 24481 net.cpp:148] Top shape: 1 500 (500)
I0922 22:20:32.128352 24481 net.cpp:156] Memory required for data: 18404
I0922 22:20:32.128370 24485 net.cpp:141] Setting up reshape_frames
I0922 22:20:32.128371 24481 layer_factory.hpp:77] Creating layer reshape_frames
I0922 22:20:32.128396 24485 net.cpp:148] Top shape: 1 1 500 (500)
I0922 22:20:32.128407 24485 net.cpp:156] Memory required for data: 20404
I0922 22:20:32.128408 24481 net.cpp:91] Creating Layer reshape_frames
I0922 22:20:32.128419 24485 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0922 22:20:32.128423 24481 net.cpp:425] reshape_frames <- embedded_in_frames
I0922 22:20:32.128435 24481 net.cpp:399] reshape_frames -> embedded_input_frames
I0922 22:20:32.128438 24485 net.cpp:91] Creating Layer reshape_stage_indicator
I0922 22:20:32.128450 24485 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0922 22:20:32.128466 24485 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0922 22:20:32.128528 24481 net.cpp:141] Setting up reshape_frames
I0922 22:20:32.128540 24481 net.cpp:148] Top shape: 1 1 500 (500)
I0922 22:20:32.128545 24481 net.cpp:156] Memory required for data: 20404
I0922 22:20:32.128548 24481 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0922 22:20:32.128558 24481 net.cpp:91] Creating Layer reshape_stage_indicator
I0922 22:20:32.128563 24481 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0922 22:20:32.128573 24481 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0922 22:20:32.128585 24485 net.cpp:141] Setting up reshape_stage_indicator
I0922 22:20:32.128604 24485 net.cpp:148] Top shape: 1 1 1 (1)
I0922 22:20:32.128613 24485 net.cpp:156] Memory required for data: 20408
I0922 22:20:32.128619 24481 net.cpp:141] Setting up reshape_stage_indicator
I0922 22:20:32.128624 24485 layer_factory.hpp:77] Creating layer embedding
I0922 22:20:32.128630 24481 net.cpp:148] Top shape: 1 1 1 (1)
I0922 22:20:32.128635 24481 net.cpp:156] Memory required for data: 20408
I0922 22:20:32.128640 24481 layer_factory.hpp:77] Creating layer embedding
I0922 22:20:32.128644 24485 net.cpp:91] Creating Layer embedding
I0922 22:20:32.128651 24481 net.cpp:91] Creating Layer embedding
I0922 22:20:32.128657 24481 net.cpp:425] embedding <- input_sentence
I0922 22:20:32.128656 24485 net.cpp:425] embedding <- input_sentence
I0922 22:20:32.128667 24481 net.cpp:399] embedding -> embedded_input_sentence
I0922 22:20:32.128674 24485 net.cpp:399] embedding -> embedded_input_sentence
I0922 22:20:32.348199 24481 net.cpp:141] Setting up embedding
I0922 22:20:32.348239 24481 net.cpp:148] Top shape: 1 1 500 (500)
I0922 22:20:32.348245 24481 net.cpp:156] Memory required for data: 22408
I0922 22:20:32.348261 24481 layer_factory.hpp:77] Creating layer lstm1
I0922 22:20:32.348283 24481 net.cpp:91] Creating Layer lstm1
I0922 22:20:32.348290 24481 net.cpp:425] lstm1 <- embedded_input_frames
I0922 22:20:32.348301 24481 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0922 22:20:32.348312 24481 net.cpp:399] lstm1 -> lstm1
I0922 22:20:32.348348 24481 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0922 22:20:32.348726 24481 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0922 22:20:32.348821 24481 layer_factory.hpp:77] Creating layer lstm1_
I0922 22:20:32.348834 24481 net.cpp:91] Creating Layer lstm1_
I0922 22:20:32.348840 24481 net.cpp:399] lstm1_ -> x
I0922 22:20:32.348852 24481 net.cpp:399] lstm1_ -> cont
I0922 22:20:32.352520 24481 net.cpp:141] Setting up lstm1_
I0922 22:20:32.352540 24481 net.cpp:148] Top shape: 1 1 500 (500)
I0922 22:20:32.352547 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.352551 24481 net.cpp:156] Memory required for data: 2004
I0922 22:20:32.352557 24481 layer_factory.hpp:77] Creating layer lstm1_
I0922 22:20:32.352568 24481 net.cpp:91] Creating Layer lstm1_
I0922 22:20:32.352581 24481 net.cpp:399] lstm1_ -> c_0
I0922 22:20:32.352592 24481 net.cpp:399] lstm1_ -> h_0
I0922 22:20:32.352766 24481 net.cpp:141] Setting up lstm1_
I0922 22:20:32.352777 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.352783 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.352787 24481 net.cpp:156] Memory required for data: 10004
I0922 22:20:32.352792 24481 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0922 22:20:32.352802 24481 net.cpp:91] Creating Layer lstm1_cont_slice
I0922 22:20:32.352805 24481 net.cpp:425] lstm1_cont_slice <- cont
I0922 22:20:32.352815 24481 net.cpp:399] lstm1_cont_slice -> cont_1
I0922 22:20:32.354640 24481 net.cpp:141] Setting up lstm1_cont_slice
I0922 22:20:32.354657 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.354662 24481 net.cpp:156] Memory required for data: 10008
I0922 22:20:32.354668 24481 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0922 22:20:32.354682 24481 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0922 22:20:32.354688 24481 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0922 22:20:32.354696 24481 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0922 22:20:32.354704 24481 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0922 22:20:32.354938 24481 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0922 22:20:32.354949 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.354955 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.354959 24481 net.cpp:156] Memory required for data: 10016
I0922 22:20:32.354964 24481 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0922 22:20:32.354976 24481 net.cpp:91] Creating Layer lstm1_x_transform
I0922 22:20:32.354981 24481 net.cpp:425] lstm1_x_transform <- x
I0922 22:20:32.354990 24481 net.cpp:399] lstm1_x_transform -> W_xc_x
I0922 22:20:32.384290 24481 net.cpp:141] Setting up lstm1_x_transform
I0922 22:20:32.384335 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.384341 24481 net.cpp:156] Memory required for data: 26016
I0922 22:20:32.384364 24481 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0922 22:20:32.384384 24481 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0922 22:20:32.384392 24481 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0922 22:20:32.384402 24481 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0922 22:20:32.386054 24481 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0922 22:20:32.386090 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.386096 24481 net.cpp:156] Memory required for data: 42016
I0922 22:20:32.386104 24481 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0922 22:20:32.386133 24481 net.cpp:91] Creating Layer lstm1_h_conted_0
I0922 22:20:32.386139 24481 net.cpp:425] lstm1_h_conted_0 <- h_0
I0922 22:20:32.386147 24481 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0922 22:20:32.386155 24481 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0922 22:20:32.390671 24481 net.cpp:141] Setting up lstm1_h_conted_0
I0922 22:20:32.390717 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.390722 24481 net.cpp:156] Memory required for data: 46016
I0922 22:20:32.390732 24481 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0922 22:20:32.390754 24481 net.cpp:91] Creating Layer lstm1_transform_1
I0922 22:20:32.390761 24481 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0922 22:20:32.390779 24481 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0922 22:20:32.402093 24491 net.cpp:141] Setting up conv1
I0922 22:20:32.402139 24491 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0922 22:20:32.402145 24491 net.cpp:156] Memory required for data: 17799480
I0922 22:20:32.402168 24491 layer_factory.hpp:77] Creating layer relu1
I0922 22:20:32.402187 24491 net.cpp:91] Creating Layer relu1
I0922 22:20:32.402194 24491 net.cpp:425] relu1 <- conv1
I0922 22:20:32.402202 24491 net.cpp:386] relu1 -> conv1 (in-place)
I0922 22:20:32.402588 24491 net.cpp:141] Setting up relu1
I0922 22:20:32.402602 24491 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0922 22:20:32.402607 24491 net.cpp:156] Memory required for data: 29415480
I0922 22:20:32.402612 24491 layer_factory.hpp:77] Creating layer pool1
I0922 22:20:32.402626 24491 net.cpp:91] Creating Layer pool1
I0922 22:20:32.402631 24491 net.cpp:425] pool1 <- conv1
I0922 22:20:32.402638 24491 net.cpp:399] pool1 -> pool1
I0922 22:20:32.402705 24491 net.cpp:141] Setting up pool1
I0922 22:20:32.402716 24491 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0922 22:20:32.402720 24491 net.cpp:156] Memory required for data: 32214840
I0922 22:20:32.402725 24491 layer_factory.hpp:77] Creating layer norm1
I0922 22:20:32.402742 24491 net.cpp:91] Creating Layer norm1
I0922 22:20:32.402748 24491 net.cpp:425] norm1 <- pool1
I0922 22:20:32.402755 24491 net.cpp:399] norm1 -> norm1
I0922 22:20:32.403031 24491 net.cpp:141] Setting up norm1
I0922 22:20:32.403049 24491 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0922 22:20:32.403055 24491 net.cpp:156] Memory required for data: 35014200
I0922 22:20:32.403060 24491 layer_factory.hpp:77] Creating layer conv2
I0922 22:20:32.403079 24491 net.cpp:91] Creating Layer conv2
I0922 22:20:32.403085 24491 net.cpp:425] conv2 <- norm1
I0922 22:20:32.403092 24491 net.cpp:399] conv2 -> conv2
I0922 22:20:32.406621 24491 net.cpp:141] Setting up conv2
I0922 22:20:32.406642 24491 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0922 22:20:32.406648 24491 net.cpp:156] Memory required for data: 42479160
I0922 22:20:32.406661 24491 layer_factory.hpp:77] Creating layer relu2
I0922 22:20:32.406674 24491 net.cpp:91] Creating Layer relu2
I0922 22:20:32.406680 24491 net.cpp:425] relu2 <- conv2
I0922 22:20:32.406687 24491 net.cpp:386] relu2 -> conv2 (in-place)
I0922 22:20:32.407101 24491 net.cpp:141] Setting up relu2
I0922 22:20:32.407114 24491 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0922 22:20:32.407119 24491 net.cpp:156] Memory required for data: 49944120
I0922 22:20:32.407125 24491 layer_factory.hpp:77] Creating layer pool2
I0922 22:20:32.407137 24491 net.cpp:91] Creating Layer pool2
I0922 22:20:32.407142 24491 net.cpp:425] pool2 <- conv2
I0922 22:20:32.407151 24491 net.cpp:399] pool2 -> pool2
I0922 22:20:32.407205 24491 net.cpp:141] Setting up pool2
I0922 22:20:32.407215 24491 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0922 22:20:32.407219 24491 net.cpp:156] Memory required for data: 51674680
I0922 22:20:32.407224 24491 layer_factory.hpp:77] Creating layer norm2
I0922 22:20:32.407236 24491 net.cpp:91] Creating Layer norm2
I0922 22:20:32.407241 24491 net.cpp:425] norm2 <- pool2
I0922 22:20:32.407248 24491 net.cpp:399] norm2 -> norm2
I0922 22:20:32.407501 24491 net.cpp:141] Setting up norm2
I0922 22:20:32.407513 24491 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0922 22:20:32.407517 24491 net.cpp:156] Memory required for data: 53405240
I0922 22:20:32.407522 24491 layer_factory.hpp:77] Creating layer conv3
I0922 22:20:32.407536 24491 net.cpp:91] Creating Layer conv3
I0922 22:20:32.407541 24491 net.cpp:425] conv3 <- norm2
I0922 22:20:32.407547 24491 net.cpp:399] conv3 -> conv3
I0922 22:20:32.411053 24491 net.cpp:141] Setting up conv3
I0922 22:20:32.411075 24491 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0922 22:20:32.411082 24491 net.cpp:156] Memory required for data: 56001080
I0922 22:20:32.411099 24491 layer_factory.hpp:77] Creating layer relu3
I0922 22:20:32.411109 24491 net.cpp:91] Creating Layer relu3
I0922 22:20:32.411114 24491 net.cpp:425] relu3 <- conv3
I0922 22:20:32.411123 24491 net.cpp:386] relu3 -> conv3 (in-place)
I0922 22:20:32.411442 24491 net.cpp:141] Setting up relu3
I0922 22:20:32.411461 24491 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0922 22:20:32.411469 24491 net.cpp:156] Memory required for data: 58596920
I0922 22:20:32.411478 24491 layer_factory.hpp:77] Creating layer conv4
I0922 22:20:32.411502 24491 net.cpp:91] Creating Layer conv4
I0922 22:20:32.411511 24491 net.cpp:425] conv4 <- conv3
I0922 22:20:32.411525 24491 net.cpp:399] conv4 -> conv4
I0922 22:20:32.415495 24491 net.cpp:141] Setting up conv4
I0922 22:20:32.415518 24491 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0922 22:20:32.415524 24491 net.cpp:156] Memory required for data: 61192760
I0922 22:20:32.415534 24491 layer_factory.hpp:77] Creating layer relu4
I0922 22:20:32.415544 24491 net.cpp:91] Creating Layer relu4
I0922 22:20:32.415549 24491 net.cpp:425] relu4 <- conv4
I0922 22:20:32.415560 24491 net.cpp:386] relu4 -> conv4 (in-place)
I0922 22:20:32.415936 24491 net.cpp:141] Setting up relu4
I0922 22:20:32.415949 24491 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0922 22:20:32.415954 24491 net.cpp:156] Memory required for data: 63788600
I0922 22:20:32.415959 24491 layer_factory.hpp:77] Creating layer conv5
I0922 22:20:32.415974 24491 net.cpp:91] Creating Layer conv5
I0922 22:20:32.415979 24491 net.cpp:425] conv5 <- conv4
I0922 22:20:32.415987 24491 net.cpp:399] conv5 -> conv5
I0922 22:20:32.419419 24491 net.cpp:141] Setting up conv5
I0922 22:20:32.419436 24491 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0922 22:20:32.419442 24491 net.cpp:156] Memory required for data: 65519160
I0922 22:20:32.419457 24491 layer_factory.hpp:77] Creating layer relu5
I0922 22:20:32.419471 24491 net.cpp:91] Creating Layer relu5
I0922 22:20:32.419476 24491 net.cpp:425] relu5 <- conv5
I0922 22:20:32.419482 24491 net.cpp:386] relu5 -> conv5 (in-place)
I0922 22:20:32.419855 24491 net.cpp:141] Setting up relu5
I0922 22:20:32.419868 24491 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0922 22:20:32.419873 24491 net.cpp:156] Memory required for data: 67249720
I0922 22:20:32.419878 24491 layer_factory.hpp:77] Creating layer pool5
I0922 22:20:32.419893 24491 net.cpp:91] Creating Layer pool5
I0922 22:20:32.419898 24491 net.cpp:425] pool5 <- conv5
I0922 22:20:32.419904 24491 net.cpp:399] pool5 -> pool5
I0922 22:20:32.419966 24491 net.cpp:141] Setting up pool5
I0922 22:20:32.419976 24491 net.cpp:148] Top shape: 10 256 6 6 (92160)
I0922 22:20:32.419981 24491 net.cpp:156] Memory required for data: 67618360
I0922 22:20:32.419986 24491 layer_factory.hpp:77] Creating layer fc6
I0922 22:20:32.420001 24491 net.cpp:91] Creating Layer fc6
I0922 22:20:32.420006 24491 net.cpp:425] fc6 <- pool5
I0922 22:20:32.420011 24491 net.cpp:399] fc6 -> fc6
I0922 22:20:32.486176 24485 net.cpp:141] Setting up embedding
I0922 22:20:32.486235 24485 net.cpp:148] Top shape: 1 1 500 (500)
I0922 22:20:32.486243 24485 net.cpp:156] Memory required for data: 22408
I0922 22:20:32.486264 24485 layer_factory.hpp:77] Creating layer lstm1
I0922 22:20:32.486287 24485 net.cpp:91] Creating Layer lstm1
I0922 22:20:32.486296 24485 net.cpp:425] lstm1 <- embedded_input_frames
I0922 22:20:32.486282 24481 net.cpp:141] Setting up lstm1_transform_1
I0922 22:20:32.486307 24485 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0922 22:20:32.486330 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.486330 24485 net.cpp:399] lstm1 -> lstm1
I0922 22:20:32.486340 24481 net.cpp:156] Memory required for data: 62016
I0922 22:20:32.486366 24485 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0922 22:20:32.486372 24481 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0922 22:20:32.486394 24481 net.cpp:91] Creating Layer lstm1_gate_input_1
I0922 22:20:32.486402 24481 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0922 22:20:32.486409 24481 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0922 22:20:32.486421 24481 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0922 22:20:32.486486 24481 net.cpp:141] Setting up lstm1_gate_input_1
I0922 22:20:32.486496 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.486501 24481 net.cpp:156] Memory required for data: 78016
I0922 22:20:32.486506 24481 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0922 22:20:32.486515 24481 net.cpp:91] Creating Layer lstm1_unit_1
I0922 22:20:32.486520 24481 net.cpp:425] lstm1_unit_1 <- c_0
I0922 22:20:32.486526 24481 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0922 22:20:32.486531 24481 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0922 22:20:32.486537 24481 net.cpp:399] lstm1_unit_1 -> c_1
I0922 22:20:32.486548 24481 net.cpp:399] lstm1_unit_1 -> h_1
I0922 22:20:32.486610 24481 net.cpp:141] Setting up lstm1_unit_1
I0922 22:20:32.486619 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.486625 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.486629 24481 net.cpp:156] Memory required for data: 86016
I0922 22:20:32.486634 24481 layer_factory.hpp:77] Creating layer lstm1_
I0922 22:20:32.486642 24481 net.cpp:91] Creating Layer lstm1_
I0922 22:20:32.486646 24481 net.cpp:425] lstm1_ <- c_1
I0922 22:20:32.486654 24481 net.cpp:399] lstm1_ -> c_T
I0922 22:20:32.486686 24481 net.cpp:141] Setting up lstm1_
I0922 22:20:32.486696 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.486699 24481 net.cpp:156] Memory required for data: 90016
I0922 22:20:32.486703 24481 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0922 22:20:32.486712 24481 net.cpp:91] Creating Layer lstm1_h_concat
I0922 22:20:32.486717 24481 net.cpp:425] lstm1_h_concat <- h_1
I0922 22:20:32.486737 24481 net.cpp:399] lstm1_h_concat -> h
I0922 22:20:32.486732 24485 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0922 22:20:32.486783 24481 net.cpp:141] Setting up lstm1_h_concat
I0922 22:20:32.486793 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.486799 24481 net.cpp:156] Memory required for data: 94016
I0922 22:20:32.486804 24481 layer_factory.hpp:77] Creating layer h_pseudoloss
I0922 22:20:32.486822 24481 net.cpp:91] Creating Layer h_pseudoloss
I0922 22:20:32.486827 24481 net.cpp:425] h_pseudoloss <- h
I0922 22:20:32.486835 24481 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0922 22:20:32.486840 24485 layer_factory.hpp:77] Creating layer lstm1_
I0922 22:20:32.486856 24485 net.cpp:91] Creating Layer lstm1_
I0922 22:20:32.486863 24485 net.cpp:399] lstm1_ -> x
I0922 22:20:32.486876 24485 net.cpp:399] lstm1_ -> cont
I0922 22:20:32.486918 24481 net.cpp:141] Setting up h_pseudoloss
I0922 22:20:32.486929 24481 net.cpp:148] Top shape: (1)
I0922 22:20:32.486933 24481 net.cpp:151]     with loss weight 1
I0922 22:20:32.486968 24481 net.cpp:156] Memory required for data: 94020
I0922 22:20:32.486974 24481 net.cpp:217] h_pseudoloss needs backward computation.
I0922 22:20:32.486979 24481 net.cpp:217] lstm1_h_concat needs backward computation.
I0922 22:20:32.486984 24481 net.cpp:219] lstm1_ does not need backward computation.
I0922 22:20:32.486989 24481 net.cpp:217] lstm1_unit_1 needs backward computation.
I0922 22:20:32.486994 24481 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0922 22:20:32.486999 24481 net.cpp:217] lstm1_transform_1 needs backward computation.
I0922 22:20:32.486999 24485 net.cpp:141] Setting up lstm1_
I0922 22:20:32.487006 24481 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0922 22:20:32.487033 24485 net.cpp:148] Top shape: 1 1 500 (500)
I0922 22:20:32.487035 24481 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0922 22:20:32.487066 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.487071 24481 net.cpp:217] lstm1_x_transform needs backward computation.
I0922 22:20:32.487073 24485 net.cpp:156] Memory required for data: 2004
I0922 22:20:32.487079 24481 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0922 22:20:32.487082 24485 layer_factory.hpp:77] Creating layer lstm1_
I0922 22:20:32.487087 24481 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0922 22:20:32.487093 24481 net.cpp:219] lstm1_ does not need backward computation.
I0922 22:20:32.487097 24485 net.cpp:91] Creating Layer lstm1_
I0922 22:20:32.487097 24481 net.cpp:219] lstm1_ does not need backward computation.
I0922 22:20:32.487109 24485 net.cpp:399] lstm1_ -> c_0
I0922 22:20:32.487112 24481 net.cpp:261] This network produces output c_T
I0922 22:20:32.487119 24481 net.cpp:261] This network produces output h_pseudoloss
I0922 22:20:32.487131 24485 net.cpp:399] lstm1_ -> h_0
I0922 22:20:32.487141 24481 net.cpp:274] Network initialization done.
I0922 22:20:32.487203 24481 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0922 22:20:32.487211 24481 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0922 22:20:32.487213 24485 net.cpp:141] Setting up lstm1_
I0922 22:20:32.487217 24481 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0922 22:20:32.487232 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.487242 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.487248 24485 net.cpp:156] Memory required for data: 10004
I0922 22:20:32.487256 24485 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0922 22:20:32.487273 24485 net.cpp:91] Creating Layer lstm1_cont_slice
I0922 22:20:32.487282 24485 net.cpp:425] lstm1_cont_slice <- cont
I0922 22:20:32.487293 24485 net.cpp:399] lstm1_cont_slice -> cont_1
I0922 22:20:32.487362 24485 net.cpp:141] Setting up lstm1_cont_slice
I0922 22:20:32.487376 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.487382 24485 net.cpp:156] Memory required for data: 10008
I0922 22:20:32.487390 24485 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0922 22:20:32.487401 24485 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0922 22:20:32.487407 24485 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0922 22:20:32.487414 24481 net.cpp:141] Setting up lstm1
I0922 22:20:32.487422 24485 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0922 22:20:32.487428 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.487434 24481 net.cpp:156] Memory required for data: 26408
I0922 22:20:32.487437 24485 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0922 22:20:32.487449 24481 layer_factory.hpp:77] Creating layer concat
I0922 22:20:32.487458 24481 net.cpp:91] Creating Layer concat
I0922 22:20:32.487465 24481 net.cpp:425] concat <- lstm1
I0922 22:20:32.487471 24481 net.cpp:425] concat <- embedded_input_sentence
I0922 22:20:32.487478 24481 net.cpp:425] concat <- reshaped_stage_indicator
I0922 22:20:32.487484 24481 net.cpp:399] concat -> lstm1_video_sequence
I0922 22:20:32.487530 24485 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0922 22:20:32.487545 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.487553 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.487560 24485 net.cpp:156] Memory required for data: 10016
I0922 22:20:32.487566 24485 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0922 22:20:32.487577 24481 net.cpp:141] Setting up concat
I0922 22:20:32.487586 24485 net.cpp:91] Creating Layer lstm1_x_transform
I0922 22:20:32.487591 24481 net.cpp:148] Top shape: 1 1 1501 (1501)
I0922 22:20:32.487596 24485 net.cpp:425] lstm1_x_transform <- x
I0922 22:20:32.487597 24481 net.cpp:156] Memory required for data: 32412
I0922 22:20:32.487612 24481 layer_factory.hpp:77] Creating layer lstm2
I0922 22:20:32.487612 24485 net.cpp:399] lstm1_x_transform -> W_xc_x
I0922 22:20:32.487632 24481 net.cpp:91] Creating Layer lstm2
I0922 22:20:32.487638 24481 net.cpp:425] lstm2 <- lstm1_video_sequence
I0922 22:20:32.487644 24481 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0922 22:20:32.487651 24481 net.cpp:399] lstm2 -> lstm2
I0922 22:20:32.487663 24481 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0922 22:20:32.487913 24481 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0922 22:20:32.488005 24481 layer_factory.hpp:77] Creating layer lstm2_
I0922 22:20:32.488018 24481 net.cpp:91] Creating Layer lstm2_
I0922 22:20:32.488024 24481 net.cpp:399] lstm2_ -> x
I0922 22:20:32.488034 24481 net.cpp:399] lstm2_ -> cont
I0922 22:20:32.492982 24481 net.cpp:141] Setting up lstm2_
I0922 22:20:32.493024 24481 net.cpp:148] Top shape: 1 1 1501 (1501)
I0922 22:20:32.493031 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.493036 24481 net.cpp:156] Memory required for data: 6008
I0922 22:20:32.493046 24481 layer_factory.hpp:77] Creating layer lstm2_
I0922 22:20:32.493068 24481 net.cpp:91] Creating Layer lstm2_
I0922 22:20:32.493077 24481 net.cpp:399] lstm2_ -> c_0
I0922 22:20:32.493094 24481 net.cpp:399] lstm2_ -> h_0
I0922 22:20:32.493157 24481 net.cpp:141] Setting up lstm2_
I0922 22:20:32.493166 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.493172 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.493176 24481 net.cpp:156] Memory required for data: 14008
I0922 22:20:32.493181 24481 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0922 22:20:32.493192 24481 net.cpp:91] Creating Layer lstm2_cont_slice
I0922 22:20:32.493197 24481 net.cpp:425] lstm2_cont_slice <- cont
I0922 22:20:32.493208 24481 net.cpp:399] lstm2_cont_slice -> cont_1
I0922 22:20:32.493245 24481 net.cpp:141] Setting up lstm2_cont_slice
I0922 22:20:32.493254 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.493258 24481 net.cpp:156] Memory required for data: 14012
I0922 22:20:32.493263 24481 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0922 22:20:32.493270 24481 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0922 22:20:32.493275 24481 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0922 22:20:32.493283 24481 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0922 22:20:32.493294 24481 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0922 22:20:32.493340 24481 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0922 22:20:32.493350 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.493355 24481 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.493360 24481 net.cpp:156] Memory required for data: 14020
I0922 22:20:32.493363 24481 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0922 22:20:32.493379 24481 net.cpp:91] Creating Layer lstm2_x_transform
I0922 22:20:32.493384 24481 net.cpp:425] lstm2_x_transform <- x
I0922 22:20:32.493393 24481 net.cpp:399] lstm2_x_transform -> W_xc_x
I0922 22:20:32.511602 24485 net.cpp:141] Setting up lstm1_x_transform
I0922 22:20:32.511647 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.511654 24485 net.cpp:156] Memory required for data: 26016
I0922 22:20:32.511675 24485 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0922 22:20:32.511696 24485 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0922 22:20:32.511703 24485 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0922 22:20:32.511713 24485 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0922 22:20:32.511760 24485 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0922 22:20:32.511771 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.511776 24485 net.cpp:156] Memory required for data: 42016
I0922 22:20:32.511781 24485 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0922 22:20:32.511792 24485 net.cpp:91] Creating Layer lstm1_h_conted_0
I0922 22:20:32.511798 24485 net.cpp:425] lstm1_h_conted_0 <- h_0
I0922 22:20:32.511806 24485 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0922 22:20:32.511818 24485 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0922 22:20:32.511927 24485 net.cpp:141] Setting up lstm1_h_conted_0
I0922 22:20:32.511939 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.511943 24485 net.cpp:156] Memory required for data: 46016
I0922 22:20:32.511948 24485 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0922 22:20:32.511966 24485 net.cpp:91] Creating Layer lstm1_transform_1
I0922 22:20:32.511972 24485 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0922 22:20:32.511982 24485 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0922 22:20:32.525812 24491 net.cpp:141] Setting up fc6
I0922 22:20:32.525851 24491 net.cpp:148] Top shape: 10 4096 (40960)
I0922 22:20:32.525857 24491 net.cpp:156] Memory required for data: 67782200
I0922 22:20:32.525871 24491 layer_factory.hpp:77] Creating layer relu6
I0922 22:20:32.525892 24491 net.cpp:91] Creating Layer relu6
I0922 22:20:32.525898 24491 net.cpp:425] relu6 <- fc6
I0922 22:20:32.525908 24491 net.cpp:386] relu6 -> fc6 (in-place)
I0922 22:20:32.526232 24491 net.cpp:141] Setting up relu6
I0922 22:20:32.526243 24491 net.cpp:148] Top shape: 10 4096 (40960)
I0922 22:20:32.526248 24491 net.cpp:156] Memory required for data: 67946040
I0922 22:20:32.526253 24491 layer_factory.hpp:77] Creating layer drop6
I0922 22:20:32.526262 24491 net.cpp:91] Creating Layer drop6
I0922 22:20:32.526268 24491 net.cpp:425] drop6 <- fc6
I0922 22:20:32.526276 24491 net.cpp:386] drop6 -> fc6 (in-place)
I0922 22:20:32.526324 24491 net.cpp:141] Setting up drop6
I0922 22:20:32.526335 24491 net.cpp:148] Top shape: 10 4096 (40960)
I0922 22:20:32.526340 24491 net.cpp:156] Memory required for data: 68109880
I0922 22:20:32.526345 24491 layer_factory.hpp:77] Creating layer fc7
I0922 22:20:32.526353 24491 net.cpp:91] Creating Layer fc7
I0922 22:20:32.526358 24491 net.cpp:425] fc7 <- fc6
I0922 22:20:32.526365 24491 net.cpp:399] fc7 -> fc7
I0922 22:20:32.555455 24481 net.cpp:141] Setting up lstm2_x_transform
I0922 22:20:32.555505 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.555510 24481 net.cpp:156] Memory required for data: 30020
I0922 22:20:32.555533 24481 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0922 22:20:32.555552 24481 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0922 22:20:32.555559 24481 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0922 22:20:32.555572 24481 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0922 22:20:32.555618 24481 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0922 22:20:32.555627 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.555631 24481 net.cpp:156] Memory required for data: 46020
I0922 22:20:32.555636 24481 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0922 22:20:32.555647 24481 net.cpp:91] Creating Layer lstm2_h_conted_0
I0922 22:20:32.555652 24481 net.cpp:425] lstm2_h_conted_0 <- h_0
I0922 22:20:32.555658 24481 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0922 22:20:32.555667 24481 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0922 22:20:32.555764 24481 net.cpp:141] Setting up lstm2_h_conted_0
I0922 22:20:32.555773 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.555778 24481 net.cpp:156] Memory required for data: 50020
I0922 22:20:32.555783 24481 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0922 22:20:32.555797 24481 net.cpp:91] Creating Layer lstm2_transform_1
I0922 22:20:32.555804 24481 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0922 22:20:32.555810 24481 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0922 22:20:32.567342 24485 net.cpp:141] Setting up lstm1_transform_1
I0922 22:20:32.567405 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.567414 24485 net.cpp:156] Memory required for data: 62016
I0922 22:20:32.567435 24485 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0922 22:20:32.567476 24485 net.cpp:91] Creating Layer lstm1_gate_input_1
I0922 22:20:32.567487 24485 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0922 22:20:32.567497 24485 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0922 22:20:32.567508 24485 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0922 22:20:32.567576 24485 net.cpp:141] Setting up lstm1_gate_input_1
I0922 22:20:32.567587 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.567592 24485 net.cpp:156] Memory required for data: 78016
I0922 22:20:32.567597 24485 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0922 22:20:32.567613 24485 net.cpp:91] Creating Layer lstm1_unit_1
I0922 22:20:32.567620 24485 net.cpp:425] lstm1_unit_1 <- c_0
I0922 22:20:32.567626 24485 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0922 22:20:32.567632 24485 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0922 22:20:32.567641 24485 net.cpp:399] lstm1_unit_1 -> c_1
I0922 22:20:32.567649 24485 net.cpp:399] lstm1_unit_1 -> h_1
I0922 22:20:32.567728 24485 net.cpp:141] Setting up lstm1_unit_1
I0922 22:20:32.567739 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.567745 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.567750 24485 net.cpp:156] Memory required for data: 86016
I0922 22:20:32.567756 24485 layer_factory.hpp:77] Creating layer lstm1_
I0922 22:20:32.567765 24485 net.cpp:91] Creating Layer lstm1_
I0922 22:20:32.567770 24485 net.cpp:425] lstm1_ <- c_1
I0922 22:20:32.567786 24485 net.cpp:399] lstm1_ -> c_T
I0922 22:20:32.567823 24485 net.cpp:141] Setting up lstm1_
I0922 22:20:32.567833 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.567837 24485 net.cpp:156] Memory required for data: 90016
I0922 22:20:32.567843 24485 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0922 22:20:32.567853 24485 net.cpp:91] Creating Layer lstm1_h_concat
I0922 22:20:32.567859 24485 net.cpp:425] lstm1_h_concat <- h_1
I0922 22:20:32.567867 24485 net.cpp:399] lstm1_h_concat -> h
I0922 22:20:32.567924 24485 net.cpp:141] Setting up lstm1_h_concat
I0922 22:20:32.567935 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.567940 24485 net.cpp:156] Memory required for data: 94016
I0922 22:20:32.567945 24485 layer_factory.hpp:77] Creating layer h_pseudoloss
I0922 22:20:32.567956 24485 net.cpp:91] Creating Layer h_pseudoloss
I0922 22:20:32.567961 24485 net.cpp:425] h_pseudoloss <- h
I0922 22:20:32.567970 24485 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0922 22:20:32.568083 24485 net.cpp:141] Setting up h_pseudoloss
I0922 22:20:32.568094 24485 net.cpp:148] Top shape: (1)
I0922 22:20:32.568099 24485 net.cpp:151]     with loss weight 1
I0922 22:20:32.568122 24485 net.cpp:156] Memory required for data: 94020
I0922 22:20:32.568128 24485 net.cpp:217] h_pseudoloss needs backward computation.
I0922 22:20:32.568133 24485 net.cpp:217] lstm1_h_concat needs backward computation.
I0922 22:20:32.568140 24485 net.cpp:219] lstm1_ does not need backward computation.
I0922 22:20:32.568145 24485 net.cpp:217] lstm1_unit_1 needs backward computation.
I0922 22:20:32.568151 24485 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0922 22:20:32.568172 24485 net.cpp:217] lstm1_transform_1 needs backward computation.
I0922 22:20:32.568181 24485 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0922 22:20:32.568186 24485 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0922 22:20:32.568192 24485 net.cpp:217] lstm1_x_transform needs backward computation.
I0922 22:20:32.568198 24485 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0922 22:20:32.568204 24485 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0922 22:20:32.568210 24485 net.cpp:219] lstm1_ does not need backward computation.
I0922 22:20:32.568215 24485 net.cpp:219] lstm1_ does not need backward computation.
I0922 22:20:32.568219 24485 net.cpp:261] This network produces output c_T
I0922 22:20:32.568225 24485 net.cpp:261] This network produces output h_pseudoloss
I0922 22:20:32.568241 24485 net.cpp:274] Network initialization done.
I0922 22:20:32.568295 24485 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0922 22:20:32.568302 24485 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0922 22:20:32.568307 24485 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0922 22:20:32.568419 24485 net.cpp:141] Setting up lstm1
I0922 22:20:32.568433 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.568437 24485 net.cpp:156] Memory required for data: 26408
I0922 22:20:32.568451 24485 layer_factory.hpp:77] Creating layer concat
I0922 22:20:32.568461 24485 net.cpp:91] Creating Layer concat
I0922 22:20:32.568467 24485 net.cpp:425] concat <- lstm1
I0922 22:20:32.568475 24485 net.cpp:425] concat <- embedded_input_sentence
I0922 22:20:32.568481 24485 net.cpp:425] concat <- reshaped_stage_indicator
I0922 22:20:32.568488 24485 net.cpp:399] concat -> lstm1_video_sequence
I0922 22:20:32.568526 24485 net.cpp:141] Setting up concat
I0922 22:20:32.568536 24485 net.cpp:148] Top shape: 1 1 1501 (1501)
I0922 22:20:32.568541 24485 net.cpp:156] Memory required for data: 32412
I0922 22:20:32.568545 24485 layer_factory.hpp:77] Creating layer lstm2
I0922 22:20:32.568558 24485 net.cpp:91] Creating Layer lstm2
I0922 22:20:32.568563 24485 net.cpp:425] lstm2 <- lstm1_video_sequence
I0922 22:20:32.568570 24485 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0922 22:20:32.568578 24485 net.cpp:399] lstm2 -> lstm2
I0922 22:20:32.568589 24485 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0922 22:20:32.568873 24485 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0922 22:20:32.568971 24485 layer_factory.hpp:77] Creating layer lstm2_
I0922 22:20:32.568985 24485 net.cpp:91] Creating Layer lstm2_
I0922 22:20:32.568991 24485 net.cpp:399] lstm2_ -> x
I0922 22:20:32.569003 24485 net.cpp:399] lstm2_ -> cont
I0922 22:20:32.569063 24485 net.cpp:141] Setting up lstm2_
I0922 22:20:32.569073 24485 net.cpp:148] Top shape: 1 1 1501 (1501)
I0922 22:20:32.569080 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.569085 24485 net.cpp:156] Memory required for data: 6008
I0922 22:20:32.569090 24485 layer_factory.hpp:77] Creating layer lstm2_
I0922 22:20:32.569104 24485 net.cpp:91] Creating Layer lstm2_
I0922 22:20:32.569111 24485 net.cpp:399] lstm2_ -> c_0
I0922 22:20:32.569123 24485 net.cpp:399] lstm2_ -> h_0
I0922 22:20:32.569180 24485 net.cpp:141] Setting up lstm2_
I0922 22:20:32.569191 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.569197 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.569202 24485 net.cpp:156] Memory required for data: 14008
I0922 22:20:32.569207 24485 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0922 22:20:32.569217 24485 net.cpp:91] Creating Layer lstm2_cont_slice
I0922 22:20:32.569222 24485 net.cpp:425] lstm2_cont_slice <- cont
I0922 22:20:32.569229 24485 net.cpp:399] lstm2_cont_slice -> cont_1
I0922 22:20:32.569268 24485 net.cpp:141] Setting up lstm2_cont_slice
I0922 22:20:32.569278 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.569283 24485 net.cpp:156] Memory required for data: 14012
I0922 22:20:32.569288 24485 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0922 22:20:32.569298 24485 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0922 22:20:32.569319 24485 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0922 22:20:32.569330 24485 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0922 22:20:32.569340 24485 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0922 22:20:32.569396 24485 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0922 22:20:32.569406 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.569412 24485 net.cpp:148] Top shape: 1 1 (1)
I0922 22:20:32.569416 24485 net.cpp:156] Memory required for data: 14020
I0922 22:20:32.569422 24485 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0922 22:20:32.569435 24485 net.cpp:91] Creating Layer lstm2_x_transform
I0922 22:20:32.569440 24485 net.cpp:425] lstm2_x_transform <- x
I0922 22:20:32.569453 24485 net.cpp:399] lstm2_x_transform -> W_xc_x
I0922 22:20:32.581925 24491 net.cpp:141] Setting up fc7
I0922 22:20:32.581974 24491 net.cpp:148] Top shape: 10 4096 (40960)
I0922 22:20:32.581984 24491 net.cpp:156] Memory required for data: 68273720
I0922 22:20:32.582006 24491 layer_factory.hpp:77] Creating layer relu7
I0922 22:20:32.582029 24491 net.cpp:91] Creating Layer relu7
I0922 22:20:32.582041 24491 net.cpp:425] relu7 <- fc7
I0922 22:20:32.582058 24491 net.cpp:386] relu7 -> fc7 (in-place)
I0922 22:20:32.582823 24491 net.cpp:141] Setting up relu7
I0922 22:20:32.582842 24491 net.cpp:148] Top shape: 10 4096 (40960)
I0922 22:20:32.582851 24491 net.cpp:156] Memory required for data: 68437560
I0922 22:20:32.582859 24491 layer_factory.hpp:77] Creating layer drop7
I0922 22:20:32.582875 24491 net.cpp:91] Creating Layer drop7
I0922 22:20:32.582890 24491 net.cpp:425] drop7 <- fc7
I0922 22:20:32.582901 24491 net.cpp:386] drop7 -> fc7 (in-place)
I0922 22:20:32.582965 24491 net.cpp:141] Setting up drop7
I0922 22:20:32.582979 24491 net.cpp:148] Top shape: 10 4096 (40960)
I0922 22:20:32.582986 24491 net.cpp:156] Memory required for data: 68601400
I0922 22:20:32.582994 24491 layer_factory.hpp:77] Creating layer fc8
I0922 22:20:32.583014 24491 net.cpp:91] Creating Layer fc8
I0922 22:20:32.583040 24491 net.cpp:425] fc8 <- fc7
I0922 22:20:32.583057 24491 net.cpp:399] fc8 -> fc8
I0922 22:20:32.595203 24491 net.cpp:141] Setting up fc8
I0922 22:20:32.595252 24491 net.cpp:148] Top shape: 10 1000 (10000)
I0922 22:20:32.595263 24491 net.cpp:156] Memory required for data: 68641400
I0922 22:20:32.595284 24491 layer_factory.hpp:77] Creating layer prob
I0922 22:20:32.595309 24491 net.cpp:91] Creating Layer prob
I0922 22:20:32.595321 24491 net.cpp:425] prob <- fc8
I0922 22:20:32.595347 24491 net.cpp:399] prob -> prob
I0922 22:20:32.595954 24491 net.cpp:141] Setting up prob
I0922 22:20:32.595975 24491 net.cpp:148] Top shape: 10 1000 (10000)
I0922 22:20:32.595985 24491 net.cpp:156] Memory required for data: 68681400
I0922 22:20:32.595995 24491 net.cpp:219] prob does not need backward computation.
I0922 22:20:32.596005 24491 net.cpp:219] fc8 does not need backward computation.
I0922 22:20:32.596015 24491 net.cpp:219] drop7 does not need backward computation.
I0922 22:20:32.596024 24491 net.cpp:219] relu7 does not need backward computation.
I0922 22:20:32.596034 24491 net.cpp:219] fc7 does not need backward computation.
I0922 22:20:32.596042 24491 net.cpp:219] drop6 does not need backward computation.
I0922 22:20:32.596052 24491 net.cpp:219] relu6 does not need backward computation.
I0922 22:20:32.596061 24491 net.cpp:219] fc6 does not need backward computation.
I0922 22:20:32.596071 24491 net.cpp:219] pool5 does not need backward computation.
I0922 22:20:32.596081 24491 net.cpp:219] relu5 does not need backward computation.
I0922 22:20:32.596089 24491 net.cpp:219] conv5 does not need backward computation.
I0922 22:20:32.596098 24491 net.cpp:219] relu4 does not need backward computation.
I0922 22:20:32.596107 24491 net.cpp:219] conv4 does not need backward computation.
I0922 22:20:32.596117 24491 net.cpp:219] relu3 does not need backward computation.
I0922 22:20:32.596125 24491 net.cpp:219] conv3 does not need backward computation.
I0922 22:20:32.596137 24491 net.cpp:219] norm2 does not need backward computation.
I0922 22:20:32.596146 24491 net.cpp:219] pool2 does not need backward computation.
I0922 22:20:32.596155 24491 net.cpp:219] relu2 does not need backward computation.
I0922 22:20:32.596165 24491 net.cpp:219] conv2 does not need backward computation.
I0922 22:20:32.596174 24491 net.cpp:219] norm1 does not need backward computation.
I0922 22:20:32.596184 24491 net.cpp:219] pool1 does not need backward computation.
I0922 22:20:32.596194 24491 net.cpp:219] relu1 does not need backward computation.
I0922 22:20:32.596202 24491 net.cpp:219] conv1 does not need backward computation.
I0922 22:20:32.596211 24491 net.cpp:219] data does not need backward computation.
I0922 22:20:32.596220 24491 net.cpp:261] This network produces output prob
I0922 22:20:32.596251 24491 net.cpp:274] Network initialization done.
I0922 22:20:32.599221 24481 net.cpp:141] Setting up lstm2_transform_1
I0922 22:20:32.599244 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.599249 24481 net.cpp:156] Memory required for data: 66020
I0922 22:20:32.599264 24481 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0922 22:20:32.599284 24481 net.cpp:91] Creating Layer lstm2_gate_input_1
I0922 22:20:32.599292 24481 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0922 22:20:32.599298 24481 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0922 22:20:32.599305 24481 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0922 22:20:32.599357 24481 net.cpp:141] Setting up lstm2_gate_input_1
I0922 22:20:32.599366 24481 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.599370 24481 net.cpp:156] Memory required for data: 82020
I0922 22:20:32.599375 24481 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0922 22:20:32.599383 24481 net.cpp:91] Creating Layer lstm2_unit_1
I0922 22:20:32.599387 24481 net.cpp:425] lstm2_unit_1 <- c_0
I0922 22:20:32.599393 24481 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0922 22:20:32.599398 24481 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0922 22:20:32.599407 24481 net.cpp:399] lstm2_unit_1 -> c_1
I0922 22:20:32.599416 24481 net.cpp:399] lstm2_unit_1 -> h_1
I0922 22:20:32.599479 24481 net.cpp:141] Setting up lstm2_unit_1
I0922 22:20:32.599488 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.599493 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.599498 24481 net.cpp:156] Memory required for data: 90020
I0922 22:20:32.599503 24481 layer_factory.hpp:77] Creating layer lstm2_
I0922 22:20:32.599509 24481 net.cpp:91] Creating Layer lstm2_
I0922 22:20:32.599514 24481 net.cpp:425] lstm2_ <- c_1
I0922 22:20:32.599520 24481 net.cpp:399] lstm2_ -> c_T
I0922 22:20:32.599553 24481 net.cpp:141] Setting up lstm2_
I0922 22:20:32.599562 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.599566 24481 net.cpp:156] Memory required for data: 94020
I0922 22:20:32.599570 24481 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0922 22:20:32.599580 24481 net.cpp:91] Creating Layer lstm2_h_concat
I0922 22:20:32.599584 24481 net.cpp:425] lstm2_h_concat <- h_1
I0922 22:20:32.599591 24481 net.cpp:399] lstm2_h_concat -> h
I0922 22:20:32.599625 24481 net.cpp:141] Setting up lstm2_h_concat
I0922 22:20:32.599633 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.599637 24481 net.cpp:156] Memory required for data: 98020
I0922 22:20:32.599642 24481 layer_factory.hpp:77] Creating layer h_pseudoloss
I0922 22:20:32.599653 24481 net.cpp:91] Creating Layer h_pseudoloss
I0922 22:20:32.599658 24481 net.cpp:425] h_pseudoloss <- h
I0922 22:20:32.599665 24481 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0922 22:20:32.599748 24481 net.cpp:141] Setting up h_pseudoloss
I0922 22:20:32.599758 24481 net.cpp:148] Top shape: (1)
I0922 22:20:32.599763 24481 net.cpp:151]     with loss weight 1
I0922 22:20:32.599778 24481 net.cpp:156] Memory required for data: 98024
I0922 22:20:32.599784 24481 net.cpp:217] h_pseudoloss needs backward computation.
I0922 22:20:32.599788 24481 net.cpp:217] lstm2_h_concat needs backward computation.
I0922 22:20:32.599793 24481 net.cpp:219] lstm2_ does not need backward computation.
I0922 22:20:32.599797 24481 net.cpp:217] lstm2_unit_1 needs backward computation.
I0922 22:20:32.599803 24481 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0922 22:20:32.599808 24481 net.cpp:217] lstm2_transform_1 needs backward computation.
I0922 22:20:32.599812 24481 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0922 22:20:32.599818 24481 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0922 22:20:32.599823 24481 net.cpp:217] lstm2_x_transform needs backward computation.
I0922 22:20:32.599828 24481 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0922 22:20:32.599833 24481 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0922 22:20:32.599838 24481 net.cpp:219] lstm2_ does not need backward computation.
I0922 22:20:32.599843 24481 net.cpp:219] lstm2_ does not need backward computation.
I0922 22:20:32.599846 24481 net.cpp:261] This network produces output c_T
I0922 22:20:32.599851 24481 net.cpp:261] This network produces output h_pseudoloss
I0922 22:20:32.599867 24481 net.cpp:274] Network initialization done.
I0922 22:20:32.599913 24481 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0922 22:20:32.599920 24481 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0922 22:20:32.599925 24481 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0922 22:20:32.600028 24481 net.cpp:141] Setting up lstm2
I0922 22:20:32.600039 24481 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.600044 24481 net.cpp:156] Memory required for data: 36412
I0922 22:20:32.600056 24481 layer_factory.hpp:77] Creating layer predict
I0922 22:20:32.600069 24481 net.cpp:91] Creating Layer predict
I0922 22:20:32.600075 24481 net.cpp:425] predict <- lstm2
I0922 22:20:32.600081 24481 net.cpp:399] predict -> predict
I0922 22:20:32.682531 24485 net.cpp:141] Setting up lstm2_x_transform
I0922 22:20:32.682586 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.682593 24485 net.cpp:156] Memory required for data: 30020
I0922 22:20:32.682615 24485 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0922 22:20:32.682634 24485 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0922 22:20:32.682641 24485 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0922 22:20:32.682651 24485 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0922 22:20:32.682709 24485 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0922 22:20:32.682721 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.682725 24485 net.cpp:156] Memory required for data: 46020
I0922 22:20:32.682731 24485 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0922 22:20:32.682741 24485 net.cpp:91] Creating Layer lstm2_h_conted_0
I0922 22:20:32.682747 24485 net.cpp:425] lstm2_h_conted_0 <- h_0
I0922 22:20:32.682754 24485 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0922 22:20:32.682762 24485 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0922 22:20:32.683419 24485 net.cpp:141] Setting up lstm2_h_conted_0
I0922 22:20:32.683440 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.683446 24485 net.cpp:156] Memory required for data: 50020
I0922 22:20:32.683452 24485 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0922 22:20:32.683467 24485 net.cpp:91] Creating Layer lstm2_transform_1
I0922 22:20:32.683473 24485 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0922 22:20:32.683485 24485 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0922 22:20:32.726075 24485 net.cpp:141] Setting up lstm2_transform_1
I0922 22:20:32.726130 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.726137 24485 net.cpp:156] Memory required for data: 66020
I0922 22:20:32.726158 24485 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0922 22:20:32.726182 24485 net.cpp:91] Creating Layer lstm2_gate_input_1
I0922 22:20:32.726191 24485 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0922 22:20:32.726199 24485 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0922 22:20:32.726208 24485 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0922 22:20:32.726269 24485 net.cpp:141] Setting up lstm2_gate_input_1
I0922 22:20:32.726280 24485 net.cpp:148] Top shape: 1 1 4000 (4000)
I0922 22:20:32.726285 24485 net.cpp:156] Memory required for data: 82020
I0922 22:20:32.726290 24485 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0922 22:20:32.726302 24485 net.cpp:91] Creating Layer lstm2_unit_1
I0922 22:20:32.726308 24485 net.cpp:425] lstm2_unit_1 <- c_0
I0922 22:20:32.726315 24485 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0922 22:20:32.726321 24485 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0922 22:20:32.726328 24485 net.cpp:399] lstm2_unit_1 -> c_1
I0922 22:20:32.726338 24485 net.cpp:399] lstm2_unit_1 -> h_1
I0922 22:20:32.726902 24485 net.cpp:141] Setting up lstm2_unit_1
I0922 22:20:32.726923 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.726932 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.726936 24485 net.cpp:156] Memory required for data: 90020
I0922 22:20:32.726943 24485 layer_factory.hpp:77] Creating layer lstm2_
I0922 22:20:32.726958 24485 net.cpp:91] Creating Layer lstm2_
I0922 22:20:32.726963 24485 net.cpp:425] lstm2_ <- c_1
I0922 22:20:32.726972 24485 net.cpp:399] lstm2_ -> c_T
I0922 22:20:32.727035 24485 net.cpp:141] Setting up lstm2_
I0922 22:20:32.727047 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.727052 24485 net.cpp:156] Memory required for data: 94020
I0922 22:20:32.727058 24485 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0922 22:20:32.727071 24485 net.cpp:91] Creating Layer lstm2_h_concat
I0922 22:20:32.727075 24485 net.cpp:425] lstm2_h_concat <- h_1
I0922 22:20:32.727087 24485 net.cpp:399] lstm2_h_concat -> h
I0922 22:20:32.727138 24485 net.cpp:141] Setting up lstm2_h_concat
I0922 22:20:32.727149 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.727154 24485 net.cpp:156] Memory required for data: 98020
I0922 22:20:32.727159 24485 layer_factory.hpp:77] Creating layer h_pseudoloss
I0922 22:20:32.727169 24485 net.cpp:91] Creating Layer h_pseudoloss
I0922 22:20:32.727174 24485 net.cpp:425] h_pseudoloss <- h
I0922 22:20:32.727185 24485 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0922 22:20:32.727293 24485 net.cpp:141] Setting up h_pseudoloss
I0922 22:20:32.727305 24485 net.cpp:148] Top shape: (1)
I0922 22:20:32.727310 24485 net.cpp:151]     with loss weight 1
I0922 22:20:32.727335 24485 net.cpp:156] Memory required for data: 98024
I0922 22:20:32.727341 24485 net.cpp:217] h_pseudoloss needs backward computation.
I0922 22:20:32.727347 24485 net.cpp:217] lstm2_h_concat needs backward computation.
I0922 22:20:32.727352 24485 net.cpp:219] lstm2_ does not need backward computation.
I0922 22:20:32.727357 24485 net.cpp:217] lstm2_unit_1 needs backward computation.
I0922 22:20:32.727363 24485 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0922 22:20:32.727370 24485 net.cpp:217] lstm2_transform_1 needs backward computation.
I0922 22:20:32.727377 24485 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0922 22:20:32.727385 24485 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0922 22:20:32.727390 24485 net.cpp:217] lstm2_x_transform needs backward computation.
I0922 22:20:32.727394 24485 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0922 22:20:32.727401 24485 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0922 22:20:32.727406 24485 net.cpp:219] lstm2_ does not need backward computation.
I0922 22:20:32.727411 24485 net.cpp:219] lstm2_ does not need backward computation.
I0922 22:20:32.727416 24485 net.cpp:261] This network produces output c_T
I0922 22:20:32.727421 24485 net.cpp:261] This network produces output h_pseudoloss
I0922 22:20:32.727818 24485 net.cpp:274] Network initialization done.
I0922 22:20:32.727886 24485 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0922 22:20:32.727895 24485 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0922 22:20:32.727900 24485 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0922 22:20:32.728032 24485 net.cpp:141] Setting up lstm2
I0922 22:20:32.728046 24485 net.cpp:148] Top shape: 1 1 1000 (1000)
I0922 22:20:32.728051 24485 net.cpp:156] Memory required for data: 36412
I0922 22:20:32.728067 24485 layer_factory.hpp:77] Creating layer predict
I0922 22:20:32.728082 24485 net.cpp:91] Creating Layer predict
I0922 22:20:32.728090 24485 net.cpp:425] predict <- lstm2
I0922 22:20:32.728097 24485 net.cpp:399] predict -> predict
I0922 22:20:32.901561 24491 upgrade_proto.cpp:43] Attempting to upgrade input file specified using deprecated transformation parameters: /home/peifeng/work/run/storm102/data/workers/af8663ad-1fba-4f1c-82b8-5dee0a3cfebf/tmp/cvld3813592839671833736/bvlc_reference_caffenet.caffemodel
I0922 22:20:32.901599 24491 upgrade_proto.cpp:46] Successfully upgraded file specified using deprecated data transformation parameters.
W0922 22:20:32.901605 24491 upgrade_proto.cpp:48] Note that future Caffe releases will only support transform_param messages for transformation fields.
I0922 22:20:32.901610 24491 upgrade_proto.cpp:52] Attempting to upgrade input file specified using deprecated V1LayerParameter: /home/peifeng/work/run/storm102/data/workers/af8663ad-1fba-4f1c-82b8-5dee0a3cfebf/tmp/cvld3813592839671833736/bvlc_reference_caffenet.caffemodel
I0922 22:20:33.042793 24481 net.cpp:141] Setting up predict
I0922 22:20:33.042842 24481 net.cpp:148] Top shape: 1 1 46168 (46168)
I0922 22:20:33.042850 24481 net.cpp:156] Memory required for data: 221084
I0922 22:20:33.042865 24481 layer_factory.hpp:77] Creating layer probs
I0922 22:20:33.042882 24481 net.cpp:91] Creating Layer probs
I0922 22:20:33.042891 24481 net.cpp:425] probs <- predict
I0922 22:20:33.042901 24481 net.cpp:399] probs -> probs
I0922 22:20:33.043685 24481 net.cpp:141] Setting up probs
I0922 22:20:33.043702 24481 net.cpp:148] Top shape: 1 1 46168 (46168)
I0922 22:20:33.043707 24481 net.cpp:156] Memory required for data: 405756
I0922 22:20:33.043714 24481 net.cpp:219] probs does not need backward computation.
I0922 22:20:33.043720 24481 net.cpp:219] predict does not need backward computation.
I0922 22:20:33.043723 24481 net.cpp:219] lstm2 does not need backward computation.
I0922 22:20:33.043730 24481 net.cpp:219] concat does not need backward computation.
I0922 22:20:33.043735 24481 net.cpp:219] lstm1 does not need backward computation.
I0922 22:20:33.043740 24481 net.cpp:219] embedding does not need backward computation.
I0922 22:20:33.043745 24481 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0922 22:20:33.043751 24481 net.cpp:219] reshape_frames does not need backward computation.
I0922 22:20:33.043756 24481 net.cpp:219] embed_encoder does not need backward computation.
I0922 22:20:33.043759 24481 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0922 22:20:33.043766 24481 net.cpp:219] input does not need backward computation.
I0922 22:20:33.043769 24481 net.cpp:261] This network produces output probs
I0922 22:20:33.043784 24481 net.cpp:274] Network initialization done.
I0922 22:20:33.212270 24485 net.cpp:141] Setting up predict
I0922 22:20:33.212328 24485 net.cpp:148] Top shape: 1 1 46168 (46168)
I0922 22:20:33.212335 24485 net.cpp:156] Memory required for data: 221084
I0922 22:20:33.212352 24485 layer_factory.hpp:77] Creating layer probs
I0922 22:20:33.212370 24485 net.cpp:91] Creating Layer probs
I0922 22:20:33.212379 24485 net.cpp:425] probs <- predict
I0922 22:20:33.212390 24485 net.cpp:399] probs -> probs
I0922 22:20:33.213187 24485 net.cpp:141] Setting up probs
I0922 22:20:33.213203 24485 net.cpp:148] Top shape: 1 1 46168 (46168)
I0922 22:20:33.213208 24485 net.cpp:156] Memory required for data: 405756
I0922 22:20:33.213215 24485 net.cpp:219] probs does not need backward computation.
I0922 22:20:33.213222 24485 net.cpp:219] predict does not need backward computation.
I0922 22:20:33.213227 24485 net.cpp:219] lstm2 does not need backward computation.
I0922 22:20:33.213233 24485 net.cpp:219] concat does not need backward computation.
I0922 22:20:33.213239 24485 net.cpp:219] lstm1 does not need backward computation.
I0922 22:20:33.213246 24485 net.cpp:219] embedding does not need backward computation.
I0922 22:20:33.213253 24485 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0922 22:20:33.213258 24485 net.cpp:219] reshape_frames does not need backward computation.
I0922 22:20:33.213263 24485 net.cpp:219] embed_encoder does not need backward computation.
I0922 22:20:33.213268 24485 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0922 22:20:33.213275 24485 net.cpp:219] input does not need backward computation.
I0922 22:20:33.213279 24485 net.cpp:261] This network produces output probs
I0922 22:20:33.213300 24485 net.cpp:274] Network initialization done.
I0922 22:20:33.269320 24491 upgrade_proto.cpp:60] Successfully upgraded file specified using deprecated V1LayerParameter
I0922 22:20:33.320405 24491 net.cpp:752] Ignoring source layer loss
Loading the model + trained: 10844.4ms
Using cv::Size and some other stuff: 0.153ms
I0922 22:20:33.376559 24481 net.cpp:752] Ignoring source layer data
I0922 22:20:33.376590 24481 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0922 22:20:33.376595 24481 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0922 22:20:33.443028 24481 net.cpp:752] Ignoring source layer cross_entropy_loss
I0922 22:20:33.552779 24485 net.cpp:752] Ignoring source layer data
I0922 22:20:33.552819 24485 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0922 22:20:33.552825 24485 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0922 22:20:33.631103 24485 net.cpp:752] Ignoring source layer cross_entropy_loss
Loading the mean file: 20265.2ms
TIMERTIMER 320370546
TIMERTIMER 243787099
TIMERTIMER 257814753
TIMERTIMER 235248879
TIMERTIMER 247617118
TIMERTIMER 254202151
TIMERTIMER 240511978
TIMERTIMER 225308239
TIMERTIMER 241222567
TIMERTIMER 248915469
TIMERTIMER 247558042
TIMERTIMER 256557029
TIMERTIMER 248523958
TIMERTIMER 248890490
TIMERTIMER 241409742
TIMERTIMER 236105866
TIMERTIMER 227032408
TIMERTIMER 242318783
TIMERTIMER 236289584
TIMERTIMER 231290372
TIMERTIMER 233631329
TIMERTIMER 242293716
TIMERTIMER 218556623
TIMERTIMER 212969151
TIMERTIMER 225371556
TIMERTIMER 232053665
TIMERTIMER 222486125
TIMERTIMER 235715323
TIMERTIMER 230846705
TIMERTIMER 210567024
TIMERTIMER 218445655
TIMERTIMER 212564250
TIMERTIMER 210589306
TIMERTIMER 217048940
TIMERTIMER 211909951
TIMERTIMER 223973892
TIMERTIMER 227059288
TIMERTIMER 224122107
TIMERTIMER 224407609
TIMERTIMER 229679027
TIMERTIMER 217699478
TIMERTIMER 217794572
TIMERTIMER 211541371
TIMERTIMER 216038844
TIMERTIMER 217349959
TIMERTIMER 213501408
TIMERTIMER 225366870
TIMERTIMER 225695596
TIMERTIMER 218818652
TIMERTIMER 224689547
TIMERTIMER 200973659
TIMERTIMER 227695352
TIMERTIMER 228306531
TIMERTIMER 218099343
TIMERTIMER 218960483
TIMERTIMER 217937901
TIMERTIMER 205892604
TIMERTIMER 228563332
TIMERTIMER 218403840
TIMERTIMER 217841041
TIMERTIMER 224552599
TIMERTIMER 217576557
TIMERTIMER 220006482
TIMERTIMER 219724893
TIMERTIMER 219321101
TIMERTIMER 232191824
