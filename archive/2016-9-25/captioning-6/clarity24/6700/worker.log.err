SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm102/lib/log4j-slf4j-impl-2.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/peifeng/work/run/storm102/data/supervisor/stormdist/captioning-1-1474850955/stormjar.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]
Java HotSpot(TM) 64-Bit Server VM warning: You have loaded library /home/peifeng/work/run/storm102/data/workers/3f17780d-b020-4ccc-b89e-ff3c3bd57996/tmp/cvld7950095436677036273/libopencv_java310.xine1.so which might have disabled stack guard. The VM will try to fix the stack guard now.
It's highly recommended that you fix the library with 'execstack -c <libfile>', or link it with '-z noexecstack'.
WARNING: Logging before InitGoogleLogging() is written to STDERR
I0925 20:50:30.602828  7401 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /home/peifeng/work/run/storm102/data/workers/3f17780d-b020-4ccc-b89e-ff3c3bd57996/tmp/cvld7950095436677036273/s2vt.words_to_preds.prototxt
I0925 20:50:30.602828  7405 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /home/peifeng/work/run/storm102/data/workers/3f17780d-b020-4ccc-b89e-ff3c3bd57996/tmp/cvld7950095436677036273/s2vt.words_to_preds.prototxt
I0925 20:50:30.604215  7401 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
I0925 20:50:30.604215  7405 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
W0925 20:50:30.604254  7401 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
W0925 20:50:30.604257  7405 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
I0925 20:50:30.603444  7411 net.cpp:49] Initializing net from parameters: 
name: "CaffeNet"
state {
  phase: TEST
}
layer {
  name: "data"
  type: "Input"
  top: "data"
  input_param {
    shape {
      dim: 10
      dim: 3
      dim: 227
      dim: 227
    }
  }
}
layer {
  name: "conv1"
  type: "Convolution"
  bottom: "data"
  top: "conv1"
  convolution_param {
    num_output: 96
    kernel_size: 11
    stride: 4
  }
}
layer {
  name: "relu1"
  type: "ReLU"
  bottom: "conv1"
  top: "conv1"
}
layer {
  name: "pool1"
  type: "Pooling"
  bottom: "conv1"
  top: "pool1"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm1"
  type: "LRN"
  bottom: "pool1"
  top: "norm1"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv2"
  type: "Convolution"
  bottom: "norm1"
  top: "conv2"
  convolution_param {
    num_output: 256
    pad: 2
    kernel_size: 5
    group: 2
  }
}
layer {
  name: "relu2"
  type: "ReLU"
  bottom: "conv2"
  top: "conv2"
}
layer {
  name: "pool2"
  type: "Pooling"
  bottom: "conv2"
  top: "pool2"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm2"
  type: "LRN"
  bottom: "pool2"
  top: "norm2"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv3"
  type: "Convolution"
  bottom: "norm2"
  top: "conv3"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
  }
}
layer {
  name: "relu3"
  type: "ReLU"
  bottom: "conv3"
  top: "conv3"
}
layer {
  name: "conv4"
  type: "Convolution"
  bottom: "conv3"
  top: "conv4"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu4"
  type: "ReLU"
  bottom: "conv4"
  top: "conv4"
}
layer {
  name: "conv5"
  type: "Convolution"
  bottom: "conv4"
  top: "conv5"
  convolution_param {
    num_output: 256
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu5"
  type: "ReLU"
  bottom: "conv5"
  top: "conv5"
}
layer {
  name: "pool5"
  type: "Pooling"
  bottom: "conv5"
  top: "pool5"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "fc6"
  type: "InnerProduct"
  bottom: "pool5"
  top: "fc6"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu6"
  type: "ReLU"
  bottom: "fc6"
  top: "fc6"
}
layer {
  name: "drop6"
  type: "Dropout"
  bottom: "fc6"
  top: "fc6"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc7"
  type: "InnerProduct"
  bottom: "fc6"
  top: "fc7"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu7"
  type: "ReLU"
  bottom: "fc7"
  top: "fc7"
}
layer {
  name: "drop7"
  type: "Dropout"
  bottom: "fc7"
  top: "fc7"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc8"
  type: "InnerProduct"
  bottom: "fc7"
  top: "fc8"
  inner_product_param {
    num_output: 1000
  }
}
layer {
  name: "prob"
  type: "Softmax"
  bottom: "fc8"
  top: "prob"
}
I0925 20:50:30.604562  7405 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0925 20:50:30.604573  7411 layer_factory.hpp:77] Creating layer data
I0925 20:50:30.604563  7401 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0925 20:50:30.604625  7411 net.cpp:91] Creating Layer data
I0925 20:50:30.604645  7411 net.cpp:399] data -> data
I0925 20:50:30.604720  7405 layer_factory.hpp:77] Creating layer input
I0925 20:50:30.604724  7401 layer_factory.hpp:77] Creating layer input
I0925 20:50:30.604738  7405 net.cpp:91] Creating Layer input
I0925 20:50:30.604742  7401 net.cpp:91] Creating Layer input
I0925 20:50:30.604746  7405 net.cpp:399] input -> frames_fc7
I0925 20:50:30.604749  7401 net.cpp:399] input -> frames_fc7
I0925 20:50:30.604766  7405 net.cpp:399] input -> cont_sentence
I0925 20:50:30.604766  7401 net.cpp:399] input -> cont_sentence
I0925 20:50:30.604795  7405 net.cpp:399] input -> input_sentence
I0925 20:50:30.604799  7401 net.cpp:399] input -> input_sentence
I0925 20:50:30.604806  7405 net.cpp:399] input -> stage_indicator
I0925 20:50:30.604809  7401 net.cpp:399] input -> stage_indicator
I0925 20:50:31.207439  7411 net.cpp:141] Setting up data
I0925 20:50:31.207545  7411 net.cpp:148] Top shape: 10 3 227 227 (1545870)
I0925 20:50:31.207553  7411 net.cpp:156] Memory required for data: 6183480
I0925 20:50:31.207576  7411 layer_factory.hpp:77] Creating layer conv1
I0925 20:50:31.207610  7411 net.cpp:91] Creating Layer conv1
I0925 20:50:31.207622  7411 net.cpp:425] conv1 <- data
I0925 20:50:31.207635  7411 net.cpp:399] conv1 -> conv1
I0925 20:50:31.207624  7401 net.cpp:141] Setting up input
I0925 20:50:31.207661  7401 net.cpp:148] Top shape: 1 4096 (4096)
I0925 20:50:31.207661  7405 net.cpp:141] Setting up input
I0925 20:50:31.207680  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207695  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207695  7405 net.cpp:148] Top shape: 1 4096 (4096)
I0925 20:50:31.207701  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207705  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207706  7401 net.cpp:156] Memory required for data: 16396
I0925 20:50:31.207712  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207715  7401 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0925 20:50:31.207718  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207725  7405 net.cpp:156] Memory required for data: 16396
I0925 20:50:31.207733  7405 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0925 20:50:31.207733  7401 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0925 20:50:31.207747  7401 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0925 20:50:31.207749  7405 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0925 20:50:31.207757  7405 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0925 20:50:31.207769  7401 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0925 20:50:31.207772  7405 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0925 20:50:31.207794  7401 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0925 20:50:31.207803  7405 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0925 20:50:31.207861  7401 net.cpp:141] Setting up cont_sentence_input_1_split
I0925 20:50:31.207872  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207880  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.207890  7401 net.cpp:156] Memory required for data: 16404
I0925 20:50:31.207895  7401 layer_factory.hpp:77] Creating layer embed_encoder
I0925 20:50:31.207921  7401 net.cpp:91] Creating Layer embed_encoder
I0925 20:50:31.207927  7401 net.cpp:425] embed_encoder <- frames_fc7
I0925 20:50:31.207936  7401 net.cpp:399] embed_encoder -> embedded_in_frames
I0925 20:50:31.208868  7405 net.cpp:141] Setting up cont_sentence_input_1_split
I0925 20:50:31.208889  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.208897  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.208902  7405 net.cpp:156] Memory required for data: 16404
I0925 20:50:31.208909  7405 layer_factory.hpp:77] Creating layer embed_encoder
I0925 20:50:31.208923  7405 net.cpp:91] Creating Layer embed_encoder
I0925 20:50:31.208930  7405 net.cpp:425] embed_encoder <- frames_fc7
I0925 20:50:31.208940  7405 net.cpp:399] embed_encoder -> embedded_in_frames
I0925 20:50:31.236529  7405 net.cpp:141] Setting up embed_encoder
I0925 20:50:31.236575  7405 net.cpp:148] Top shape: 1 500 (500)
I0925 20:50:31.236582  7405 net.cpp:156] Memory required for data: 18404
I0925 20:50:31.236599  7401 net.cpp:141] Setting up embed_encoder
I0925 20:50:31.236610  7405 layer_factory.hpp:77] Creating layer reshape_frames
I0925 20:50:31.236618  7401 net.cpp:148] Top shape: 1 500 (500)
I0925 20:50:31.236624  7401 net.cpp:156] Memory required for data: 18404
I0925 20:50:31.236639  7401 layer_factory.hpp:77] Creating layer reshape_frames
I0925 20:50:31.236639  7405 net.cpp:91] Creating Layer reshape_frames
I0925 20:50:31.236657  7401 net.cpp:91] Creating Layer reshape_frames
I0925 20:50:31.236659  7405 net.cpp:425] reshape_frames <- embedded_in_frames
I0925 20:50:31.236668  7401 net.cpp:425] reshape_frames <- embedded_in_frames
I0925 20:50:31.236676  7405 net.cpp:399] reshape_frames -> embedded_input_frames
I0925 20:50:31.236681  7401 net.cpp:399] reshape_frames -> embedded_input_frames
I0925 20:50:31.237576  7401 net.cpp:141] Setting up reshape_frames
I0925 20:50:31.237587  7401 net.cpp:148] Top shape: 1 1 500 (500)
I0925 20:50:31.237592  7401 net.cpp:156] Memory required for data: 20404
I0925 20:50:31.237598  7401 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0925 20:50:31.237612  7401 net.cpp:91] Creating Layer reshape_stage_indicator
I0925 20:50:31.237617  7401 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0925 20:50:31.237625  7401 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0925 20:50:31.237648  7405 net.cpp:141] Setting up reshape_frames
I0925 20:50:31.237669  7405 net.cpp:148] Top shape: 1 1 500 (500)
I0925 20:50:31.237675  7405 net.cpp:156] Memory required for data: 20404
I0925 20:50:31.237676  7401 net.cpp:141] Setting up reshape_stage_indicator
I0925 20:50:31.237682  7405 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0925 20:50:31.237687  7401 net.cpp:148] Top shape: 1 1 1 (1)
I0925 20:50:31.237692  7401 net.cpp:156] Memory required for data: 20408
I0925 20:50:31.237695  7405 net.cpp:91] Creating Layer reshape_stage_indicator
I0925 20:50:31.237697  7401 layer_factory.hpp:77] Creating layer embedding
I0925 20:50:31.237702  7405 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0925 20:50:31.237712  7401 net.cpp:91] Creating Layer embedding
I0925 20:50:31.237714  7405 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0925 20:50:31.237725  7401 net.cpp:425] embedding <- input_sentence
I0925 20:50:31.237743  7401 net.cpp:399] embedding -> embedded_input_sentence
I0925 20:50:31.237850  7405 net.cpp:141] Setting up reshape_stage_indicator
I0925 20:50:31.237864  7405 net.cpp:148] Top shape: 1 1 1 (1)
I0925 20:50:31.237869  7405 net.cpp:156] Memory required for data: 20408
I0925 20:50:31.237874  7405 layer_factory.hpp:77] Creating layer embedding
I0925 20:50:31.237885  7405 net.cpp:91] Creating Layer embedding
I0925 20:50:31.237892  7405 net.cpp:425] embedding <- input_sentence
I0925 20:50:31.237902  7405 net.cpp:399] embedding -> embedded_input_sentence
I0925 20:50:31.513504  7401 net.cpp:141] Setting up embedding
I0925 20:50:31.513566  7401 net.cpp:148] Top shape: 1 1 500 (500)
I0925 20:50:31.513573  7401 net.cpp:156] Memory required for data: 22408
I0925 20:50:31.513597  7401 layer_factory.hpp:77] Creating layer lstm1
I0925 20:50:31.513630  7401 net.cpp:91] Creating Layer lstm1
I0925 20:50:31.513641  7401 net.cpp:425] lstm1 <- embedded_input_frames
I0925 20:50:31.513650  7401 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0925 20:50:31.513664  7401 net.cpp:399] lstm1 -> lstm1
I0925 20:50:31.513803  7401 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0925 20:50:31.514259  7401 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0925 20:50:31.514371  7401 layer_factory.hpp:77] Creating layer lstm1_
I0925 20:50:31.514386  7401 net.cpp:91] Creating Layer lstm1_
I0925 20:50:31.514394  7401 net.cpp:399] lstm1_ -> x
I0925 20:50:31.514406  7401 net.cpp:399] lstm1_ -> cont
I0925 20:50:31.514490  7401 net.cpp:141] Setting up lstm1_
I0925 20:50:31.514502  7401 net.cpp:148] Top shape: 1 1 500 (500)
I0925 20:50:31.514508  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.514513  7401 net.cpp:156] Memory required for data: 2004
I0925 20:50:31.514519  7401 layer_factory.hpp:77] Creating layer lstm1_
I0925 20:50:31.514528  7401 net.cpp:91] Creating Layer lstm1_
I0925 20:50:31.514545  7401 net.cpp:399] lstm1_ -> c_0
I0925 20:50:31.514557  7401 net.cpp:399] lstm1_ -> h_0
I0925 20:50:31.515830  7401 net.cpp:141] Setting up lstm1_
I0925 20:50:31.515851  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.515857  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.515862  7401 net.cpp:156] Memory required for data: 10004
I0925 20:50:31.515868  7401 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0925 20:50:31.515888  7401 net.cpp:91] Creating Layer lstm1_cont_slice
I0925 20:50:31.515895  7401 net.cpp:425] lstm1_cont_slice <- cont
I0925 20:50:31.515903  7401 net.cpp:399] lstm1_cont_slice -> cont_1
I0925 20:50:31.516134  7411 net.cpp:141] Setting up conv1
I0925 20:50:31.516170  7401 net.cpp:141] Setting up lstm1_cont_slice
I0925 20:50:31.516177  7411 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0925 20:50:31.516182  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.516185  7411 net.cpp:156] Memory required for data: 17799480
I0925 20:50:31.516188  7401 net.cpp:156] Memory required for data: 10008
I0925 20:50:31.516194  7401 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0925 20:50:31.516203  7401 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0925 20:50:31.516209  7401 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0925 20:50:31.516207  7411 layer_factory.hpp:77] Creating layer relu1
I0925 20:50:31.516223  7401 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0925 20:50:31.516232  7411 net.cpp:91] Creating Layer relu1
I0925 20:50:31.516233  7401 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0925 20:50:31.516239  7411 net.cpp:425] relu1 <- conv1
I0925 20:50:31.516248  7411 net.cpp:386] relu1 -> conv1 (in-place)
I0925 20:50:31.516295  7401 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0925 20:50:31.516306  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.516312  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.516316  7401 net.cpp:156] Memory required for data: 10016
I0925 20:50:31.516321  7401 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0925 20:50:31.516338  7401 net.cpp:91] Creating Layer lstm1_x_transform
I0925 20:50:31.516345  7401 net.cpp:425] lstm1_x_transform <- x
I0925 20:50:31.516353  7401 net.cpp:399] lstm1_x_transform -> W_xc_x
I0925 20:50:31.516819  7411 net.cpp:141] Setting up relu1
I0925 20:50:31.516834  7411 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0925 20:50:31.516839  7411 net.cpp:156] Memory required for data: 29415480
I0925 20:50:31.516845  7411 layer_factory.hpp:77] Creating layer pool1
I0925 20:50:31.516863  7411 net.cpp:91] Creating Layer pool1
I0925 20:50:31.516870  7411 net.cpp:425] pool1 <- conv1
I0925 20:50:31.516878  7411 net.cpp:399] pool1 -> pool1
I0925 20:50:31.521203  7411 net.cpp:141] Setting up pool1
I0925 20:50:31.521217  7411 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0925 20:50:31.521222  7411 net.cpp:156] Memory required for data: 32214840
I0925 20:50:31.521231  7411 layer_factory.hpp:77] Creating layer norm1
I0925 20:50:31.521250  7411 net.cpp:91] Creating Layer norm1
I0925 20:50:31.521255  7411 net.cpp:425] norm1 <- pool1
I0925 20:50:31.521263  7411 net.cpp:399] norm1 -> norm1
I0925 20:50:31.521555  7411 net.cpp:141] Setting up norm1
I0925 20:50:31.521569  7411 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0925 20:50:31.521574  7411 net.cpp:156] Memory required for data: 35014200
I0925 20:50:31.521580  7411 layer_factory.hpp:77] Creating layer conv2
I0925 20:50:31.521595  7411 net.cpp:91] Creating Layer conv2
I0925 20:50:31.521600  7411 net.cpp:425] conv2 <- norm1
I0925 20:50:31.521608  7411 net.cpp:399] conv2 -> conv2
I0925 20:50:31.524997  7411 net.cpp:141] Setting up conv2
I0925 20:50:31.525017  7411 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0925 20:50:31.525022  7411 net.cpp:156] Memory required for data: 42479160
I0925 20:50:31.525037  7411 layer_factory.hpp:77] Creating layer relu2
I0925 20:50:31.525046  7411 net.cpp:91] Creating Layer relu2
I0925 20:50:31.525053  7411 net.cpp:425] relu2 <- conv2
I0925 20:50:31.525060  7411 net.cpp:386] relu2 -> conv2 (in-place)
I0925 20:50:31.525471  7411 net.cpp:141] Setting up relu2
I0925 20:50:31.525486  7411 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0925 20:50:31.525491  7411 net.cpp:156] Memory required for data: 49944120
I0925 20:50:31.525498  7411 layer_factory.hpp:77] Creating layer pool2
I0925 20:50:31.525513  7411 net.cpp:91] Creating Layer pool2
I0925 20:50:31.525519  7411 net.cpp:425] pool2 <- conv2
I0925 20:50:31.525527  7411 net.cpp:399] pool2 -> pool2
I0925 20:50:31.525588  7411 net.cpp:141] Setting up pool2
I0925 20:50:31.525598  7411 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0925 20:50:31.525602  7411 net.cpp:156] Memory required for data: 51674680
I0925 20:50:31.525607  7411 layer_factory.hpp:77] Creating layer norm2
I0925 20:50:31.525621  7411 net.cpp:91] Creating Layer norm2
I0925 20:50:31.525627  7411 net.cpp:425] norm2 <- pool2
I0925 20:50:31.525635  7411 net.cpp:399] norm2 -> norm2
I0925 20:50:31.525907  7411 net.cpp:141] Setting up norm2
I0925 20:50:31.525920  7411 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0925 20:50:31.525925  7411 net.cpp:156] Memory required for data: 53405240
I0925 20:50:31.525931  7411 layer_factory.hpp:77] Creating layer conv3
I0925 20:50:31.525943  7411 net.cpp:91] Creating Layer conv3
I0925 20:50:31.525949  7411 net.cpp:425] conv3 <- norm2
I0925 20:50:31.525956  7411 net.cpp:399] conv3 -> conv3
I0925 20:50:31.529922  7411 net.cpp:141] Setting up conv3
I0925 20:50:31.529939  7411 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0925 20:50:31.529944  7411 net.cpp:156] Memory required for data: 56001080
I0925 20:50:31.529958  7411 layer_factory.hpp:77] Creating layer relu3
I0925 20:50:31.529971  7411 net.cpp:91] Creating Layer relu3
I0925 20:50:31.529978  7411 net.cpp:425] relu3 <- conv3
I0925 20:50:31.529988  7411 net.cpp:386] relu3 -> conv3 (in-place)
I0925 20:50:31.530231  7411 net.cpp:141] Setting up relu3
I0925 20:50:31.530247  7411 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0925 20:50:31.530252  7411 net.cpp:156] Memory required for data: 58596920
I0925 20:50:31.530258  7411 layer_factory.hpp:77] Creating layer conv4
I0925 20:50:31.530268  7411 net.cpp:91] Creating Layer conv4
I0925 20:50:31.530274  7411 net.cpp:425] conv4 <- conv3
I0925 20:50:31.530287  7411 net.cpp:399] conv4 -> conv4
I0925 20:50:31.534728  7411 net.cpp:141] Setting up conv4
I0925 20:50:31.534745  7411 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0925 20:50:31.534751  7411 net.cpp:156] Memory required for data: 61192760
I0925 20:50:31.534761  7411 layer_factory.hpp:77] Creating layer relu4
I0925 20:50:31.534775  7411 net.cpp:91] Creating Layer relu4
I0925 20:50:31.534781  7411 net.cpp:425] relu4 <- conv4
I0925 20:50:31.534790  7411 net.cpp:386] relu4 -> conv4 (in-place)
I0925 20:50:31.535218  7411 net.cpp:141] Setting up relu4
I0925 20:50:31.535233  7411 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0925 20:50:31.535238  7411 net.cpp:156] Memory required for data: 63788600
I0925 20:50:31.535246  7411 layer_factory.hpp:77] Creating layer conv5
I0925 20:50:31.535264  7411 net.cpp:91] Creating Layer conv5
I0925 20:50:31.535271  7411 net.cpp:425] conv5 <- conv4
I0925 20:50:31.535279  7411 net.cpp:399] conv5 -> conv5
I0925 20:50:31.538724  7401 net.cpp:141] Setting up lstm1_x_transform
I0925 20:50:31.538744  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.538749  7401 net.cpp:156] Memory required for data: 26016
I0925 20:50:31.538764  7401 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0925 20:50:31.538779  7401 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0925 20:50:31.538784  7401 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0925 20:50:31.538792  7401 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0925 20:50:31.538844  7401 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0925 20:50:31.538854  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.538859  7401 net.cpp:156] Memory required for data: 42016
I0925 20:50:31.538864  7401 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0925 20:50:31.538880  7401 net.cpp:91] Creating Layer lstm1_h_conted_0
I0925 20:50:31.538887  7401 net.cpp:425] lstm1_h_conted_0 <- h_0
I0925 20:50:31.538892  7401 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0925 20:50:31.538900  7401 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0925 20:50:31.539765  7401 net.cpp:141] Setting up lstm1_h_conted_0
I0925 20:50:31.539778  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.539783  7401 net.cpp:156] Memory required for data: 46016
I0925 20:50:31.539788  7401 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0925 20:50:31.539804  7401 net.cpp:91] Creating Layer lstm1_transform_1
I0925 20:50:31.539810  7401 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0925 20:50:31.539819  7401 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0925 20:50:31.548082  7411 net.cpp:141] Setting up conv5
I0925 20:50:31.548104  7411 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0925 20:50:31.548108  7411 net.cpp:156] Memory required for data: 65519160
I0925 20:50:31.548126  7411 layer_factory.hpp:77] Creating layer relu5
I0925 20:50:31.548123  7405 net.cpp:141] Setting up embedding
I0925 20:50:31.548140  7411 net.cpp:91] Creating Layer relu5
I0925 20:50:31.548146  7405 net.cpp:148] Top shape: 1 1 500 (500)
I0925 20:50:31.548146  7411 net.cpp:425] relu5 <- conv5
I0925 20:50:31.548158  7405 net.cpp:156] Memory required for data: 22408
I0925 20:50:31.548166  7411 net.cpp:386] relu5 -> conv5 (in-place)
I0925 20:50:31.548173  7405 layer_factory.hpp:77] Creating layer lstm1
I0925 20:50:31.548188  7405 net.cpp:91] Creating Layer lstm1
I0925 20:50:31.548197  7405 net.cpp:425] lstm1 <- embedded_input_frames
I0925 20:50:31.548204  7405 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0925 20:50:31.548213  7405 net.cpp:399] lstm1 -> lstm1
I0925 20:50:31.548228  7405 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0925 20:50:31.548535  7405 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0925 20:50:31.548615  7411 net.cpp:141] Setting up relu5
I0925 20:50:31.548627  7405 layer_factory.hpp:77] Creating layer lstm1_
I0925 20:50:31.548634  7411 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0925 20:50:31.548640  7411 net.cpp:156] Memory required for data: 67249720
I0925 20:50:31.548640  7405 net.cpp:91] Creating Layer lstm1_
I0925 20:50:31.548646  7411 layer_factory.hpp:77] Creating layer pool5
I0925 20:50:31.548650  7405 net.cpp:399] lstm1_ -> x
I0925 20:50:31.548657  7411 net.cpp:91] Creating Layer pool5
I0925 20:50:31.548663  7411 net.cpp:425] pool5 <- conv5
I0925 20:50:31.548662  7405 net.cpp:399] lstm1_ -> cont
I0925 20:50:31.548671  7411 net.cpp:399] pool5 -> pool5
I0925 20:50:31.548739  7405 net.cpp:141] Setting up lstm1_
I0925 20:50:31.548750  7405 net.cpp:148] Top shape: 1 1 500 (500)
I0925 20:50:31.548758  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.548763  7405 net.cpp:156] Memory required for data: 2004
I0925 20:50:31.548768  7405 layer_factory.hpp:77] Creating layer lstm1_
I0925 20:50:31.548779  7405 net.cpp:91] Creating Layer lstm1_
I0925 20:50:31.548785  7405 net.cpp:399] lstm1_ -> c_0
I0925 20:50:31.548796  7405 net.cpp:399] lstm1_ -> h_0
I0925 20:50:31.548801  7411 net.cpp:141] Setting up pool5
I0925 20:50:31.548813  7411 net.cpp:148] Top shape: 10 256 6 6 (92160)
I0925 20:50:31.548820  7411 net.cpp:156] Memory required for data: 67618360
I0925 20:50:31.548825  7411 layer_factory.hpp:77] Creating layer fc6
I0925 20:50:31.548841  7411 net.cpp:91] Creating Layer fc6
I0925 20:50:31.548846  7411 net.cpp:425] fc6 <- pool5
I0925 20:50:31.548854  7411 net.cpp:399] fc6 -> fc6
I0925 20:50:31.548856  7405 net.cpp:141] Setting up lstm1_
I0925 20:50:31.548866  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.548873  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.548877  7405 net.cpp:156] Memory required for data: 10004
I0925 20:50:31.548883  7405 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0925 20:50:31.548899  7405 net.cpp:91] Creating Layer lstm1_cont_slice
I0925 20:50:31.548905  7405 net.cpp:425] lstm1_cont_slice <- cont
I0925 20:50:31.548914  7405 net.cpp:399] lstm1_cont_slice -> cont_1
I0925 20:50:31.620151  7405 net.cpp:141] Setting up lstm1_cont_slice
I0925 20:50:31.620206  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.620213  7405 net.cpp:156] Memory required for data: 10008
I0925 20:50:31.620223  7405 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0925 20:50:31.620240  7405 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0925 20:50:31.620249  7405 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0925 20:50:31.620280  7405 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0925 20:50:31.620296  7405 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0925 20:50:31.620291  7401 net.cpp:141] Setting up lstm1_transform_1
I0925 20:50:31.620335  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.620342  7401 net.cpp:156] Memory required for data: 62016
I0925 20:50:31.620362  7401 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0925 20:50:31.620389  7401 net.cpp:91] Creating Layer lstm1_gate_input_1
I0925 20:50:31.620390  7405 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0925 20:50:31.620398  7401 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0925 20:50:31.620403  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.620406  7401 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0925 20:50:31.620410  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.620415  7405 net.cpp:156] Memory required for data: 10016
I0925 20:50:31.620419  7401 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0925 20:50:31.620421  7405 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0925 20:50:31.620473  7405 net.cpp:91] Creating Layer lstm1_x_transform
I0925 20:50:31.620482  7405 net.cpp:425] lstm1_x_transform <- x
I0925 20:50:31.620506  7405 net.cpp:399] lstm1_x_transform -> W_xc_x
I0925 20:50:31.620568  7401 net.cpp:141] Setting up lstm1_gate_input_1
I0925 20:50:31.620581  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.620586  7401 net.cpp:156] Memory required for data: 78016
I0925 20:50:31.620591  7401 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0925 20:50:31.620609  7401 net.cpp:91] Creating Layer lstm1_unit_1
I0925 20:50:31.620616  7401 net.cpp:425] lstm1_unit_1 <- c_0
I0925 20:50:31.620622  7401 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0925 20:50:31.620628  7401 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0925 20:50:31.620636  7401 net.cpp:399] lstm1_unit_1 -> c_1
I0925 20:50:31.620645  7401 net.cpp:399] lstm1_unit_1 -> h_1
I0925 20:50:31.625483  7401 net.cpp:141] Setting up lstm1_unit_1
I0925 20:50:31.625504  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.625511  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.625515  7401 net.cpp:156] Memory required for data: 86016
I0925 20:50:31.625521  7401 layer_factory.hpp:77] Creating layer lstm1_
I0925 20:50:31.625533  7401 net.cpp:91] Creating Layer lstm1_
I0925 20:50:31.625538  7401 net.cpp:425] lstm1_ <- c_1
I0925 20:50:31.625547  7401 net.cpp:399] lstm1_ -> c_T
I0925 20:50:31.625592  7401 net.cpp:141] Setting up lstm1_
I0925 20:50:31.625602  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.625607  7401 net.cpp:156] Memory required for data: 90016
I0925 20:50:31.625612  7401 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0925 20:50:31.625623  7401 net.cpp:91] Creating Layer lstm1_h_concat
I0925 20:50:31.625628  7401 net.cpp:425] lstm1_h_concat <- h_1
I0925 20:50:31.625636  7401 net.cpp:399] lstm1_h_concat -> h
I0925 20:50:31.625681  7401 net.cpp:141] Setting up lstm1_h_concat
I0925 20:50:31.625691  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.625695  7401 net.cpp:156] Memory required for data: 94016
I0925 20:50:31.625700  7401 layer_factory.hpp:77] Creating layer h_pseudoloss
I0925 20:50:31.625721  7401 net.cpp:91] Creating Layer h_pseudoloss
I0925 20:50:31.625726  7401 net.cpp:425] h_pseudoloss <- h
I0925 20:50:31.625735  7401 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0925 20:50:31.625849  7401 net.cpp:141] Setting up h_pseudoloss
I0925 20:50:31.625860  7401 net.cpp:148] Top shape: (1)
I0925 20:50:31.625865  7401 net.cpp:151]     with loss weight 1
I0925 20:50:31.625910  7401 net.cpp:156] Memory required for data: 94020
I0925 20:50:31.625916  7401 net.cpp:217] h_pseudoloss needs backward computation.
I0925 20:50:31.625922  7401 net.cpp:217] lstm1_h_concat needs backward computation.
I0925 20:50:31.625926  7401 net.cpp:219] lstm1_ does not need backward computation.
I0925 20:50:31.625931  7401 net.cpp:217] lstm1_unit_1 needs backward computation.
I0925 20:50:31.625937  7401 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0925 20:50:31.625943  7401 net.cpp:217] lstm1_transform_1 needs backward computation.
I0925 20:50:31.625957  7401 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0925 20:50:31.625963  7401 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0925 20:50:31.625968  7401 net.cpp:217] lstm1_x_transform needs backward computation.
I0925 20:50:31.625973  7401 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0925 20:50:31.625979  7401 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0925 20:50:31.625984  7401 net.cpp:219] lstm1_ does not need backward computation.
I0925 20:50:31.625989  7401 net.cpp:219] lstm1_ does not need backward computation.
I0925 20:50:31.625993  7401 net.cpp:261] This network produces output c_T
I0925 20:50:31.625998  7401 net.cpp:261] This network produces output h_pseudoloss
I0925 20:50:31.626018  7401 net.cpp:274] Network initialization done.
I0925 20:50:31.626090  7401 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0925 20:50:31.626097  7401 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0925 20:50:31.626102  7401 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0925 20:50:31.626229  7401 net.cpp:141] Setting up lstm1
I0925 20:50:31.626241  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.626246  7401 net.cpp:156] Memory required for data: 26408
I0925 20:50:31.626262  7401 layer_factory.hpp:77] Creating layer concat
I0925 20:50:31.626293  7401 net.cpp:91] Creating Layer concat
I0925 20:50:31.626302  7401 net.cpp:425] concat <- lstm1
I0925 20:50:31.626312  7401 net.cpp:425] concat <- embedded_input_sentence
I0925 20:50:31.626317  7401 net.cpp:425] concat <- reshaped_stage_indicator
I0925 20:50:31.626324  7401 net.cpp:399] concat -> lstm1_video_sequence
I0925 20:50:31.626364  7401 net.cpp:141] Setting up concat
I0925 20:50:31.626374  7401 net.cpp:148] Top shape: 1 1 1501 (1501)
I0925 20:50:31.626379  7401 net.cpp:156] Memory required for data: 32412
I0925 20:50:31.626384  7401 layer_factory.hpp:77] Creating layer lstm2
I0925 20:50:31.626399  7401 net.cpp:91] Creating Layer lstm2
I0925 20:50:31.626405  7401 net.cpp:425] lstm2 <- lstm1_video_sequence
I0925 20:50:31.626411  7401 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0925 20:50:31.626420  7401 net.cpp:399] lstm2 -> lstm2
I0925 20:50:31.626432  7401 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0925 20:50:31.626797  7401 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0925 20:50:31.626898  7401 layer_factory.hpp:77] Creating layer lstm2_
I0925 20:50:31.626911  7401 net.cpp:91] Creating Layer lstm2_
I0925 20:50:31.626917  7401 net.cpp:399] lstm2_ -> x
I0925 20:50:31.626930  7401 net.cpp:399] lstm2_ -> cont
I0925 20:50:31.627045  7401 net.cpp:141] Setting up lstm2_
I0925 20:50:31.627064  7401 net.cpp:148] Top shape: 1 1 1501 (1501)
I0925 20:50:31.627076  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.627085  7401 net.cpp:156] Memory required for data: 6008
I0925 20:50:31.627095  7401 layer_factory.hpp:77] Creating layer lstm2_
I0925 20:50:31.627120  7401 net.cpp:91] Creating Layer lstm2_
I0925 20:50:31.627133  7401 net.cpp:399] lstm2_ -> c_0
I0925 20:50:31.627151  7401 net.cpp:399] lstm2_ -> h_0
I0925 20:50:31.627249  7401 net.cpp:141] Setting up lstm2_
I0925 20:50:31.627266  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.627277  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.627285  7401 net.cpp:156] Memory required for data: 14008
I0925 20:50:31.627295  7401 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0925 20:50:31.627312  7401 net.cpp:91] Creating Layer lstm2_cont_slice
I0925 20:50:31.627321  7401 net.cpp:425] lstm2_cont_slice <- cont
I0925 20:50:31.627334  7401 net.cpp:399] lstm2_cont_slice -> cont_1
I0925 20:50:31.627398  7401 net.cpp:141] Setting up lstm2_cont_slice
I0925 20:50:31.627413  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.627423  7401 net.cpp:156] Memory required for data: 14012
I0925 20:50:31.627430  7401 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0925 20:50:31.627451  7401 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0925 20:50:31.627461  7401 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0925 20:50:31.627473  7401 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0925 20:50:31.627492  7401 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0925 20:50:31.627584  7401 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0925 20:50:31.627601  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.627612  7401 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.627620  7401 net.cpp:156] Memory required for data: 14020
I0925 20:50:31.627629  7401 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0925 20:50:31.627651  7401 net.cpp:91] Creating Layer lstm2_x_transform
I0925 20:50:31.627661  7401 net.cpp:425] lstm2_x_transform <- x
I0925 20:50:31.627676  7401 net.cpp:399] lstm2_x_transform -> W_xc_x
I0925 20:50:31.645437  7405 net.cpp:141] Setting up lstm1_x_transform
I0925 20:50:31.645494  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.645501  7405 net.cpp:156] Memory required for data: 26016
I0925 20:50:31.645524  7405 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0925 20:50:31.645540  7405 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0925 20:50:31.645547  7405 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0925 20:50:31.645562  7405 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0925 20:50:31.645612  7405 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0925 20:50:31.645623  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.645628  7405 net.cpp:156] Memory required for data: 42016
I0925 20:50:31.645633  7405 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0925 20:50:31.645644  7405 net.cpp:91] Creating Layer lstm1_h_conted_0
I0925 20:50:31.645649  7405 net.cpp:425] lstm1_h_conted_0 <- h_0
I0925 20:50:31.645656  7405 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0925 20:50:31.645668  7405 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0925 20:50:31.645781  7405 net.cpp:141] Setting up lstm1_h_conted_0
I0925 20:50:31.645792  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.645797  7405 net.cpp:156] Memory required for data: 46016
I0925 20:50:31.645802  7405 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0925 20:50:31.645818  7405 net.cpp:91] Creating Layer lstm1_transform_1
I0925 20:50:31.645824  7405 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0925 20:50:31.645833  7405 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0925 20:50:31.661850  7411 net.cpp:141] Setting up fc6
I0925 20:50:31.661900  7411 net.cpp:148] Top shape: 10 4096 (40960)
I0925 20:50:31.661906  7411 net.cpp:156] Memory required for data: 67782200
I0925 20:50:31.661919  7411 layer_factory.hpp:77] Creating layer relu6
I0925 20:50:31.661942  7411 net.cpp:91] Creating Layer relu6
I0925 20:50:31.661948  7411 net.cpp:425] relu6 <- fc6
I0925 20:50:31.661957  7411 net.cpp:386] relu6 -> fc6 (in-place)
I0925 20:50:31.662327  7411 net.cpp:141] Setting up relu6
I0925 20:50:31.662339  7411 net.cpp:148] Top shape: 10 4096 (40960)
I0925 20:50:31.662344  7411 net.cpp:156] Memory required for data: 67946040
I0925 20:50:31.662350  7411 layer_factory.hpp:77] Creating layer drop6
I0925 20:50:31.662375  7411 net.cpp:91] Creating Layer drop6
I0925 20:50:31.662381  7411 net.cpp:425] drop6 <- fc6
I0925 20:50:31.662389  7411 net.cpp:386] drop6 -> fc6 (in-place)
I0925 20:50:31.662441  7411 net.cpp:141] Setting up drop6
I0925 20:50:31.662451  7411 net.cpp:148] Top shape: 10 4096 (40960)
I0925 20:50:31.662456  7411 net.cpp:156] Memory required for data: 68109880
I0925 20:50:31.662461  7411 layer_factory.hpp:77] Creating layer fc7
I0925 20:50:31.662477  7411 net.cpp:91] Creating Layer fc7
I0925 20:50:31.662482  7411 net.cpp:425] fc7 <- fc6
I0925 20:50:31.662492  7411 net.cpp:399] fc7 -> fc7
I0925 20:50:31.695564  7405 net.cpp:141] Setting up lstm1_transform_1
I0925 20:50:31.695621  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.695631  7405 net.cpp:156] Memory required for data: 62016
I0925 20:50:31.695658  7405 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0925 20:50:31.695688  7405 net.cpp:91] Creating Layer lstm1_gate_input_1
I0925 20:50:31.695695  7405 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0925 20:50:31.695704  7405 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0925 20:50:31.695715  7405 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0925 20:50:31.695776  7405 net.cpp:141] Setting up lstm1_gate_input_1
I0925 20:50:31.695787  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.695792  7405 net.cpp:156] Memory required for data: 78016
I0925 20:50:31.695797  7405 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0925 20:50:31.695811  7405 net.cpp:91] Creating Layer lstm1_unit_1
I0925 20:50:31.695817  7405 net.cpp:425] lstm1_unit_1 <- c_0
I0925 20:50:31.695824  7405 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0925 20:50:31.695830  7405 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0925 20:50:31.695837  7405 net.cpp:399] lstm1_unit_1 -> c_1
I0925 20:50:31.695847  7405 net.cpp:399] lstm1_unit_1 -> h_1
I0925 20:50:31.695920  7405 net.cpp:141] Setting up lstm1_unit_1
I0925 20:50:31.695931  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.695937  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.695942  7405 net.cpp:156] Memory required for data: 86016
I0925 20:50:31.695947  7405 layer_factory.hpp:77] Creating layer lstm1_
I0925 20:50:31.695956  7405 net.cpp:91] Creating Layer lstm1_
I0925 20:50:31.695961  7405 net.cpp:425] lstm1_ <- c_1
I0925 20:50:31.695968  7405 net.cpp:399] lstm1_ -> c_T
I0925 20:50:31.696010  7405 net.cpp:141] Setting up lstm1_
I0925 20:50:31.696019  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.696024  7405 net.cpp:156] Memory required for data: 90016
I0925 20:50:31.696029  7405 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0925 20:50:31.696039  7405 net.cpp:91] Creating Layer lstm1_h_concat
I0925 20:50:31.696044  7405 net.cpp:425] lstm1_h_concat <- h_1
I0925 20:50:31.696051  7405 net.cpp:399] lstm1_h_concat -> h
I0925 20:50:31.696096  7405 net.cpp:141] Setting up lstm1_h_concat
I0925 20:50:31.696105  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.696110  7405 net.cpp:156] Memory required for data: 94016
I0925 20:50:31.696115  7405 layer_factory.hpp:77] Creating layer h_pseudoloss
I0925 20:50:31.696125  7405 net.cpp:91] Creating Layer h_pseudoloss
I0925 20:50:31.696130  7405 net.cpp:425] h_pseudoloss <- h
I0925 20:50:31.696137  7405 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0925 20:50:31.696238  7405 net.cpp:141] Setting up h_pseudoloss
I0925 20:50:31.696249  7405 net.cpp:148] Top shape: (1)
I0925 20:50:31.696254  7405 net.cpp:151]     with loss weight 1
I0925 20:50:31.696279  7405 net.cpp:156] Memory required for data: 94020
I0925 20:50:31.696283  7405 net.cpp:217] h_pseudoloss needs backward computation.
I0925 20:50:31.696288  7405 net.cpp:217] lstm1_h_concat needs backward computation.
I0925 20:50:31.696293  7405 net.cpp:219] lstm1_ does not need backward computation.
I0925 20:50:31.696298  7405 net.cpp:217] lstm1_unit_1 needs backward computation.
I0925 20:50:31.696305  7405 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0925 20:50:31.696310  7405 net.cpp:217] lstm1_transform_1 needs backward computation.
I0925 20:50:31.696318  7405 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0925 20:50:31.696326  7405 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0925 20:50:31.696331  7405 net.cpp:217] lstm1_x_transform needs backward computation.
I0925 20:50:31.696337  7405 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0925 20:50:31.696342  7405 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0925 20:50:31.696348  7405 net.cpp:219] lstm1_ does not need backward computation.
I0925 20:50:31.696352  7405 net.cpp:219] lstm1_ does not need backward computation.
I0925 20:50:31.696357  7405 net.cpp:261] This network produces output c_T
I0925 20:50:31.696362  7405 net.cpp:261] This network produces output h_pseudoloss
I0925 20:50:31.696377  7405 net.cpp:274] Network initialization done.
I0925 20:50:31.696429  7405 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0925 20:50:31.696435  7405 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0925 20:50:31.696439  7405 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0925 20:50:31.696554  7405 net.cpp:141] Setting up lstm1
I0925 20:50:31.696566  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.696571  7405 net.cpp:156] Memory required for data: 26408
I0925 20:50:31.696586  7405 layer_factory.hpp:77] Creating layer concat
I0925 20:50:31.696596  7405 net.cpp:91] Creating Layer concat
I0925 20:50:31.696602  7405 net.cpp:425] concat <- lstm1
I0925 20:50:31.696609  7405 net.cpp:425] concat <- embedded_input_sentence
I0925 20:50:31.696615  7405 net.cpp:425] concat <- reshaped_stage_indicator
I0925 20:50:31.696622  7405 net.cpp:399] concat -> lstm1_video_sequence
I0925 20:50:31.696660  7405 net.cpp:141] Setting up concat
I0925 20:50:31.696671  7405 net.cpp:148] Top shape: 1 1 1501 (1501)
I0925 20:50:31.696676  7405 net.cpp:156] Memory required for data: 32412
I0925 20:50:31.696686  7405 layer_factory.hpp:77] Creating layer lstm2
I0925 20:50:31.696705  7405 net.cpp:91] Creating Layer lstm2
I0925 20:50:31.696717  7405 net.cpp:425] lstm2 <- lstm1_video_sequence
I0925 20:50:31.696724  7405 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0925 20:50:31.696733  7405 net.cpp:399] lstm2 -> lstm2
I0925 20:50:31.696744  7405 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0925 20:50:31.697015  7405 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0925 20:50:31.697109  7405 layer_factory.hpp:77] Creating layer lstm2_
I0925 20:50:31.697123  7405 net.cpp:91] Creating Layer lstm2_
I0925 20:50:31.697129  7405 net.cpp:399] lstm2_ -> x
I0925 20:50:31.697141  7405 net.cpp:399] lstm2_ -> cont
I0925 20:50:31.697203  7405 net.cpp:141] Setting up lstm2_
I0925 20:50:31.697214  7405 net.cpp:148] Top shape: 1 1 1501 (1501)
I0925 20:50:31.697221  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.697227  7405 net.cpp:156] Memory required for data: 6008
I0925 20:50:31.697232  7405 layer_factory.hpp:77] Creating layer lstm2_
I0925 20:50:31.697247  7405 net.cpp:91] Creating Layer lstm2_
I0925 20:50:31.697253  7405 net.cpp:399] lstm2_ -> c_0
I0925 20:50:31.697264  7405 net.cpp:399] lstm2_ -> h_0
I0925 20:50:31.697324  7405 net.cpp:141] Setting up lstm2_
I0925 20:50:31.697335  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.697341  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.697345  7405 net.cpp:156] Memory required for data: 14008
I0925 20:50:31.697350  7405 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0925 20:50:31.697360  7405 net.cpp:91] Creating Layer lstm2_cont_slice
I0925 20:50:31.697365  7405 net.cpp:425] lstm2_cont_slice <- cont
I0925 20:50:31.697373  7405 net.cpp:399] lstm2_cont_slice -> cont_1
I0925 20:50:31.697410  7405 net.cpp:141] Setting up lstm2_cont_slice
I0925 20:50:31.697420  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.697424  7405 net.cpp:156] Memory required for data: 14012
I0925 20:50:31.697429  7405 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0925 20:50:31.697443  7405 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0925 20:50:31.697448  7405 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0925 20:50:31.697455  7405 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0925 20:50:31.697466  7405 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0925 20:50:31.697520  7405 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0925 20:50:31.697530  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.697536  7405 net.cpp:148] Top shape: 1 1 (1)
I0925 20:50:31.697541  7405 net.cpp:156] Memory required for data: 14020
I0925 20:50:31.697546  7405 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0925 20:50:31.697561  7405 net.cpp:91] Creating Layer lstm2_x_transform
I0925 20:50:31.697566  7405 net.cpp:425] lstm2_x_transform <- x
I0925 20:50:31.697577  7405 net.cpp:399] lstm2_x_transform -> W_xc_x
I0925 20:50:31.710978  7401 net.cpp:141] Setting up lstm2_x_transform
I0925 20:50:31.711038  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.711045  7401 net.cpp:156] Memory required for data: 30020
I0925 20:50:31.711076  7401 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0925 20:50:31.711098  7401 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0925 20:50:31.711107  7401 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0925 20:50:31.711118  7401 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0925 20:50:31.711176  7401 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0925 20:50:31.711189  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.711194  7401 net.cpp:156] Memory required for data: 46020
I0925 20:50:31.711199  7401 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0925 20:50:31.711218  7401 net.cpp:91] Creating Layer lstm2_h_conted_0
I0925 20:50:31.711226  7401 net.cpp:425] lstm2_h_conted_0 <- h_0
I0925 20:50:31.711233  7401 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0925 20:50:31.711242  7401 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0925 20:50:31.711370  7401 net.cpp:141] Setting up lstm2_h_conted_0
I0925 20:50:31.711381  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.711387  7401 net.cpp:156] Memory required for data: 50020
I0925 20:50:31.711392  7401 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0925 20:50:31.711410  7401 net.cpp:91] Creating Layer lstm2_transform_1
I0925 20:50:31.711416  7401 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0925 20:50:31.711424  7401 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0925 20:50:31.720343  7411 net.cpp:141] Setting up fc7
I0925 20:50:31.720387  7411 net.cpp:148] Top shape: 10 4096 (40960)
I0925 20:50:31.720393  7411 net.cpp:156] Memory required for data: 68273720
I0925 20:50:31.720407  7411 layer_factory.hpp:77] Creating layer relu7
I0925 20:50:31.720422  7411 net.cpp:91] Creating Layer relu7
I0925 20:50:31.720429  7411 net.cpp:425] relu7 <- fc7
I0925 20:50:31.720443  7411 net.cpp:386] relu7 -> fc7 (in-place)
I0925 20:50:31.721098  7411 net.cpp:141] Setting up relu7
I0925 20:50:31.721112  7411 net.cpp:148] Top shape: 10 4096 (40960)
I0925 20:50:31.721118  7411 net.cpp:156] Memory required for data: 68437560
I0925 20:50:31.721123  7411 layer_factory.hpp:77] Creating layer drop7
I0925 20:50:31.721135  7411 net.cpp:91] Creating Layer drop7
I0925 20:50:31.721140  7411 net.cpp:425] drop7 <- fc7
I0925 20:50:31.721151  7411 net.cpp:386] drop7 -> fc7 (in-place)
I0925 20:50:31.721196  7411 net.cpp:141] Setting up drop7
I0925 20:50:31.721206  7411 net.cpp:148] Top shape: 10 4096 (40960)
I0925 20:50:31.721211  7411 net.cpp:156] Memory required for data: 68601400
I0925 20:50:31.721216  7411 layer_factory.hpp:77] Creating layer fc8
I0925 20:50:31.721231  7411 net.cpp:91] Creating Layer fc8
I0925 20:50:31.721236  7411 net.cpp:425] fc8 <- fc7
I0925 20:50:31.721243  7411 net.cpp:399] fc8 -> fc8
I0925 20:50:31.733837  7411 net.cpp:141] Setting up fc8
I0925 20:50:31.733881  7411 net.cpp:148] Top shape: 10 1000 (10000)
I0925 20:50:31.733887  7411 net.cpp:156] Memory required for data: 68641400
I0925 20:50:31.733902  7411 layer_factory.hpp:77] Creating layer prob
I0925 20:50:31.733922  7411 net.cpp:91] Creating Layer prob
I0925 20:50:31.733928  7411 net.cpp:425] prob <- fc8
I0925 20:50:31.733938  7411 net.cpp:399] prob -> prob
I0925 20:50:31.734406  7411 net.cpp:141] Setting up prob
I0925 20:50:31.734421  7411 net.cpp:148] Top shape: 10 1000 (10000)
I0925 20:50:31.734426  7411 net.cpp:156] Memory required for data: 68681400
I0925 20:50:31.734432  7411 net.cpp:219] prob does not need backward computation.
I0925 20:50:31.734437  7411 net.cpp:219] fc8 does not need backward computation.
I0925 20:50:31.734442  7411 net.cpp:219] drop7 does not need backward computation.
I0925 20:50:31.734447  7411 net.cpp:219] relu7 does not need backward computation.
I0925 20:50:31.734452  7411 net.cpp:219] fc7 does not need backward computation.
I0925 20:50:31.734457  7411 net.cpp:219] drop6 does not need backward computation.
I0925 20:50:31.734462  7411 net.cpp:219] relu6 does not need backward computation.
I0925 20:50:31.734467  7411 net.cpp:219] fc6 does not need backward computation.
I0925 20:50:31.734472  7411 net.cpp:219] pool5 does not need backward computation.
I0925 20:50:31.734477  7411 net.cpp:219] relu5 does not need backward computation.
I0925 20:50:31.734482  7411 net.cpp:219] conv5 does not need backward computation.
I0925 20:50:31.734485  7411 net.cpp:219] relu4 does not need backward computation.
I0925 20:50:31.734490  7411 net.cpp:219] conv4 does not need backward computation.
I0925 20:50:31.734495  7411 net.cpp:219] relu3 does not need backward computation.
I0925 20:50:31.734499  7411 net.cpp:219] conv3 does not need backward computation.
I0925 20:50:31.734504  7411 net.cpp:219] norm2 does not need backward computation.
I0925 20:50:31.734509  7411 net.cpp:219] pool2 does not need backward computation.
I0925 20:50:31.734513  7411 net.cpp:219] relu2 does not need backward computation.
I0925 20:50:31.734519  7411 net.cpp:219] conv2 does not need backward computation.
I0925 20:50:31.734524  7411 net.cpp:219] norm1 does not need backward computation.
I0925 20:50:31.734527  7411 net.cpp:219] pool1 does not need backward computation.
I0925 20:50:31.734532  7411 net.cpp:219] relu1 does not need backward computation.
I0925 20:50:31.734537  7411 net.cpp:219] conv1 does not need backward computation.
I0925 20:50:31.734542  7411 net.cpp:219] data does not need backward computation.
I0925 20:50:31.734546  7411 net.cpp:261] This network produces output prob
I0925 20:50:31.734570  7411 net.cpp:274] Network initialization done.
I0925 20:50:31.754647  7401 net.cpp:141] Setting up lstm2_transform_1
I0925 20:50:31.754684  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.754690  7401 net.cpp:156] Memory required for data: 66020
I0925 20:50:31.754709  7401 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0925 20:50:31.754732  7401 net.cpp:91] Creating Layer lstm2_gate_input_1
I0925 20:50:31.754739  7401 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0925 20:50:31.754748  7401 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0925 20:50:31.754756  7401 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0925 20:50:31.754814  7401 net.cpp:141] Setting up lstm2_gate_input_1
I0925 20:50:31.754825  7401 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.754830  7401 net.cpp:156] Memory required for data: 82020
I0925 20:50:31.754835  7401 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0925 20:50:31.754845  7401 net.cpp:91] Creating Layer lstm2_unit_1
I0925 20:50:31.754851  7401 net.cpp:425] lstm2_unit_1 <- c_0
I0925 20:50:31.754858  7401 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0925 20:50:31.754863  7401 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0925 20:50:31.754870  7401 net.cpp:399] lstm2_unit_1 -> c_1
I0925 20:50:31.754880  7401 net.cpp:399] lstm2_unit_1 -> h_1
I0925 20:50:31.754956  7401 net.cpp:141] Setting up lstm2_unit_1
I0925 20:50:31.754966  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.754972  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.754977  7401 net.cpp:156] Memory required for data: 90020
I0925 20:50:31.754982  7401 layer_factory.hpp:77] Creating layer lstm2_
I0925 20:50:31.754997  7401 net.cpp:91] Creating Layer lstm2_
I0925 20:50:31.755002  7401 net.cpp:425] lstm2_ <- c_1
I0925 20:50:31.755009  7401 net.cpp:399] lstm2_ -> c_T
I0925 20:50:31.755045  7401 net.cpp:141] Setting up lstm2_
I0925 20:50:31.755054  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.755059  7401 net.cpp:156] Memory required for data: 94020
I0925 20:50:31.755064  7401 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0925 20:50:31.755075  7401 net.cpp:91] Creating Layer lstm2_h_concat
I0925 20:50:31.755080  7401 net.cpp:425] lstm2_h_concat <- h_1
I0925 20:50:31.755094  7401 net.cpp:399] lstm2_h_concat -> h
I0925 20:50:31.755138  7401 net.cpp:141] Setting up lstm2_h_concat
I0925 20:50:31.755147  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.755152  7401 net.cpp:156] Memory required for data: 98020
I0925 20:50:31.755157  7401 layer_factory.hpp:77] Creating layer h_pseudoloss
I0925 20:50:31.755167  7401 net.cpp:91] Creating Layer h_pseudoloss
I0925 20:50:31.755172  7401 net.cpp:425] h_pseudoloss <- h
I0925 20:50:31.755179  7401 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0925 20:50:31.755281  7401 net.cpp:141] Setting up h_pseudoloss
I0925 20:50:31.755292  7401 net.cpp:148] Top shape: (1)
I0925 20:50:31.755297  7401 net.cpp:151]     with loss weight 1
I0925 20:50:31.755318  7401 net.cpp:156] Memory required for data: 98024
I0925 20:50:31.755324  7401 net.cpp:217] h_pseudoloss needs backward computation.
I0925 20:50:31.755329  7401 net.cpp:217] lstm2_h_concat needs backward computation.
I0925 20:50:31.755334  7401 net.cpp:219] lstm2_ does not need backward computation.
I0925 20:50:31.755339  7401 net.cpp:217] lstm2_unit_1 needs backward computation.
I0925 20:50:31.755345  7401 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0925 20:50:31.755350  7401 net.cpp:217] lstm2_transform_1 needs backward computation.
I0925 20:50:31.755355  7401 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0925 20:50:31.755364  7401 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0925 20:50:31.755369  7401 net.cpp:217] lstm2_x_transform needs backward computation.
I0925 20:50:31.755375  7401 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0925 20:50:31.755380  7401 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0925 20:50:31.755386  7401 net.cpp:219] lstm2_ does not need backward computation.
I0925 20:50:31.755391  7401 net.cpp:219] lstm2_ does not need backward computation.
I0925 20:50:31.755395  7401 net.cpp:261] This network produces output c_T
I0925 20:50:31.755400  7401 net.cpp:261] This network produces output h_pseudoloss
I0925 20:50:31.755415  7401 net.cpp:274] Network initialization done.
I0925 20:50:31.755470  7401 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0925 20:50:31.755476  7401 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0925 20:50:31.755481  7401 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0925 20:50:31.755604  7401 net.cpp:141] Setting up lstm2
I0925 20:50:31.755615  7401 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.755620  7401 net.cpp:156] Memory required for data: 36412
I0925 20:50:31.755635  7401 layer_factory.hpp:77] Creating layer predict
I0925 20:50:31.755650  7401 net.cpp:91] Creating Layer predict
I0925 20:50:31.755657  7401 net.cpp:425] predict <- lstm2
I0925 20:50:31.755666  7401 net.cpp:399] predict -> predict
I0925 20:50:31.843564  7405 net.cpp:141] Setting up lstm2_x_transform
I0925 20:50:31.843607  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.843614  7405 net.cpp:156] Memory required for data: 30020
I0925 20:50:31.843632  7405 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0925 20:50:31.843653  7405 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0925 20:50:31.843662  7405 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0925 20:50:31.843670  7405 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0925 20:50:31.843720  7405 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0925 20:50:31.843730  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.843735  7405 net.cpp:156] Memory required for data: 46020
I0925 20:50:31.843740  7405 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0925 20:50:31.843758  7405 net.cpp:91] Creating Layer lstm2_h_conted_0
I0925 20:50:31.843765  7405 net.cpp:425] lstm2_h_conted_0 <- h_0
I0925 20:50:31.843771  7405 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0925 20:50:31.843780  7405 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0925 20:50:31.843889  7405 net.cpp:141] Setting up lstm2_h_conted_0
I0925 20:50:31.843900  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.843905  7405 net.cpp:156] Memory required for data: 50020
I0925 20:50:31.843910  7405 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0925 20:50:31.843926  7405 net.cpp:91] Creating Layer lstm2_transform_1
I0925 20:50:31.843932  7405 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0925 20:50:31.843940  7405 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0925 20:50:31.890707  7405 net.cpp:141] Setting up lstm2_transform_1
I0925 20:50:31.890753  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.890760  7405 net.cpp:156] Memory required for data: 66020
I0925 20:50:31.890779  7405 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0925 20:50:31.890802  7405 net.cpp:91] Creating Layer lstm2_gate_input_1
I0925 20:50:31.890810  7405 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0925 20:50:31.890818  7405 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0925 20:50:31.890826  7405 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0925 20:50:31.890897  7405 net.cpp:141] Setting up lstm2_gate_input_1
I0925 20:50:31.890908  7405 net.cpp:148] Top shape: 1 1 4000 (4000)
I0925 20:50:31.890913  7405 net.cpp:156] Memory required for data: 82020
I0925 20:50:31.890918  7405 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0925 20:50:31.890928  7405 net.cpp:91] Creating Layer lstm2_unit_1
I0925 20:50:31.890933  7405 net.cpp:425] lstm2_unit_1 <- c_0
I0925 20:50:31.890939  7405 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0925 20:50:31.890945  7405 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0925 20:50:31.890952  7405 net.cpp:399] lstm2_unit_1 -> c_1
I0925 20:50:31.890961  7405 net.cpp:399] lstm2_unit_1 -> h_1
I0925 20:50:31.891041  7405 net.cpp:141] Setting up lstm2_unit_1
I0925 20:50:31.891052  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.891057  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.891062  7405 net.cpp:156] Memory required for data: 90020
I0925 20:50:31.891067  7405 layer_factory.hpp:77] Creating layer lstm2_
I0925 20:50:31.891079  7405 net.cpp:91] Creating Layer lstm2_
I0925 20:50:31.891084  7405 net.cpp:425] lstm2_ <- c_1
I0925 20:50:31.891093  7405 net.cpp:399] lstm2_ -> c_T
I0925 20:50:31.891127  7405 net.cpp:141] Setting up lstm2_
I0925 20:50:31.891136  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.891140  7405 net.cpp:156] Memory required for data: 94020
I0925 20:50:31.891145  7405 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0925 20:50:31.891155  7405 net.cpp:91] Creating Layer lstm2_h_concat
I0925 20:50:31.891160  7405 net.cpp:425] lstm2_h_concat <- h_1
I0925 20:50:31.891172  7405 net.cpp:399] lstm2_h_concat -> h
I0925 20:50:31.891212  7405 net.cpp:141] Setting up lstm2_h_concat
I0925 20:50:31.891222  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.891227  7405 net.cpp:156] Memory required for data: 98020
I0925 20:50:31.891230  7405 layer_factory.hpp:77] Creating layer h_pseudoloss
I0925 20:50:31.891242  7405 net.cpp:91] Creating Layer h_pseudoloss
I0925 20:50:31.891247  7405 net.cpp:425] h_pseudoloss <- h
I0925 20:50:31.891253  7405 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0925 20:50:31.891696  7405 net.cpp:141] Setting up h_pseudoloss
I0925 20:50:31.891717  7405 net.cpp:148] Top shape: (1)
I0925 20:50:31.891723  7405 net.cpp:151]     with loss weight 1
I0925 20:50:31.891746  7405 net.cpp:156] Memory required for data: 98024
I0925 20:50:31.891752  7405 net.cpp:217] h_pseudoloss needs backward computation.
I0925 20:50:31.891757  7405 net.cpp:217] lstm2_h_concat needs backward computation.
I0925 20:50:31.891762  7405 net.cpp:219] lstm2_ does not need backward computation.
I0925 20:50:31.891768  7405 net.cpp:217] lstm2_unit_1 needs backward computation.
I0925 20:50:31.891774  7405 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0925 20:50:31.891779  7405 net.cpp:217] lstm2_transform_1 needs backward computation.
I0925 20:50:31.891784  7405 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0925 20:50:31.891790  7405 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0925 20:50:31.891795  7405 net.cpp:217] lstm2_x_transform needs backward computation.
I0925 20:50:31.891800  7405 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0925 20:50:31.891806  7405 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0925 20:50:31.891811  7405 net.cpp:219] lstm2_ does not need backward computation.
I0925 20:50:31.891816  7405 net.cpp:219] lstm2_ does not need backward computation.
I0925 20:50:31.891820  7405 net.cpp:261] This network produces output c_T
I0925 20:50:31.891825  7405 net.cpp:261] This network produces output h_pseudoloss
I0925 20:50:31.891844  7405 net.cpp:274] Network initialization done.
I0925 20:50:31.891896  7405 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0925 20:50:31.891903  7405 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0925 20:50:31.891908  7405 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0925 20:50:31.892040  7405 net.cpp:141] Setting up lstm2
I0925 20:50:31.892052  7405 net.cpp:148] Top shape: 1 1 1000 (1000)
I0925 20:50:31.892057  7405 net.cpp:156] Memory required for data: 36412
I0925 20:50:31.892073  7405 layer_factory.hpp:77] Creating layer predict
I0925 20:50:31.892087  7405 net.cpp:91] Creating Layer predict
I0925 20:50:31.892094  7405 net.cpp:425] predict <- lstm2
I0925 20:50:31.892102  7405 net.cpp:399] predict -> predict
I0925 20:50:32.137213  7411 upgrade_proto.cpp:43] Attempting to upgrade input file specified using deprecated transformation parameters: /home/peifeng/work/run/storm102/data/workers/3f17780d-b020-4ccc-b89e-ff3c3bd57996/tmp/cvld7950095436677036273/bvlc_reference_caffenet.caffemodel
I0925 20:50:32.137261  7411 upgrade_proto.cpp:46] Successfully upgraded file specified using deprecated data transformation parameters.
W0925 20:50:32.137269  7411 upgrade_proto.cpp:48] Note that future Caffe releases will only support transform_param messages for transformation fields.
I0925 20:50:32.137274  7411 upgrade_proto.cpp:52] Attempting to upgrade input file specified using deprecated V1LayerParameter: /home/peifeng/work/run/storm102/data/workers/3f17780d-b020-4ccc-b89e-ff3c3bd57996/tmp/cvld7950095436677036273/bvlc_reference_caffenet.caffemodel
I0925 20:50:32.254895  7401 net.cpp:141] Setting up predict
I0925 20:50:32.254952  7401 net.cpp:148] Top shape: 1 1 46168 (46168)
I0925 20:50:32.254959  7401 net.cpp:156] Memory required for data: 221084
I0925 20:50:32.254976  7401 layer_factory.hpp:77] Creating layer probs
I0925 20:50:32.254998  7401 net.cpp:91] Creating Layer probs
I0925 20:50:32.255007  7401 net.cpp:425] probs <- predict
I0925 20:50:32.255018  7401 net.cpp:399] probs -> probs
I0925 20:50:32.257475  7401 net.cpp:141] Setting up probs
I0925 20:50:32.257495  7401 net.cpp:148] Top shape: 1 1 46168 (46168)
I0925 20:50:32.257501  7401 net.cpp:156] Memory required for data: 405756
I0925 20:50:32.257508  7401 net.cpp:219] probs does not need backward computation.
I0925 20:50:32.257513  7401 net.cpp:219] predict does not need backward computation.
I0925 20:50:32.257519  7401 net.cpp:219] lstm2 does not need backward computation.
I0925 20:50:32.257524  7401 net.cpp:219] concat does not need backward computation.
I0925 20:50:32.257531  7401 net.cpp:219] lstm1 does not need backward computation.
I0925 20:50:32.257539  7401 net.cpp:219] embedding does not need backward computation.
I0925 20:50:32.257544  7401 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0925 20:50:32.257550  7401 net.cpp:219] reshape_frames does not need backward computation.
I0925 20:50:32.257556  7401 net.cpp:219] embed_encoder does not need backward computation.
I0925 20:50:32.257562  7401 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0925 20:50:32.257568  7401 net.cpp:219] input does not need backward computation.
I0925 20:50:32.257573  7401 net.cpp:261] This network produces output probs
I0925 20:50:32.257594  7401 net.cpp:274] Network initialization done.
I0925 20:50:32.409301  7405 net.cpp:141] Setting up predict
I0925 20:50:32.409378  7405 net.cpp:148] Top shape: 1 1 46168 (46168)
I0925 20:50:32.409384  7405 net.cpp:156] Memory required for data: 221084
I0925 20:50:32.409438  7405 layer_factory.hpp:77] Creating layer probs
I0925 20:50:32.409474  7405 net.cpp:91] Creating Layer probs
I0925 20:50:32.409482  7405 net.cpp:425] probs <- predict
I0925 20:50:32.409502  7405 net.cpp:399] probs -> probs
I0925 20:50:32.410310  7405 net.cpp:141] Setting up probs
I0925 20:50:32.410322  7405 net.cpp:148] Top shape: 1 1 46168 (46168)
I0925 20:50:32.410327  7405 net.cpp:156] Memory required for data: 405756
I0925 20:50:32.410332  7405 net.cpp:219] probs does not need backward computation.
I0925 20:50:32.410337  7405 net.cpp:219] predict does not need backward computation.
I0925 20:50:32.410353  7405 net.cpp:219] lstm2 does not need backward computation.
I0925 20:50:32.410375  7405 net.cpp:219] concat does not need backward computation.
I0925 20:50:32.410390  7405 net.cpp:219] lstm1 does not need backward computation.
I0925 20:50:32.410396  7405 net.cpp:219] embedding does not need backward computation.
I0925 20:50:32.410401  7405 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0925 20:50:32.410406  7405 net.cpp:219] reshape_frames does not need backward computation.
I0925 20:50:32.410413  7405 net.cpp:219] embed_encoder does not need backward computation.
I0925 20:50:32.410418  7405 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0925 20:50:32.410423  7405 net.cpp:219] input does not need backward computation.
I0925 20:50:32.410428  7405 net.cpp:261] This network produces output probs
I0925 20:50:32.410445  7405 net.cpp:274] Network initialization done.
I0925 20:50:32.553658  7411 upgrade_proto.cpp:60] Successfully upgraded file specified using deprecated V1LayerParameter
I0925 20:50:32.605922  7401 net.cpp:752] Ignoring source layer data
I0925 20:50:32.605984  7401 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0925 20:50:32.605993  7401 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0925 20:50:32.611377  7411 net.cpp:752] Ignoring source layer loss
Loading the model + trained: 8032.89ms
Using cv::Size and some other stuff: 0.276ms
I0925 20:50:32.695173  7401 net.cpp:752] Ignoring source layer cross_entropy_loss
I0925 20:50:32.743599  7405 net.cpp:752] Ignoring source layer data
I0925 20:50:32.743638  7405 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0925 20:50:32.743644  7405 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0925 20:50:32.840374  7405 net.cpp:752] Ignoring source layer cross_entropy_loss
Loading the mean file: 120569ms
TIMERTIMER 418841719
TIMERTIMER 387454772
TIMERTIMER 298166050
TIMERTIMER 361977168
TIMERTIMER 318384286
TIMERTIMER 415217790
TIMERTIMER 378063203
TIMERTIMER 352783332
TIMERTIMER 379103229
TIMERTIMER 342605967
TIMERTIMER 272071944
TIMERTIMER 287435607
TIMERTIMER 209769598
TIMERTIMER 237185413
TIMERTIMER 269518759
TIMERTIMER 265746389
TIMERTIMER 238933520
TIMERTIMER 243187864
TIMERTIMER 240392745
TIMERTIMER 229034231
TIMERTIMER 238504984
TIMERTIMER 241504714
TIMERTIMER 235859210
TIMERTIMER 253674389
TIMERTIMER 216809350
TIMERTIMER 227921193
TIMERTIMER 240941370
TIMERTIMER 233774144
TIMERTIMER 220155436
TIMERTIMER 230891613
TIMERTIMER 226624032
TIMERTIMER 227669037
TIMERTIMER 229174855
TIMERTIMER 220405079
TIMERTIMER 208022028
TIMERTIMER 223696145
TIMERTIMER 228154430
TIMERTIMER 216544086
TIMERTIMER 239273151
TIMERTIMER 231385285
TIMERTIMER 234229098
TIMERTIMER 234471908
TIMERTIMER 234025286
TIMERTIMER 234999426
TIMERTIMER 237481895
TIMERTIMER 235262951
TIMERTIMER 248782442
TIMERTIMER 234286145
TIMERTIMER 239879417
TIMERTIMER 227849047
TIMERTIMER 233861081
TIMERTIMER 243396639
TIMERTIMER 227206855
TIMERTIMER 239180245
TIMERTIMER 239011335
TIMERTIMER 190119225
