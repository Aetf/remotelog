SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm/lib/log4j-slf4j-impl-2.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/peifeng/tools/storm/data/supervisor/stormdist/captioning-1-1470134451/stormjar.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]
2016-08-02 06:41:17,333 ERROR Logger contains an invalid element or attribute "appender"
2016-08-02 06:41:21,278 ERROR Logger contains an invalid element or attribute "appender"
Java HotSpot(TM) 64-Bit Server VM warning: You have loaded library /tmp/cvld1875412156590970052/libopencv_java310.xine1.so which might have disabled stack guard. The VM will try to fix the stack guard now.
It's highly recommended that you fix the library with 'execstack -c <libfile>', or link it with '-z noexecstack'.
WARNING: Logging before InitGoogleLogging() is written to STDERR
I0802 06:41:27.822976 19094 net.cpp:49] Initializing net from parameters: 
name: "CaffeNet"
state {
  phase: TEST
}
layer {
  name: "data"
  type: "Input"
  top: "data"
  input_param {
    shape {
      dim: 10
      dim: 3
      dim: 227
      dim: 227
    }
  }
}
layer {
  name: "conv1"
  type: "Convolution"
  bottom: "data"
  top: "conv1"
  convolution_param {
    num_output: 96
    kernel_size: 11
    stride: 4
  }
}
layer {
  name: "relu1"
  type: "ReLU"
  bottom: "conv1"
  top: "conv1"
}
layer {
  name: "pool1"
  type: "Pooling"
  bottom: "conv1"
  top: "pool1"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm1"
  type: "LRN"
  bottom: "pool1"
  top: "norm1"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv2"
  type: "Convolution"
  bottom: "norm1"
  top: "conv2"
  convolution_param {
    num_output: 256
    pad: 2
    kernel_size: 5
    group: 2
  }
}
layer {
  name: "relu2"
  type: "ReLU"
  bottom: "conv2"
  top: "conv2"
}
layer {
  name: "pool2"
  type: "Pooling"
  bottom: "conv2"
  top: "pool2"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm2"
  type: "LRN"
  bottom: "pool2"
  top: "norm2"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv3"
  type: "Convolution"
  bottom: "norm2"
  top: "conv3"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
  }
}
layer {
  name: "relu3"
  type: "ReLU"
  bottom: "conv3"
  top: "conv3"
}
layer {
  name: "conv4"
  type: "Convolution"
  bottom: "conv3"
  top: "conv4"
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu4"
  type: "ReLU"
  bottom: "conv4"
  top: "conv4"
}
layer {
  name: "conv5"
  type: "Convolution"
  bottom: "conv4"
  top: "conv5"
  convolution_param {
    num_output: 256
    pad: 1
    kernel_size: 3
    group: 2
  }
}
layer {
  name: "relu5"
  type: "ReLU"
  bottom: "conv5"
  top: "conv5"
}
layer {
  name: "pool5"
  type: "Pooling"
  bottom: "conv5"
  top: "pool5"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "fc6"
  type: "InnerProduct"
  bottom: "pool5"
  top: "fc6"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu6"
  type: "ReLU"
  bottom: "fc6"
  top: "fc6"
}
layer {
  name: "drop6"
  type: "Dropout"
  bottom: "fc6"
  top: "fc6"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc7"
  type: "InnerProduct"
  bottom: "fc6"
  top: "fc7"
  inner_product_param {
    num_output: 4096
  }
}
layer {
  name: "relu7"
  type: "ReLU"
  bottom: "fc7"
  top: "fc7"
}
layer {
  name: "drop7"
  type: "Dropout"
  bottom: "fc7"
  top: "fc7"
  dropout_param {
    dropout_ratio: 0.5
  }
}
layer {
  name: "fc8"
  type: "InnerProduct"
  bottom: "fc7"
  top: "fc8"
  inner_product_param {
    num_output: 1000
  }
}
layer {
  name: "prob"
  type: "Softmax"
  bottom: "fc8"
  top: "prob"
}
I0802 06:41:27.823180 19094 layer_factory.hpp:77] Creating layer data
I0802 06:41:27.823209 19094 net.cpp:91] Creating Layer data
I0802 06:41:27.823218 19094 net.cpp:399] data -> data
I0802 06:41:28.300246 19094 net.cpp:141] Setting up data
I0802 06:41:28.300348 19094 net.cpp:148] Top shape: 10 3 227 227 (1545870)
I0802 06:41:28.300356 19094 net.cpp:156] Memory required for data: 6183480
I0802 06:41:28.300375 19094 layer_factory.hpp:77] Creating layer conv1
I0802 06:41:28.300407 19094 net.cpp:91] Creating Layer conv1
I0802 06:41:28.300416 19094 net.cpp:425] conv1 <- data
I0802 06:41:28.300431 19094 net.cpp:399] conv1 -> conv1
I0802 06:41:28.457214 19084 upgrade_proto.cpp:66] Attempting to upgrade input file specified using deprecated input fields: /tmp/cvld1875412156590970052/s2vt.words_to_preds.prototxt
I0802 06:41:28.457280 19084 upgrade_proto.cpp:69] Successfully upgraded file specified using deprecated input fields.
W0802 06:41:28.457288 19084 upgrade_proto.cpp:71] Note that future Caffe releases will only support input layers and not input fields.
I0802 06:41:28.457542 19084 net.cpp:49] Initializing net from parameters: 
name: "s2vt:features_to_lstm"
state {
  phase: TEST
}
layer {
  name: "input"
  type: "Input"
  top: "frames_fc7"
  top: "cont_sentence"
  top: "input_sentence"
  top: "stage_indicator"
  input_param {
    shape {
      dim: 1
      dim: 4096
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embed_encoder"
  type: "InnerProduct"
  bottom: "frames_fc7"
  top: "embedded_in_frames"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 500
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
      value: 0.2
    }
  }
}
layer {
  name: "reshape_frames"
  type: "Reshape"
  bottom: "embedded_in_frames"
  top: "embedded_input_frames"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
  }
}
layer {
  name: "reshape_stage_indicator"
  type: "Reshape"
  bottom: "stage_indicator"
  top: "reshaped_stage_indicator"
  reshape_param {
    shape {
      dim: 1
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "embedding"
  type: "Embed"
  bottom: "input_sentence"
  top: "embedded_input_sentence"
  param {
    lr_mult: 1
  }
  embed_param {
    num_output: 500
    input_dim: 46168
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
  }
}
layer {
  name: "lstm1"
  type: "LSTM"
  bottom: "embedded_input_frames"
  bottom: "cont_sentence"
  top: "lstm1"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "concat"
  type: "Concat"
  bottom: "lstm1"
  bottom: "embedded_input_sentence"
  bottom: "reshaped_stage_indicator"
  top: "lstm1_video_sequence"
  concat_param {
    concat_dim: 2
  }
}
layer {
  name: "lstm2"
  type: "LSTM"
  bottom: "lstm1_video_sequence"
  bottom: "cont_sentence"
  top: "lstm2"
  recurrent_param {
    num_output: 1000
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "predict"
  type: "InnerProduct"
  bottom: "lstm2"
  top: "predict"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 46168
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "probs"
  type: "Softmax"
  bottom: "predict"
  top: "probs"
  softmax_param {
    axis: 2
  }
}
I0802 06:41:28.457643 19084 layer_factory.hpp:77] Creating layer input
I0802 06:41:28.457660 19084 net.cpp:91] Creating Layer input
I0802 06:41:28.457669 19084 net.cpp:399] input -> frames_fc7
I0802 06:41:28.457687 19084 net.cpp:399] input -> cont_sentence
I0802 06:41:28.457697 19084 net.cpp:399] input -> input_sentence
I0802 06:41:28.457707 19084 net.cpp:399] input -> stage_indicator
I0802 06:41:28.460160 19084 net.cpp:141] Setting up input
I0802 06:41:28.460180 19084 net.cpp:148] Top shape: 1 4096 (4096)
I0802 06:41:28.460186 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.460191 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.460197 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.460201 19084 net.cpp:156] Memory required for data: 16396
I0802 06:41:28.460206 19084 layer_factory.hpp:77] Creating layer cont_sentence_input_1_split
I0802 06:41:28.460224 19084 net.cpp:91] Creating Layer cont_sentence_input_1_split
I0802 06:41:28.460232 19084 net.cpp:425] cont_sentence_input_1_split <- cont_sentence
I0802 06:41:28.460255 19084 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_0
I0802 06:41:28.460268 19084 net.cpp:399] cont_sentence_input_1_split -> cont_sentence_input_1_split_1
I0802 06:41:28.460372 19084 net.cpp:141] Setting up cont_sentence_input_1_split
I0802 06:41:28.460391 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.460398 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.460404 19084 net.cpp:156] Memory required for data: 16404
I0802 06:41:28.460410 19084 layer_factory.hpp:77] Creating layer embed_encoder
I0802 06:41:28.460433 19084 net.cpp:91] Creating Layer embed_encoder
I0802 06:41:28.460439 19084 net.cpp:425] embed_encoder <- frames_fc7
I0802 06:41:28.460461 19084 net.cpp:399] embed_encoder -> embedded_in_frames
I0802 06:41:28.481415 19084 net.cpp:141] Setting up embed_encoder
I0802 06:41:28.481454 19084 net.cpp:148] Top shape: 1 500 (500)
I0802 06:41:28.481461 19084 net.cpp:156] Memory required for data: 18404
I0802 06:41:28.481487 19084 layer_factory.hpp:77] Creating layer reshape_frames
I0802 06:41:28.481513 19084 net.cpp:91] Creating Layer reshape_frames
I0802 06:41:28.481523 19084 net.cpp:425] reshape_frames <- embedded_in_frames
I0802 06:41:28.481534 19084 net.cpp:399] reshape_frames -> embedded_input_frames
I0802 06:41:28.485854 19084 net.cpp:141] Setting up reshape_frames
I0802 06:41:28.485877 19084 net.cpp:148] Top shape: 1 1 500 (500)
I0802 06:41:28.485882 19084 net.cpp:156] Memory required for data: 20404
I0802 06:41:28.485888 19084 layer_factory.hpp:77] Creating layer reshape_stage_indicator
I0802 06:41:28.485903 19084 net.cpp:91] Creating Layer reshape_stage_indicator
I0802 06:41:28.485908 19084 net.cpp:425] reshape_stage_indicator <- stage_indicator
I0802 06:41:28.485918 19084 net.cpp:399] reshape_stage_indicator -> reshaped_stage_indicator
I0802 06:41:28.486068 19084 net.cpp:141] Setting up reshape_stage_indicator
I0802 06:41:28.486079 19084 net.cpp:148] Top shape: 1 1 1 (1)
I0802 06:41:28.486083 19084 net.cpp:156] Memory required for data: 20408
I0802 06:41:28.486088 19084 layer_factory.hpp:77] Creating layer embedding
I0802 06:41:28.486104 19084 net.cpp:91] Creating Layer embedding
I0802 06:41:28.486109 19084 net.cpp:425] embedding <- input_sentence
I0802 06:41:28.486117 19084 net.cpp:399] embedding -> embedded_input_sentence
I0802 06:41:28.545480 19094 net.cpp:141] Setting up conv1
I0802 06:41:28.545542 19094 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0802 06:41:28.545548 19094 net.cpp:156] Memory required for data: 17799480
I0802 06:41:28.545569 19094 layer_factory.hpp:77] Creating layer relu1
I0802 06:41:28.545590 19094 net.cpp:91] Creating Layer relu1
I0802 06:41:28.545598 19094 net.cpp:425] relu1 <- conv1
I0802 06:41:28.545605 19094 net.cpp:386] relu1 -> conv1 (in-place)
I0802 06:41:28.546077 19094 net.cpp:141] Setting up relu1
I0802 06:41:28.546090 19094 net.cpp:148] Top shape: 10 96 55 55 (2904000)
I0802 06:41:28.546095 19094 net.cpp:156] Memory required for data: 29415480
I0802 06:41:28.546100 19094 layer_factory.hpp:77] Creating layer pool1
I0802 06:41:28.546116 19094 net.cpp:91] Creating Layer pool1
I0802 06:41:28.546121 19094 net.cpp:425] pool1 <- conv1
I0802 06:41:28.546129 19094 net.cpp:399] pool1 -> pool1
I0802 06:41:28.546201 19094 net.cpp:141] Setting up pool1
I0802 06:41:28.546212 19094 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0802 06:41:28.546216 19094 net.cpp:156] Memory required for data: 32214840
I0802 06:41:28.546221 19094 layer_factory.hpp:77] Creating layer norm1
I0802 06:41:28.546239 19094 net.cpp:91] Creating Layer norm1
I0802 06:41:28.546244 19094 net.cpp:425] norm1 <- pool1
I0802 06:41:28.546250 19094 net.cpp:399] norm1 -> norm1
I0802 06:41:28.546730 19094 net.cpp:141] Setting up norm1
I0802 06:41:28.546744 19094 net.cpp:148] Top shape: 10 96 27 27 (699840)
I0802 06:41:28.546749 19094 net.cpp:156] Memory required for data: 35014200
I0802 06:41:28.546754 19094 layer_factory.hpp:77] Creating layer conv2
I0802 06:41:28.546767 19094 net.cpp:91] Creating Layer conv2
I0802 06:41:28.546772 19094 net.cpp:425] conv2 <- norm1
I0802 06:41:28.546784 19094 net.cpp:399] conv2 -> conv2
I0802 06:41:28.550056 19094 net.cpp:141] Setting up conv2
I0802 06:41:28.550076 19094 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0802 06:41:28.550081 19094 net.cpp:156] Memory required for data: 42479160
I0802 06:41:28.550092 19094 layer_factory.hpp:77] Creating layer relu2
I0802 06:41:28.550106 19094 net.cpp:91] Creating Layer relu2
I0802 06:41:28.550110 19094 net.cpp:425] relu2 <- conv2
I0802 06:41:28.550117 19094 net.cpp:386] relu2 -> conv2 (in-place)
I0802 06:41:28.550557 19094 net.cpp:141] Setting up relu2
I0802 06:41:28.550570 19094 net.cpp:148] Top shape: 10 256 27 27 (1866240)
I0802 06:41:28.550575 19094 net.cpp:156] Memory required for data: 49944120
I0802 06:41:28.550580 19094 layer_factory.hpp:77] Creating layer pool2
I0802 06:41:28.550588 19094 net.cpp:91] Creating Layer pool2
I0802 06:41:28.550593 19094 net.cpp:425] pool2 <- conv2
I0802 06:41:28.550602 19094 net.cpp:399] pool2 -> pool2
I0802 06:41:28.550654 19094 net.cpp:141] Setting up pool2
I0802 06:41:28.550667 19094 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0802 06:41:28.550670 19094 net.cpp:156] Memory required for data: 51674680
I0802 06:41:28.550675 19094 layer_factory.hpp:77] Creating layer norm2
I0802 06:41:28.550683 19094 net.cpp:91] Creating Layer norm2
I0802 06:41:28.550688 19094 net.cpp:425] norm2 <- pool2
I0802 06:41:28.550698 19094 net.cpp:399] norm2 -> norm2
I0802 06:41:28.550941 19094 net.cpp:141] Setting up norm2
I0802 06:41:28.550952 19094 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0802 06:41:28.550957 19094 net.cpp:156] Memory required for data: 53405240
I0802 06:41:28.550962 19094 layer_factory.hpp:77] Creating layer conv3
I0802 06:41:28.550974 19094 net.cpp:91] Creating Layer conv3
I0802 06:41:28.550979 19094 net.cpp:425] conv3 <- norm2
I0802 06:41:28.550989 19094 net.cpp:399] conv3 -> conv3
I0802 06:41:28.554618 19094 net.cpp:141] Setting up conv3
I0802 06:41:28.554649 19094 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0802 06:41:28.554654 19094 net.cpp:156] Memory required for data: 56001080
I0802 06:41:28.554666 19094 layer_factory.hpp:77] Creating layer relu3
I0802 06:41:28.554682 19094 net.cpp:91] Creating Layer relu3
I0802 06:41:28.554687 19094 net.cpp:425] relu3 <- conv3
I0802 06:41:28.554693 19094 net.cpp:386] relu3 -> conv3 (in-place)
I0802 06:41:28.555124 19094 net.cpp:141] Setting up relu3
I0802 06:41:28.555136 19094 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0802 06:41:28.555141 19094 net.cpp:156] Memory required for data: 58596920
I0802 06:41:28.555146 19094 layer_factory.hpp:77] Creating layer conv4
I0802 06:41:28.555160 19094 net.cpp:91] Creating Layer conv4
I0802 06:41:28.555167 19094 net.cpp:425] conv4 <- conv3
I0802 06:41:28.555174 19094 net.cpp:399] conv4 -> conv4
I0802 06:41:28.559195 19094 net.cpp:141] Setting up conv4
I0802 06:41:28.559213 19094 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0802 06:41:28.559218 19094 net.cpp:156] Memory required for data: 61192760
I0802 06:41:28.559227 19094 layer_factory.hpp:77] Creating layer relu4
I0802 06:41:28.559237 19094 net.cpp:91] Creating Layer relu4
I0802 06:41:28.559242 19094 net.cpp:425] relu4 <- conv4
I0802 06:41:28.559248 19094 net.cpp:386] relu4 -> conv4 (in-place)
I0802 06:41:28.559685 19094 net.cpp:141] Setting up relu4
I0802 06:41:28.559698 19094 net.cpp:148] Top shape: 10 384 13 13 (648960)
I0802 06:41:28.559703 19094 net.cpp:156] Memory required for data: 63788600
I0802 06:41:28.559708 19094 layer_factory.hpp:77] Creating layer conv5
I0802 06:41:28.559722 19094 net.cpp:91] Creating Layer conv5
I0802 06:41:28.559728 19094 net.cpp:425] conv5 <- conv4
I0802 06:41:28.559736 19094 net.cpp:399] conv5 -> conv5
I0802 06:41:28.563601 19094 net.cpp:141] Setting up conv5
I0802 06:41:28.563619 19094 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0802 06:41:28.563624 19094 net.cpp:156] Memory required for data: 65519160
I0802 06:41:28.563648 19094 layer_factory.hpp:77] Creating layer relu5
I0802 06:41:28.563658 19094 net.cpp:91] Creating Layer relu5
I0802 06:41:28.563663 19094 net.cpp:425] relu5 <- conv5
I0802 06:41:28.563669 19094 net.cpp:386] relu5 -> conv5 (in-place)
I0802 06:41:28.564139 19094 net.cpp:141] Setting up relu5
I0802 06:41:28.564152 19094 net.cpp:148] Top shape: 10 256 13 13 (432640)
I0802 06:41:28.564157 19094 net.cpp:156] Memory required for data: 67249720
I0802 06:41:28.564162 19094 layer_factory.hpp:77] Creating layer pool5
I0802 06:41:28.564172 19094 net.cpp:91] Creating Layer pool5
I0802 06:41:28.564177 19094 net.cpp:425] pool5 <- conv5
I0802 06:41:28.564187 19094 net.cpp:399] pool5 -> pool5
I0802 06:41:28.564244 19094 net.cpp:141] Setting up pool5
I0802 06:41:28.564252 19094 net.cpp:148] Top shape: 10 256 6 6 (92160)
I0802 06:41:28.564256 19094 net.cpp:156] Memory required for data: 67618360
I0802 06:41:28.564261 19094 layer_factory.hpp:77] Creating layer fc6
I0802 06:41:28.564280 19094 net.cpp:91] Creating Layer fc6
I0802 06:41:28.564285 19094 net.cpp:425] fc6 <- pool5
I0802 06:41:28.564294 19094 net.cpp:399] fc6 -> fc6
I0802 06:41:28.662942 19094 net.cpp:141] Setting up fc6
I0802 06:41:28.662992 19094 net.cpp:148] Top shape: 10 4096 (40960)
I0802 06:41:28.663003 19094 net.cpp:156] Memory required for data: 67782200
I0802 06:41:28.663019 19094 layer_factory.hpp:77] Creating layer relu6
I0802 06:41:28.663041 19094 net.cpp:91] Creating Layer relu6
I0802 06:41:28.663048 19094 net.cpp:425] relu6 <- fc6
I0802 06:41:28.663058 19094 net.cpp:386] relu6 -> fc6 (in-place)
I0802 06:41:28.663399 19094 net.cpp:141] Setting up relu6
I0802 06:41:28.663413 19094 net.cpp:148] Top shape: 10 4096 (40960)
I0802 06:41:28.663417 19094 net.cpp:156] Memory required for data: 67946040
I0802 06:41:28.663422 19094 layer_factory.hpp:77] Creating layer drop6
I0802 06:41:28.663452 19094 net.cpp:91] Creating Layer drop6
I0802 06:41:28.663457 19094 net.cpp:425] drop6 <- fc6
I0802 06:41:28.663468 19094 net.cpp:386] drop6 -> fc6 (in-place)
I0802 06:41:28.663518 19094 net.cpp:141] Setting up drop6
I0802 06:41:28.663527 19094 net.cpp:148] Top shape: 10 4096 (40960)
I0802 06:41:28.663530 19094 net.cpp:156] Memory required for data: 68109880
I0802 06:41:28.663535 19094 layer_factory.hpp:77] Creating layer fc7
I0802 06:41:28.663548 19094 net.cpp:91] Creating Layer fc7
I0802 06:41:28.663553 19094 net.cpp:425] fc7 <- fc6
I0802 06:41:28.663560 19094 net.cpp:399] fc7 -> fc7
I0802 06:41:28.698982 19084 net.cpp:141] Setting up embedding
I0802 06:41:28.699035 19084 net.cpp:148] Top shape: 1 1 500 (500)
I0802 06:41:28.699041 19084 net.cpp:156] Memory required for data: 22408
I0802 06:41:28.699060 19084 layer_factory.hpp:77] Creating layer lstm1
I0802 06:41:28.699084 19084 net.cpp:91] Creating Layer lstm1
I0802 06:41:28.699092 19084 net.cpp:425] lstm1 <- embedded_input_frames
I0802 06:41:28.699101 19084 net.cpp:425] lstm1 <- cont_sentence_input_1_split_0
I0802 06:41:28.699180 19084 net.cpp:399] lstm1 -> lstm1
I0802 06:41:28.699265 19084 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0802 06:41:28.699822 19084 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm1_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 500
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm1_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm1_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm1_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm1_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm1_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm1_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm1_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm1_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm1_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0802 06:41:28.699930 19084 layer_factory.hpp:77] Creating layer lstm1_
I0802 06:41:28.699946 19084 net.cpp:91] Creating Layer lstm1_
I0802 06:41:28.699954 19084 net.cpp:399] lstm1_ -> x
I0802 06:41:28.699966 19084 net.cpp:399] lstm1_ -> cont
I0802 06:41:28.700103 19084 net.cpp:141] Setting up lstm1_
I0802 06:41:28.700116 19084 net.cpp:148] Top shape: 1 1 500 (500)
I0802 06:41:28.700122 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.700126 19084 net.cpp:156] Memory required for data: 2004
I0802 06:41:28.700131 19084 layer_factory.hpp:77] Creating layer lstm1_
I0802 06:41:28.700140 19084 net.cpp:91] Creating Layer lstm1_
I0802 06:41:28.700148 19084 net.cpp:399] lstm1_ -> c_0
I0802 06:41:28.700158 19084 net.cpp:399] lstm1_ -> h_0
I0802 06:41:28.700217 19084 net.cpp:141] Setting up lstm1_
I0802 06:41:28.700225 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.700232 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.700235 19084 net.cpp:156] Memory required for data: 10004
I0802 06:41:28.700240 19084 layer_factory.hpp:77] Creating layer lstm1_cont_slice
I0802 06:41:28.700249 19084 net.cpp:91] Creating Layer lstm1_cont_slice
I0802 06:41:28.700254 19084 net.cpp:425] lstm1_cont_slice <- cont
I0802 06:41:28.700261 19084 net.cpp:399] lstm1_cont_slice -> cont_1
I0802 06:41:28.700299 19084 net.cpp:141] Setting up lstm1_cont_slice
I0802 06:41:28.700307 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.700311 19084 net.cpp:156] Memory required for data: 10008
I0802 06:41:28.700316 19084 layer_factory.hpp:77] Creating layer cont_1_lstm1_cont_slice_0_split
I0802 06:41:28.700325 19084 net.cpp:91] Creating Layer cont_1_lstm1_cont_slice_0_split
I0802 06:41:28.700330 19084 net.cpp:425] cont_1_lstm1_cont_slice_0_split <- cont_1
I0802 06:41:28.700337 19084 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_0
I0802 06:41:28.700345 19084 net.cpp:399] cont_1_lstm1_cont_slice_0_split -> cont_1_lstm1_cont_slice_0_split_1
I0802 06:41:28.700392 19084 net.cpp:141] Setting up cont_1_lstm1_cont_slice_0_split
I0802 06:41:28.700400 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.700405 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.700409 19084 net.cpp:156] Memory required for data: 10016
I0802 06:41:28.700414 19084 layer_factory.hpp:77] Creating layer lstm1_x_transform
I0802 06:41:28.700423 19084 net.cpp:91] Creating Layer lstm1_x_transform
I0802 06:41:28.700428 19084 net.cpp:425] lstm1_x_transform <- x
I0802 06:41:28.700438 19084 net.cpp:399] lstm1_x_transform -> W_xc_x
I0802 06:41:28.714403 19094 net.cpp:141] Setting up fc7
I0802 06:41:28.714437 19094 net.cpp:148] Top shape: 10 4096 (40960)
I0802 06:41:28.714442 19094 net.cpp:156] Memory required for data: 68273720
I0802 06:41:28.714454 19094 layer_factory.hpp:77] Creating layer relu7
I0802 06:41:28.714473 19094 net.cpp:91] Creating Layer relu7
I0802 06:41:28.714479 19094 net.cpp:425] relu7 <- fc7
I0802 06:41:28.714488 19094 net.cpp:386] relu7 -> fc7 (in-place)
I0802 06:41:28.715241 19094 net.cpp:141] Setting up relu7
I0802 06:41:28.715255 19094 net.cpp:148] Top shape: 10 4096 (40960)
I0802 06:41:28.715260 19094 net.cpp:156] Memory required for data: 68437560
I0802 06:41:28.715265 19094 layer_factory.hpp:77] Creating layer drop7
I0802 06:41:28.715279 19094 net.cpp:91] Creating Layer drop7
I0802 06:41:28.715286 19094 net.cpp:425] drop7 <- fc7
I0802 06:41:28.715291 19094 net.cpp:386] drop7 -> fc7 (in-place)
I0802 06:41:28.715332 19094 net.cpp:141] Setting up drop7
I0802 06:41:28.715342 19094 net.cpp:148] Top shape: 10 4096 (40960)
I0802 06:41:28.715345 19094 net.cpp:156] Memory required for data: 68601400
I0802 06:41:28.715350 19094 layer_factory.hpp:77] Creating layer fc8
I0802 06:41:28.715360 19094 net.cpp:91] Creating Layer fc8
I0802 06:41:28.715365 19094 net.cpp:425] fc8 <- fc7
I0802 06:41:28.715375 19094 net.cpp:399] fc8 -> fc8
I0802 06:41:28.722857 19084 net.cpp:141] Setting up lstm1_x_transform
I0802 06:41:28.722887 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.722892 19084 net.cpp:156] Memory required for data: 26016
I0802 06:41:28.722906 19084 layer_factory.hpp:77] Creating layer lstm1_W_xc_x_slice
I0802 06:41:28.722915 19084 net.cpp:91] Creating Layer lstm1_W_xc_x_slice
I0802 06:41:28.722920 19084 net.cpp:425] lstm1_W_xc_x_slice <- W_xc_x
I0802 06:41:28.722929 19084 net.cpp:399] lstm1_W_xc_x_slice -> W_xc_x_1
I0802 06:41:28.722966 19084 net.cpp:141] Setting up lstm1_W_xc_x_slice
I0802 06:41:28.722976 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.722980 19084 net.cpp:156] Memory required for data: 42016
I0802 06:41:28.722985 19084 layer_factory.hpp:77] Creating layer lstm1_h_conted_0
I0802 06:41:28.722993 19084 net.cpp:91] Creating Layer lstm1_h_conted_0
I0802 06:41:28.722997 19084 net.cpp:425] lstm1_h_conted_0 <- h_0
I0802 06:41:28.723003 19084 net.cpp:425] lstm1_h_conted_0 <- cont_1_lstm1_cont_slice_0_split_0
I0802 06:41:28.723009 19084 net.cpp:399] lstm1_h_conted_0 -> h_conted_0
I0802 06:41:28.723091 19084 net.cpp:141] Setting up lstm1_h_conted_0
I0802 06:41:28.723100 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.723104 19084 net.cpp:156] Memory required for data: 46016
I0802 06:41:28.723109 19084 layer_factory.hpp:77] Creating layer lstm1_transform_1
I0802 06:41:28.723117 19084 net.cpp:91] Creating Layer lstm1_transform_1
I0802 06:41:28.723122 19084 net.cpp:425] lstm1_transform_1 <- h_conted_0
I0802 06:41:28.723130 19084 net.cpp:399] lstm1_transform_1 -> W_hc_h_0
I0802 06:41:28.730490 19094 net.cpp:141] Setting up fc8
I0802 06:41:28.730545 19094 net.cpp:148] Top shape: 10 1000 (10000)
I0802 06:41:28.730551 19094 net.cpp:156] Memory required for data: 68641400
I0802 06:41:28.730568 19094 layer_factory.hpp:77] Creating layer prob
I0802 06:41:28.730584 19094 net.cpp:91] Creating Layer prob
I0802 06:41:28.730592 19094 net.cpp:425] prob <- fc8
I0802 06:41:28.730600 19094 net.cpp:399] prob -> prob
I0802 06:41:28.731052 19094 net.cpp:141] Setting up prob
I0802 06:41:28.731066 19094 net.cpp:148] Top shape: 10 1000 (10000)
I0802 06:41:28.731071 19094 net.cpp:156] Memory required for data: 68681400
I0802 06:41:28.731076 19094 net.cpp:219] prob does not need backward computation.
I0802 06:41:28.731081 19094 net.cpp:219] fc8 does not need backward computation.
I0802 06:41:28.731088 19094 net.cpp:219] drop7 does not need backward computation.
I0802 06:41:28.731092 19094 net.cpp:219] relu7 does not need backward computation.
I0802 06:41:28.731097 19094 net.cpp:219] fc7 does not need backward computation.
I0802 06:41:28.731101 19094 net.cpp:219] drop6 does not need backward computation.
I0802 06:41:28.731106 19094 net.cpp:219] relu6 does not need backward computation.
I0802 06:41:28.731111 19094 net.cpp:219] fc6 does not need backward computation.
I0802 06:41:28.731115 19094 net.cpp:219] pool5 does not need backward computation.
I0802 06:41:28.731119 19094 net.cpp:219] relu5 does not need backward computation.
I0802 06:41:28.731124 19094 net.cpp:219] conv5 does not need backward computation.
I0802 06:41:28.731128 19094 net.cpp:219] relu4 does not need backward computation.
I0802 06:41:28.731132 19094 net.cpp:219] conv4 does not need backward computation.
I0802 06:41:28.731137 19094 net.cpp:219] relu3 does not need backward computation.
I0802 06:41:28.731142 19094 net.cpp:219] conv3 does not need backward computation.
I0802 06:41:28.731147 19094 net.cpp:219] norm2 does not need backward computation.
I0802 06:41:28.731150 19094 net.cpp:219] pool2 does not need backward computation.
I0802 06:41:28.731154 19094 net.cpp:219] relu2 does not need backward computation.
I0802 06:41:28.731158 19094 net.cpp:219] conv2 does not need backward computation.
I0802 06:41:28.731163 19094 net.cpp:219] norm1 does not need backward computation.
I0802 06:41:28.731168 19094 net.cpp:219] pool1 does not need backward computation.
I0802 06:41:28.731171 19094 net.cpp:219] relu1 does not need backward computation.
I0802 06:41:28.731175 19094 net.cpp:219] conv1 does not need backward computation.
I0802 06:41:28.731180 19094 net.cpp:219] data does not need backward computation.
I0802 06:41:28.731184 19094 net.cpp:261] This network produces output prob
I0802 06:41:28.731204 19094 net.cpp:274] Network initialization done.
I0802 06:41:28.759248 19084 net.cpp:141] Setting up lstm1_transform_1
I0802 06:41:28.759310 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.759318 19084 net.cpp:156] Memory required for data: 62016
I0802 06:41:28.759340 19084 layer_factory.hpp:77] Creating layer lstm1_gate_input_1
I0802 06:41:28.759362 19084 net.cpp:91] Creating Layer lstm1_gate_input_1
I0802 06:41:28.759371 19084 net.cpp:425] lstm1_gate_input_1 <- W_hc_h_0
I0802 06:41:28.759379 19084 net.cpp:425] lstm1_gate_input_1 <- W_xc_x_1
I0802 06:41:28.759387 19084 net.cpp:399] lstm1_gate_input_1 -> gate_input_1
I0802 06:41:28.759443 19084 net.cpp:141] Setting up lstm1_gate_input_1
I0802 06:41:28.759452 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.759456 19084 net.cpp:156] Memory required for data: 78016
I0802 06:41:28.759461 19084 layer_factory.hpp:77] Creating layer lstm1_unit_1
I0802 06:41:28.759469 19084 net.cpp:91] Creating Layer lstm1_unit_1
I0802 06:41:28.759477 19084 net.cpp:425] lstm1_unit_1 <- c_0
I0802 06:41:28.759482 19084 net.cpp:425] lstm1_unit_1 <- gate_input_1
I0802 06:41:28.759488 19084 net.cpp:425] lstm1_unit_1 <- cont_1_lstm1_cont_slice_0_split_1
I0802 06:41:28.759495 19084 net.cpp:399] lstm1_unit_1 -> c_1
I0802 06:41:28.759502 19084 net.cpp:399] lstm1_unit_1 -> h_1
I0802 06:41:28.759562 19084 net.cpp:141] Setting up lstm1_unit_1
I0802 06:41:28.759572 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.759577 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.759580 19084 net.cpp:156] Memory required for data: 86016
I0802 06:41:28.759585 19084 layer_factory.hpp:77] Creating layer lstm1_
I0802 06:41:28.759595 19084 net.cpp:91] Creating Layer lstm1_
I0802 06:41:28.759600 19084 net.cpp:425] lstm1_ <- c_1
I0802 06:41:28.759606 19084 net.cpp:399] lstm1_ -> c_T
I0802 06:41:28.759636 19084 net.cpp:141] Setting up lstm1_
I0802 06:41:28.759644 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.759649 19084 net.cpp:156] Memory required for data: 90016
I0802 06:41:28.759652 19084 layer_factory.hpp:77] Creating layer lstm1_h_concat
I0802 06:41:28.759661 19084 net.cpp:91] Creating Layer lstm1_h_concat
I0802 06:41:28.759666 19084 net.cpp:425] lstm1_h_concat <- h_1
I0802 06:41:28.759675 19084 net.cpp:399] lstm1_h_concat -> h
I0802 06:41:28.759723 19084 net.cpp:141] Setting up lstm1_h_concat
I0802 06:41:28.759732 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.759737 19084 net.cpp:156] Memory required for data: 94016
I0802 06:41:28.759740 19084 layer_factory.hpp:77] Creating layer h_pseudoloss
I0802 06:41:28.759765 19084 net.cpp:91] Creating Layer h_pseudoloss
I0802 06:41:28.759770 19084 net.cpp:425] h_pseudoloss <- h
I0802 06:41:28.759776 19084 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0802 06:41:28.759862 19084 net.cpp:141] Setting up h_pseudoloss
I0802 06:41:28.759871 19084 net.cpp:148] Top shape: (1)
I0802 06:41:28.759876 19084 net.cpp:151]     with loss weight 1
I0802 06:41:28.759917 19084 net.cpp:156] Memory required for data: 94020
I0802 06:41:28.759922 19084 net.cpp:217] h_pseudoloss needs backward computation.
I0802 06:41:28.759925 19084 net.cpp:217] lstm1_h_concat needs backward computation.
I0802 06:41:28.759929 19084 net.cpp:219] lstm1_ does not need backward computation.
I0802 06:41:28.759934 19084 net.cpp:217] lstm1_unit_1 needs backward computation.
I0802 06:41:28.759939 19084 net.cpp:217] lstm1_gate_input_1 needs backward computation.
I0802 06:41:28.759943 19084 net.cpp:217] lstm1_transform_1 needs backward computation.
I0802 06:41:28.759948 19084 net.cpp:219] lstm1_h_conted_0 does not need backward computation.
I0802 06:41:28.759956 19084 net.cpp:217] lstm1_W_xc_x_slice needs backward computation.
I0802 06:41:28.759961 19084 net.cpp:217] lstm1_x_transform needs backward computation.
I0802 06:41:28.759965 19084 net.cpp:219] cont_1_lstm1_cont_slice_0_split does not need backward computation.
I0802 06:41:28.759970 19084 net.cpp:219] lstm1_cont_slice does not need backward computation.
I0802 06:41:28.759975 19084 net.cpp:219] lstm1_ does not need backward computation.
I0802 06:41:28.759979 19084 net.cpp:219] lstm1_ does not need backward computation.
I0802 06:41:28.759982 19084 net.cpp:261] This network produces output c_T
I0802 06:41:28.759987 19084 net.cpp:261] This network produces output h_pseudoloss
I0802 06:41:28.760000 19084 net.cpp:274] Network initialization done.
I0802 06:41:28.760061 19084 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0802 06:41:28.760068 19084 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0802 06:41:28.760072 19084 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0802 06:41:28.760179 19084 net.cpp:141] Setting up lstm1
I0802 06:41:28.760190 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.760195 19084 net.cpp:156] Memory required for data: 26408
I0802 06:41:28.760207 19084 layer_factory.hpp:77] Creating layer concat
I0802 06:41:28.760216 19084 net.cpp:91] Creating Layer concat
I0802 06:41:28.760221 19084 net.cpp:425] concat <- lstm1
I0802 06:41:28.760228 19084 net.cpp:425] concat <- embedded_input_sentence
I0802 06:41:28.760233 19084 net.cpp:425] concat <- reshaped_stage_indicator
I0802 06:41:28.760239 19084 net.cpp:399] concat -> lstm1_video_sequence
I0802 06:41:28.760272 19084 net.cpp:141] Setting up concat
I0802 06:41:28.760279 19084 net.cpp:148] Top shape: 1 1 1501 (1501)
I0802 06:41:28.760283 19084 net.cpp:156] Memory required for data: 32412
I0802 06:41:28.760288 19084 layer_factory.hpp:77] Creating layer lstm2
I0802 06:41:28.760300 19084 net.cpp:91] Creating Layer lstm2
I0802 06:41:28.760305 19084 net.cpp:425] lstm2 <- lstm1_video_sequence
I0802 06:41:28.760310 19084 net.cpp:425] lstm2 <- cont_sentence_input_1_split_1
I0802 06:41:28.760318 19084 net.cpp:399] lstm2 -> lstm2
I0802 06:41:28.760327 19084 recurrent_layer.cpp:20] Initializing recurrent layer: assuming input batch contains 1 timesteps of 1 independent streams.
I0802 06:41:28.760576 19084 net.cpp:49] Initializing net from parameters: 
layer {
  name: "lstm2_"
  type: "Input"
  top: "x"
  top: "cont"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1501
    }
    shape {
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "lstm2_"
  type: "Input"
  top: "c_0"
  top: "h_0"
  input_param {
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
    shape {
      dim: 1
      dim: 1
      dim: 1000
    }
  }
}
layer {
  name: "lstm2_cont_slice"
  type: "Slice"
  bottom: "cont"
  top: "cont_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_x_transform"
  type: "InnerProduct"
  bottom: "x"
  top: "W_xc_x"
  param {
    name: "W_xc"
  }
  param {
    name: "b_c"
  }
  propagate_down: true
  inner_product_param {
    num_output: 4000
    bias_term: true
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    axis: 2
  }
}
layer {
  name: "lstm2_W_xc_x_slice"
  type: "Slice"
  bottom: "W_xc_x"
  top: "W_xc_x_1"
  slice_param {
    axis: 0
  }
}
layer {
  name: "lstm2_h_conted_0"
  type: "Scale"
  bottom: "h_0"
  bottom: "cont_1"
  top: "h_conted_0"
  scale_param {
    axis: 0
  }
}
layer {
  name: "lstm2_transform_1"
  type: "InnerProduct"
  bottom: "h_conted_0"
  top: "W_hc_h_0"
  param {
    name: "W_hc"
  }
  inner_product_param {
    num_output: 4000
    bias_term: false
    weight_filler {
      type: "uniform"
      min: -0.08
      max: 0.08
    }
    axis: 2
  }
}
layer {
  name: "lstm2_gate_input_1"
  type: "Eltwise"
  bottom: "W_hc_h_0"
  bottom: "W_xc_x_1"
  top: "gate_input_1"
  eltwise_param {
    operation: SUM
  }
}
layer {
  name: "lstm2_unit_1"
  type: "LSTMUnit"
  bottom: "c_0"
  bottom: "gate_input_1"
  bottom: "cont_1"
  top: "c_1"
  top: "h_1"
}
layer {
  name: "lstm2_"
  type: "Split"
  bottom: "c_1"
  top: "c_T"
}
layer {
  name: "lstm2_h_concat"
  type: "Concat"
  bottom: "h_1"
  top: "h"
  concat_param {
    axis: 0
  }
}
layer {
  name: "h_pseudoloss"
  type: "Reduction"
  bottom: "h"
  top: "h_pseudoloss"
  loss_weight: 1
}
I0802 06:41:28.760661 19084 layer_factory.hpp:77] Creating layer lstm2_
I0802 06:41:28.760673 19084 net.cpp:91] Creating Layer lstm2_
I0802 06:41:28.760679 19084 net.cpp:399] lstm2_ -> x
I0802 06:41:28.760689 19084 net.cpp:399] lstm2_ -> cont
I0802 06:41:28.760745 19084 net.cpp:141] Setting up lstm2_
I0802 06:41:28.760753 19084 net.cpp:148] Top shape: 1 1 1501 (1501)
I0802 06:41:28.760759 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.760763 19084 net.cpp:156] Memory required for data: 6008
I0802 06:41:28.760767 19084 layer_factory.hpp:77] Creating layer lstm2_
I0802 06:41:28.760776 19084 net.cpp:91] Creating Layer lstm2_
I0802 06:41:28.760787 19084 net.cpp:399] lstm2_ -> c_0
I0802 06:41:28.760797 19084 net.cpp:399] lstm2_ -> h_0
I0802 06:41:28.760843 19084 net.cpp:141] Setting up lstm2_
I0802 06:41:28.760851 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.760856 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.760860 19084 net.cpp:156] Memory required for data: 14008
I0802 06:41:28.760864 19084 layer_factory.hpp:77] Creating layer lstm2_cont_slice
I0802 06:41:28.760872 19084 net.cpp:91] Creating Layer lstm2_cont_slice
I0802 06:41:28.760877 19084 net.cpp:425] lstm2_cont_slice <- cont
I0802 06:41:28.760886 19084 net.cpp:399] lstm2_cont_slice -> cont_1
I0802 06:41:28.760917 19084 net.cpp:141] Setting up lstm2_cont_slice
I0802 06:41:28.760928 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.760932 19084 net.cpp:156] Memory required for data: 14012
I0802 06:41:28.760937 19084 layer_factory.hpp:77] Creating layer cont_1_lstm2_cont_slice_0_split
I0802 06:41:28.760943 19084 net.cpp:91] Creating Layer cont_1_lstm2_cont_slice_0_split
I0802 06:41:28.760947 19084 net.cpp:425] cont_1_lstm2_cont_slice_0_split <- cont_1
I0802 06:41:28.760953 19084 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_0
I0802 06:41:28.760962 19084 net.cpp:399] cont_1_lstm2_cont_slice_0_split -> cont_1_lstm2_cont_slice_0_split_1
I0802 06:41:28.761006 19084 net.cpp:141] Setting up cont_1_lstm2_cont_slice_0_split
I0802 06:41:28.761014 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.761019 19084 net.cpp:148] Top shape: 1 1 (1)
I0802 06:41:28.761023 19084 net.cpp:156] Memory required for data: 14020
I0802 06:41:28.761028 19084 layer_factory.hpp:77] Creating layer lstm2_x_transform
I0802 06:41:28.761039 19084 net.cpp:91] Creating Layer lstm2_x_transform
I0802 06:41:28.761044 19084 net.cpp:425] lstm2_x_transform <- x
I0802 06:41:28.761051 19084 net.cpp:399] lstm2_x_transform -> W_xc_x
I0802 06:41:28.816718 19084 net.cpp:141] Setting up lstm2_x_transform
I0802 06:41:28.816776 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.816781 19084 net.cpp:156] Memory required for data: 30020
I0802 06:41:28.816804 19084 layer_factory.hpp:77] Creating layer lstm2_W_xc_x_slice
I0802 06:41:28.816820 19084 net.cpp:91] Creating Layer lstm2_W_xc_x_slice
I0802 06:41:28.816828 19084 net.cpp:425] lstm2_W_xc_x_slice <- W_xc_x
I0802 06:41:28.816841 19084 net.cpp:399] lstm2_W_xc_x_slice -> W_xc_x_1
I0802 06:41:28.816885 19084 net.cpp:141] Setting up lstm2_W_xc_x_slice
I0802 06:41:28.816895 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.816900 19084 net.cpp:156] Memory required for data: 46020
I0802 06:41:28.816905 19084 layer_factory.hpp:77] Creating layer lstm2_h_conted_0
I0802 06:41:28.816915 19084 net.cpp:91] Creating Layer lstm2_h_conted_0
I0802 06:41:28.816920 19084 net.cpp:425] lstm2_h_conted_0 <- h_0
I0802 06:41:28.816926 19084 net.cpp:425] lstm2_h_conted_0 <- cont_1_lstm2_cont_slice_0_split_0
I0802 06:41:28.816936 19084 net.cpp:399] lstm2_h_conted_0 -> h_conted_0
I0802 06:41:28.817023 19084 net.cpp:141] Setting up lstm2_h_conted_0
I0802 06:41:28.817030 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.817041 19084 net.cpp:156] Memory required for data: 50020
I0802 06:41:28.817045 19084 layer_factory.hpp:77] Creating layer lstm2_transform_1
I0802 06:41:28.817061 19084 net.cpp:91] Creating Layer lstm2_transform_1
I0802 06:41:28.817066 19084 net.cpp:425] lstm2_transform_1 <- h_conted_0
I0802 06:41:28.817075 19084 net.cpp:399] lstm2_transform_1 -> W_hc_h_0
I0802 06:41:28.853119 19084 net.cpp:141] Setting up lstm2_transform_1
I0802 06:41:28.853180 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.853186 19084 net.cpp:156] Memory required for data: 66020
I0802 06:41:28.853206 19084 layer_factory.hpp:77] Creating layer lstm2_gate_input_1
I0802 06:41:28.853229 19084 net.cpp:91] Creating Layer lstm2_gate_input_1
I0802 06:41:28.853235 19084 net.cpp:425] lstm2_gate_input_1 <- W_hc_h_0
I0802 06:41:28.853243 19084 net.cpp:425] lstm2_gate_input_1 <- W_xc_x_1
I0802 06:41:28.853253 19084 net.cpp:399] lstm2_gate_input_1 -> gate_input_1
I0802 06:41:28.853299 19084 net.cpp:141] Setting up lstm2_gate_input_1
I0802 06:41:28.853307 19084 net.cpp:148] Top shape: 1 1 4000 (4000)
I0802 06:41:28.853312 19084 net.cpp:156] Memory required for data: 82020
I0802 06:41:28.853315 19084 layer_factory.hpp:77] Creating layer lstm2_unit_1
I0802 06:41:28.853327 19084 net.cpp:91] Creating Layer lstm2_unit_1
I0802 06:41:28.853332 19084 net.cpp:425] lstm2_unit_1 <- c_0
I0802 06:41:28.853337 19084 net.cpp:425] lstm2_unit_1 <- gate_input_1
I0802 06:41:28.853341 19084 net.cpp:425] lstm2_unit_1 <- cont_1_lstm2_cont_slice_0_split_1
I0802 06:41:28.853348 19084 net.cpp:399] lstm2_unit_1 -> c_1
I0802 06:41:28.853354 19084 net.cpp:399] lstm2_unit_1 -> h_1
I0802 06:41:28.853411 19084 net.cpp:141] Setting up lstm2_unit_1
I0802 06:41:28.853420 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.853425 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.853430 19084 net.cpp:156] Memory required for data: 90020
I0802 06:41:28.853442 19084 layer_factory.hpp:77] Creating layer lstm2_
I0802 06:41:28.853451 19084 net.cpp:91] Creating Layer lstm2_
I0802 06:41:28.853454 19084 net.cpp:425] lstm2_ <- c_1
I0802 06:41:28.853466 19084 net.cpp:399] lstm2_ -> c_T
I0802 06:41:28.853494 19084 net.cpp:141] Setting up lstm2_
I0802 06:41:28.853502 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.853505 19084 net.cpp:156] Memory required for data: 94020
I0802 06:41:28.853510 19084 layer_factory.hpp:77] Creating layer lstm2_h_concat
I0802 06:41:28.853519 19084 net.cpp:91] Creating Layer lstm2_h_concat
I0802 06:41:28.853523 19084 net.cpp:425] lstm2_h_concat <- h_1
I0802 06:41:28.853529 19084 net.cpp:399] lstm2_h_concat -> h
I0802 06:41:28.853564 19084 net.cpp:141] Setting up lstm2_h_concat
I0802 06:41:28.853570 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.853574 19084 net.cpp:156] Memory required for data: 98020
I0802 06:41:28.853579 19084 layer_factory.hpp:77] Creating layer h_pseudoloss
I0802 06:41:28.853587 19084 net.cpp:91] Creating Layer h_pseudoloss
I0802 06:41:28.853591 19084 net.cpp:425] h_pseudoloss <- h
I0802 06:41:28.853598 19084 net.cpp:399] h_pseudoloss -> h_pseudoloss
I0802 06:41:28.853678 19084 net.cpp:141] Setting up h_pseudoloss
I0802 06:41:28.853687 19084 net.cpp:148] Top shape: (1)
I0802 06:41:28.853690 19084 net.cpp:151]     with loss weight 1
I0802 06:41:28.853710 19084 net.cpp:156] Memory required for data: 98024
I0802 06:41:28.853715 19084 net.cpp:217] h_pseudoloss needs backward computation.
I0802 06:41:28.853719 19084 net.cpp:217] lstm2_h_concat needs backward computation.
I0802 06:41:28.853724 19084 net.cpp:219] lstm2_ does not need backward computation.
I0802 06:41:28.853727 19084 net.cpp:217] lstm2_unit_1 needs backward computation.
I0802 06:41:28.853732 19084 net.cpp:217] lstm2_gate_input_1 needs backward computation.
I0802 06:41:28.853739 19084 net.cpp:217] lstm2_transform_1 needs backward computation.
I0802 06:41:28.853754 19084 net.cpp:219] lstm2_h_conted_0 does not need backward computation.
I0802 06:41:28.853759 19084 net.cpp:217] lstm2_W_xc_x_slice needs backward computation.
I0802 06:41:28.853762 19084 net.cpp:217] lstm2_x_transform needs backward computation.
I0802 06:41:28.853767 19084 net.cpp:219] cont_1_lstm2_cont_slice_0_split does not need backward computation.
I0802 06:41:28.853771 19084 net.cpp:219] lstm2_cont_slice does not need backward computation.
I0802 06:41:28.853776 19084 net.cpp:219] lstm2_ does not need backward computation.
I0802 06:41:28.853780 19084 net.cpp:219] lstm2_ does not need backward computation.
I0802 06:41:28.853785 19084 net.cpp:261] This network produces output c_T
I0802 06:41:28.853788 19084 net.cpp:261] This network produces output h_pseudoloss
I0802 06:41:28.853801 19084 net.cpp:274] Network initialization done.
I0802 06:41:28.853847 19084 recurrent_layer.cpp:150] Adding parameter 0: W_xc
I0802 06:41:28.853852 19084 recurrent_layer.cpp:150] Adding parameter 1: b_c
I0802 06:41:28.853857 19084 recurrent_layer.cpp:150] Adding parameter 2: W_hc
I0802 06:41:28.853946 19084 net.cpp:141] Setting up lstm2
I0802 06:41:28.853957 19084 net.cpp:148] Top shape: 1 1 1000 (1000)
I0802 06:41:28.853961 19084 net.cpp:156] Memory required for data: 36412
I0802 06:41:28.853974 19084 layer_factory.hpp:77] Creating layer predict
I0802 06:41:28.853986 19084 net.cpp:91] Creating Layer predict
I0802 06:41:28.853991 19084 net.cpp:425] predict <- lstm2
I0802 06:41:28.853998 19084 net.cpp:399] predict -> predict
I0802 06:41:28.999238 19094 upgrade_proto.cpp:43] Attempting to upgrade input file specified using deprecated transformation parameters: /tmp/cvld1875412156590970052/bvlc_reference_caffenet.caffemodel
I0802 06:41:28.999281 19094 upgrade_proto.cpp:46] Successfully upgraded file specified using deprecated data transformation parameters.
W0802 06:41:28.999287 19094 upgrade_proto.cpp:48] Note that future Caffe releases will only support transform_param messages for transformation fields.
I0802 06:41:28.999291 19094 upgrade_proto.cpp:52] Attempting to upgrade input file specified using deprecated V1LayerParameter: /tmp/cvld1875412156590970052/bvlc_reference_caffenet.caffemodel
I0802 06:41:29.257477 19084 net.cpp:141] Setting up predict
I0802 06:41:29.257522 19084 net.cpp:148] Top shape: 1 1 46168 (46168)
I0802 06:41:29.257529 19084 net.cpp:156] Memory required for data: 221084
I0802 06:41:29.257551 19084 layer_factory.hpp:77] Creating layer probs
I0802 06:41:29.257570 19084 net.cpp:91] Creating Layer probs
I0802 06:41:29.257576 19084 net.cpp:425] probs <- predict
I0802 06:41:29.257588 19084 net.cpp:399] probs -> probs
I0802 06:41:29.258512 19084 net.cpp:141] Setting up probs
I0802 06:41:29.258528 19084 net.cpp:148] Top shape: 1 1 46168 (46168)
I0802 06:41:29.258533 19084 net.cpp:156] Memory required for data: 405756
I0802 06:41:29.258538 19084 net.cpp:219] probs does not need backward computation.
I0802 06:41:29.258543 19084 net.cpp:219] predict does not need backward computation.
I0802 06:41:29.258549 19084 net.cpp:219] lstm2 does not need backward computation.
I0802 06:41:29.258554 19084 net.cpp:219] concat does not need backward computation.
I0802 06:41:29.258560 19084 net.cpp:219] lstm1 does not need backward computation.
I0802 06:41:29.258565 19084 net.cpp:219] embedding does not need backward computation.
I0802 06:41:29.258570 19084 net.cpp:219] reshape_stage_indicator does not need backward computation.
I0802 06:41:29.258576 19084 net.cpp:219] reshape_frames does not need backward computation.
I0802 06:41:29.258594 19084 net.cpp:219] embed_encoder does not need backward computation.
I0802 06:41:29.258599 19084 net.cpp:219] cont_sentence_input_1_split does not need backward computation.
I0802 06:41:29.258604 19084 net.cpp:219] input does not need backward computation.
I0802 06:41:29.258607 19084 net.cpp:261] This network produces output probs
I0802 06:41:29.258623 19084 net.cpp:274] Network initialization done.
I0802 06:41:29.370863 19094 upgrade_proto.cpp:60] Successfully upgraded file specified using deprecated V1LayerParameter
I0802 06:41:29.426159 19094 net.cpp:752] Ignoring source layer loss
I0802 06:41:29.599869 19084 net.cpp:752] Ignoring source layer data
I0802 06:41:29.599910 19084 net.cpp:752] Ignoring source layer cont_sentence_data_0_split
I0802 06:41:29.599915 19084 net.cpp:752] Ignoring source layer reshape_stg_indicator
I0802 06:41:29.698709 19084 net.cpp:752] Ignoring source layer cross_entropy_loss
